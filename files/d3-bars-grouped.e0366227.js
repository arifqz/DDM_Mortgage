!function(){"use strict";var t="http://www.w3.org/1999/xhtml",e={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),e.hasOwnProperty(n)?{space:e[n],local:t}:t}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t&&n.documentElement.namespaceURI===t?n.createElement(e):n.createElementNS(r,e)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t){var e=n(t);return(e.local?o:r)(e)}function a(){}function l(t){return null==t?a:function(){return this.querySelector(t)}}function s(){return[]}function c(t){return new Array(t.length)}function u(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}u.prototype={constructor:u,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var f="$";function h(t,e,n,r,o,i){for(var a,l=0,s=e.length,c=i.length;l<c;++l)(a=e[l])?(a.__data__=i[l],r[l]=a):n[l]=new u(t,i[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function p(t,e,n,r,o,i,a){var l,s,c,h={},p=e.length,d=i.length,g=new Array(p);for(l=0;l<p;++l)(s=e[l])&&(g[l]=c=f+a.call(s,s.__data__,l,e),c in h?o[l]=s:h[c]=s);for(l=0;l<d;++l)(s=h[c=f+a.call(t,i[l],l,i)])?(r[l]=s,s.__data__=i[l],h[c]=null):n[l]=new u(t,i[l]);for(l=0;l<p;++l)(s=e[l])&&h[g[l]]===s&&(o[l]=s)}function d(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function b(t,e){return function(){this.setAttribute(t,e)}}function y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function x(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function k(t){return function(){this.style.removeProperty(t)}}function M(t,e,n){return function(){this.style.setProperty(t,e,n)}}function A(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function E(t){return function(){delete this[t]}}function T(t,e){return function(){this[t]=e}}function _(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function O(t){return t.trim().split(/^|\s+/)}function N(t){return t.classList||new S(t)}function S(t){this._node=t,this._names=O(t.getAttribute("class")||"")}function L(t,e){for(var n=N(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function C(t,e){for(var n=N(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function D(t){return function(){L(this,t)}}function $(t){return function(){C(this,t)}}function j(t,e){return function(){(e.apply(this,arguments)?L:C)(this,t)}}function R(){this.textContent=""}function I(t){return function(){this.textContent=t}}function z(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function F(){this.innerHTML=""}function P(t){return function(){this.innerHTML=t}}function B(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function U(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y(){return null}function W(){var t=this.parentNode;t&&t.removeChild(this)}function G(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}S.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var V={},K=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(V={mouseenter:"mouseover",mouseleave:"mouseout"}));function X(t,e,n){return t=Z(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Z(t,e,n){return function(r){var o=K;K=r;try{t.call(this,this.__data__,e,n)}finally{K=o}}}function J(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function Q(t,e,n){var r=V.hasOwnProperty(t.type)?X:Z;return function(o,i,a){var l,s=this.__on,c=r(e,i,a);if(s)for(var u=0,f=s.length;u<f;++u)if((l=s[u]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),void(l.value=e);this.addEventListener(t.type,c,n),l={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(l):this.__on=[l]}}function tt(t,e,n){var r=x(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function et(t,e){return function(){return tt(this,t,e)}}function nt(t,e){return function(){return tt(this,t,e.apply(this,arguments))}}var rt=[null];function ot(t,e){this._groups=t,this._parents=e}function it(){return new ot([[document.documentElement]],rt)}function at(t){return"string"==typeof t?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],rt)}function lt(){for(var t,e=K;t=e.sourceEvent;)e=t;return e}function st(t){var e=lt();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}(t,e)}ot.prototype=it.prototype={constructor:ot,select:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],c=s.length,u=r[o]=new Array(c),f=0;f<c;++f)(i=s[f])&&(a=t.call(i,i.__data__,f,s))&&("__data__"in i&&(a.__data__=i.__data__),u[f]=a);return new ot(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?s:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,l=e[i],c=l.length,u=0;u<c;++u)(a=l[u])&&(r.push(t.call(a,a.__data__,u,l)),o.push(a));return new ot(r,o)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],l=a.length,s=r[o]=[],c=0;c<l;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&s.push(i);return new ot(r,this._parents)},data:function(t,e){if(!t)return m=new Array(this.size()),u=-1,this.each((function(t){m[++u]=t})),m;var n,r=e?p:h,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,l=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var f=o[u],d=i[u],g=d.length,m=t.call(f,f&&f.__data__,u,o),b=m.length,y=s[u]=new Array(b),v=l[u]=new Array(b);r(f,d,y,v,c[u]=new Array(g),m,e);for(var w,x,k=0,M=0;k<b;++k)if(w=y[k]){for(k>=M&&(M=k+1);!(x=v[M])&&++M<b;);w._next=x||null}}return(l=new ot(l,o))._enter=s,l._exit=c,l},enter:function(){return new ot(this._enter||this._groups.map(c),this._parents)},exit:function(){return new ot(this._exit||this._groups.map(c),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),l=0;l<i;++l)for(var s,c=e[l],u=n[l],f=c.length,h=a[l]=new Array(f),p=0;p<f;++p)(s=c[p]||u[p])&&(h[p]=s);for(;l<r;++l)a[l]=e[l];return new ot(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=d);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,l=n[i],s=l.length,c=o[i]=new Array(s),u=0;u<s;++u)(a=l[u])&&(c[u]=a);c.sort(e)}return new ot(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,l=i.length;a<l;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var r=n(t);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((null==e?r.local?m:g:"function"==typeof e?r.local?w:v:r.local?y:b)(r,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?k:"function"==typeof e?A:M)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||x(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?E:"function"==typeof e?_:T)(t,e)):this.node()[t]},classed:function(t,e){var n=O(t+"");if(arguments.length<2){for(var r=N(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?j:e?D:$)(n,e))},text:function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?z:I)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?B:P)(t)):this.node().innerHTML},raise:function(){return this.each(U)},lower:function(){return this.each(H)},append:function(t){var e="function"==typeof t?t:i(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:i(t),r=null==e?Y:"function"==typeof e?e:l(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(W)},clone:function(t){return this.select(t?q:G)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(l=e?Q:J,null==n&&(n=!1),r=0;r<a;++r)this.each(l(i[r],e,n));return this}var l=this.node().__on;if(l)for(var s,c=0,u=l.length;c<u;++c)for(r=0,s=l[c];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?nt:et)(t,e))}};var ct="$";function ut(){}function ft(t,e){var n=new ut;if(t instanceof ut)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function ht(){var t,e,n,r=[],o=[];function i(n,o,a,l){if(o>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var s,c,u,f=-1,h=n.length,p=r[o++],d=ft(),g=a();++f<h;)(u=d.get(s=p(c=n[f])+""))?u.push(c):d.set(s,[c]);return d.each((function(t,e){l(g,e,i(t,o,a,l))})),g}function a(t,n){if(++n>r.length)return t;var i,l=o[n-1];return null!=e&&n>=r.length?i=t.entries():(i=[],t.each((function(t,e){i.push({key:e,values:a(t,n)})}))),null!=l?i.sort((function(t,e){return l(t.key,e.key)})):i}return n={object:function(t){return i(t,0,pt,dt)},map:function(t){return i(t,0,gt,mt)},entries:function(t){return a(i(t,0,gt,mt),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return o[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function pt(){return{}}function dt(t,e,n){t[e]=n}function gt(){return ft()}function mt(t,e,n){t.set(e,n)}function bt(){}ut.prototype=ft.prototype={constructor:ut,has:function(t){return ct+t in this},get:function(t){return this[ct+t]},set:function(t,e){return this[ct+t]=e,this},remove:function(t){var e=ct+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ct&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ct&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ct&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ct&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ct&&++t;return t},empty:function(){for(var t in this)if(t[0]===ct)return!1;return!0},each:function(t){for(var e in this)e[0]===ct&&t(this[e],e.slice(1),this)}};var yt=ft.prototype;function vt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wt(t){return 1===t.length&&(t=function(t){return function(e,n){return vt(t(e),n)}}(t)),{left:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}bt.prototype={constructor:bt,has:yt.has,add:function(t){return this[ct+(t+="")]=t,this},remove:yt.remove,clear:yt.clear,values:yt.keys,size:yt.size,empty:yt.empty,each:yt.each};var xt=wt(vt).right;function kt(t,e){var n,r,o,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=o=n;++a<i;)null!=(n=t[a])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=o=n;++a<i;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]}var Mt=Math.sqrt(50),At=Math.sqrt(10),Et=Math.sqrt(2);function Tt(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Mt?10:i>=At?5:i>=Et?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Mt?10:i>=At?5:i>=Et?2:1)}function _t(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Mt?o*=10:i>=At?o*=5:i>=Et&&(o*=2),e<t?-o:o}function Ot(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<o;)null!=(n=t[i])&&n>r&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&n>r&&(r=n);return r}function Nt(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<o;)null!=(n=t[i])&&r>n&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&r>n&&(r=n);return r}function St(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Lt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ct(){}var Dt=.7,$t=1/Dt,jt="\\s*([+-]?\\d+)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zt=/^#([0-9a-f]{3,8})$/,Ft=new RegExp("^rgb\\("+[jt,jt,jt]+"\\)$"),Pt=new RegExp("^rgb\\("+[It,It,It]+"\\)$"),Bt=new RegExp("^rgba\\("+[jt,jt,jt,Rt]+"\\)$"),Ut=new RegExp("^rgba\\("+[It,It,It,Rt]+"\\)$"),Ht=new RegExp("^hsl\\("+[Rt,It,It]+"\\)$"),Yt=new RegExp("^hsla\\("+[Rt,It,It,Rt]+"\\)$"),Wt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gt(){return this.rgb().formatHex()}function qt(){return this.rgb().formatRgb()}function Vt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Kt(e):3===n?new Qt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ft.exec(t))?new Qt(e[1],e[2],e[3],1):(e=Pt.exec(t))?new Qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Bt.exec(t))?Xt(e[1],e[2],e[3],e[4]):(e=Ut.exec(t))?Xt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ht.exec(t))?re(e[1],e[2]/100,e[3]/100,1):(e=Yt.exec(t))?re(e[1],e[2]/100,e[3]/100,e[4]):Wt.hasOwnProperty(t)?Kt(Wt[t]):"transparent"===t?new Qt(NaN,NaN,NaN,0):null}function Kt(t){return new Qt(t>>16&255,t>>8&255,255&t,1)}function Xt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function Zt(t){return t instanceof Ct||(t=Vt(t)),t?new Qt((t=t.rgb()).r,t.g,t.b,t.opacity):new Qt}function Jt(t,e,n,r){return 1===arguments.length?Zt(t):new Qt(t,e,n,null==r?1:r)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function te(){return"#"+ne(this.r)+ne(this.g)+ne(this.b)}function ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ne(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function re(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ae(t,e,n,r)}function oe(t){if(t instanceof ae)return new ae(t.h,t.s,t.l,t.opacity);if(t instanceof Ct||(t=Vt(t)),!t)return new ae;if(t instanceof ae)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new ae(a,l,s,t.opacity)}function ie(t,e,n,r){return 1===arguments.length?oe(t):new ae(t,e,n,null==r?1:r)}function ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function le(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}St(Ct,Vt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Gt,formatHex:Gt,formatHsl:function(){return oe(this).formatHsl()},formatRgb:qt,toString:qt}),St(Qt,Jt,Lt(Ct,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Dt:Math.pow(Dt,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:ee,toString:ee})),St(ae,ie,Lt(Ct,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new ae(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Dt:Math.pow(Dt,t),new ae(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Qt(le(t>=240?t-240:t+120,o,r),le(t,o,r),le(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var se=Math.PI/180,ce=180/Math.PI,ue=.96422,fe=1,he=.82521,pe=4/29,de=6/29,ge=3*de*de,me=de*de*de;function be(t){if(t instanceof ve)return new ve(t.l,t.a,t.b,t.opacity);if(t instanceof Te)return _e(t);t instanceof Qt||(t=Zt(t));var e,n,r=Me(t.r),o=Me(t.g),i=Me(t.b),a=we((.2225045*r+.7168786*o+.0606169*i)/fe);return r===o&&o===i?e=n=a:(e=we((.4360747*r+.3850649*o+.1430804*i)/ue),n=we((.0139322*r+.0971045*o+.7141733*i)/he)),new ve(116*a-16,500*(e-a),200*(a-n),t.opacity)}function ye(t,e,n,r){return 1===arguments.length?be(t):new ve(t,e,n,null==r?1:r)}function ve(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function we(t){return t>me?Math.pow(t,1/3):t/ge+pe}function xe(t){return t>de?t*t*t:ge*(t-pe)}function ke(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ae(t){if(t instanceof Te)return new Te(t.h,t.c,t.l,t.opacity);if(t instanceof ve||(t=be(t)),0===t.a&&0===t.b)return new Te(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ce;return new Te(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ee(t,e,n,r){return 1===arguments.length?Ae(t):new Te(t,e,n,null==r?1:r)}function Te(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function _e(t){if(isNaN(t.h))return new ve(t.l,0,0,t.opacity);var e=t.h*se;return new ve(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}St(ve,ye,Lt(Ct,{brighter:function(t){return new ve(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ve(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Qt(ke(3.1338561*(e=ue*xe(e))-1.6168667*(t=fe*xe(t))-.4906146*(n=he*xe(n))),ke(-.9787684*e+1.9161415*t+.033454*n),ke(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),St(Te,Ee,Lt(Ct,{brighter:function(t){return new Te(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Te(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return _e(this).rgb()}}));var Oe=-.14861,Ne=1.78277,Se=-.29227,Le=-.90649,Ce=1.97294,De=Ce*Le,$e=Ce*Ne,je=Ne*Se-Le*Oe;function Re(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);t instanceof Qt||(t=Zt(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(je*r+De*e-$e*n)/(je+De-$e),i=r-o,a=(Ce*(n-o)-Se*i)/Le,l=Math.sqrt(a*a+i*i)/(Ce*o*(1-o)),s=l?Math.atan2(a,i)*ce-120:NaN;return new Ie(s<0?s+360:s,l,o,t.opacity)}(t):new Ie(t,e,n,null==r?1:r)}function Ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}St(Ie,Re,Lt(Ct,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Dt:Math.pow(Dt,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*se,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new Qt(255*(e+n*(Oe*r+Ne*o)),255*(e+n*(Se*r+Le*o)),255*(e+n*(Ce*r)),this.opacity)}}));var ze=Object.freeze({__proto__:null,color:Vt,rgb:Jt,hsl:ie,lab:ye,hcl:Ee,lch:function(t,e,n,r){return 1===arguments.length?Ae(t):new Te(n,e,t,null==r?1:r)},gray:function(t,e){return new ve(t,0,0,null==e?1:e)},cubehelix:Re});function Fe(t){return function(){return t}}function Pe(t){return 1==(t=+t)?Be:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Fe(isNaN(e)?n:e)}}function Be(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Fe(isNaN(t)?e:t)}var Ue=function t(e){var n=Pe(e);function r(t,e){var r=n((t=Jt(t)).r,(e=Jt(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=Be(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function He(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function Ye(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=Ze(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function We(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ge(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qe(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ze(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var Ve=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ke=new RegExp(Ve.source,"g");function Xe(t,e){var n,r,o,i=Ve.lastIndex=Ke.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=Ve.exec(t))&&(r=Ke.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Ge(n,r)})),i=Ke.lastIndex;return i<e.length&&(o=e.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function Ze(t,e){var n,r,o=typeof e;return null==e||"boolean"===o?Fe(e):("number"===o?Ge:"string"===o?(n=Vt(e))?(e=n,Ue):Xe:e instanceof Vt?Ue:e instanceof Date?We:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Ye:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?qe:Ge:He))(t,e)}function Je(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qe(t,e){var n=Be((t=ye(t)).l,(e=ye(e)).l),r=Be(t.a,e.a),o=Be(t.b,e.b),i=Be(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=o(e),t.opacity=i(e),t+""}}function tn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var en=Array.prototype,nn=en.map,rn=en.slice;function on(t){return+t}var an=[0,1];function ln(t){return t}function sn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function cn(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function un(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=sn(o,r),i=n(a,i)):(r=sn(r,o),i=n(i,a)),function(t){return i(r(t))}}function fn(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=sn(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=xt(t,e,1,r)-1;return i[n](o[n](e))}}function hn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pn(t,e){return function(){var t,e,n,r,o,i,a=an,l=an,s=Ze,c=ln;function u(){return r=Math.min(a.length,l.length)>2?fn:un,o=i=null,f}function f(e){return isNaN(e=+e)?n:(o||(o=r(a.map(t),l,s)))(t(c(e)))}return f.invert=function(n){return c(e((i||(i=r(l,a.map(t),Ge)))(n)))},f.domain=function(t){return arguments.length?(a=nn.call(t,on),c===ln||(c=cn(a)),u()):a.slice()},f.range=function(t){return arguments.length?(l=rn.call(t),u()):l.slice()},f.rangeRound=function(t){return l=rn.call(t),s=Je,u()},f.clamp=function(t){return arguments.length?(c=t?cn(a):ln,f):c!==ln},f.interpolate=function(t){return arguments.length?(s=t,u()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}()(t,e)}function dn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gn(t){return(t=dn(Math.abs(t)))?t[1]:NaN}var mn,bn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yn(t){if(!(e=bn.exec(t)))throw new Error("invalid format: "+t);var e;return new vn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function vn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function wn(t,e){var n=dn(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}yn.prototype=vn.prototype,vn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var xn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return wn(100*t,e)},r:wn,s:function(t,e){var n=dn(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(mn=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+dn(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function kn(t){return t}var Mn,An,En,Tn=Array.prototype.map,_n=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function On(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?kn:(e=Tn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,l=e[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(t.substring(o-=l,o+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?kn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Tn.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=yn(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,b=t.trim,y=t.type;"n"===y?(g=!0,y="g"):xn[y]||(void 0===m&&(m=12),b=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var v="$"===h?o:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?i:/[%p]/.test(y)?s:"",x=xn[y],k=/[defgprs%]/.test(y);function M(t){var o,i,s,h=v,M=w;if("c"===y)M=x(t)+M,t="";else{var A=(t=+t)<0;if(t=isNaN(t)?u:x(Math.abs(t),m),b&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(o>0){if(!+t[r])break t;o=0}}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),A&&0==+t&&(A=!1),h=(A?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===y?_n[8+mn/3]:"")+M+(A&&"("===f?")":""),k)for(o=-1,i=t.length;++o<i;)if(48>(s=t.charCodeAt(o))||s>57){M=(46===s?a+t.slice(o+1):t.slice(o))+M,t=t.slice(0,o);break}}g&&!p&&(t=r(t,1/0));var E=h.length+t.length+M.length,T=E<d?new Array(d-E+1).join(e):"";switch(g&&p&&(t=r(T+t,T.length?d-M.length:1/0),T=""),n){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,E=T.length>>1)+h+t+M+T.slice(E);break;default:t=T+h+t+M}return l(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=yn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(gn(e)/3))),o=Math.pow(10,-r),i=_n[8+r/3];return function(t){return n(o*t)+i}}}}function Nn(t,e,n,r){var o,i=_t(t,e,n);switch((r=yn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gn(e)/3)))-gn(Math.abs(t)))}(i,a))||(r.precision=o),En(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gn(e)-gn(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-gn(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return An(r)}function Sn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,l=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=Tt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++l<o;)i[l]=(t+l)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),i=new Array(o=Math.ceil(t-e+1));++l<o;)i[l]=(t-l)/a;return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Nn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),i=0,a=o.length-1,l=o[i],s=o[a];return s<l&&(r=l,l=s,s=r,r=i,i=a,a=r),(r=Tt(l,s,n))>0?r=Tt(l=Math.floor(l/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=Tt(l=Math.ceil(l*r)/r,s=Math.floor(s*r)/r,n)),r>0?(o[i]=Math.floor(l/r)*r,o[a]=Math.ceil(s/r)*r,e(o)):r<0&&(o[i]=Math.ceil(l*r)/r,o[a]=Math.floor(s*r)/r,e(o)),t},t}function Ln(){var t=pn(ln,ln);return t.copy=function(){return hn(t,Ln())},tn.apply(t,arguments),Sn(t)}Mn=On({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),An=Mn.format,En=Mn.formatPrefix;var Cn=new Date,Dn=new Date;function $n(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var a,l=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return l},o.filter=function(n){return $n((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return Cn.setTime(+e),Dn.setTime(+r),t(Cn),t(Dn),Math.floor(n(Cn,Dn))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var jn=$n((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));jn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?$n((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):jn:null};var Rn=jn;jn.range;var In=1e3,zn=6e4,Fn=36e5,Pn=864e5,Bn=6048e5,Un=$n((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*In)}),(function(t,e){return(e-t)/In}),(function(t){return t.getUTCSeconds()})),Hn=Un;Un.range;var Yn=$n((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*In)}),(function(t,e){t.setTime(+t+e*zn)}),(function(t,e){return(e-t)/zn}),(function(t){return t.getMinutes()})),Wn=Yn;Yn.range;var Gn=$n((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*In-t.getMinutes()*zn)}),(function(t,e){t.setTime(+t+e*Fn)}),(function(t,e){return(e-t)/Fn}),(function(t){return t.getHours()})),qn=Gn;Gn.range;var Vn=$n((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/Pn}),(function(t){return t.getDate()-1})),Kn=Vn;function Xn(t){return $n((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/Bn}))}Vn.range;var Zn=Xn(0),Jn=Xn(1),Qn=Xn(2),tr=Xn(3),er=Xn(4),nr=Xn(5),rr=Xn(6);Zn.range,Jn.range,Qn.range,tr.range,er.range,nr.range,rr.range;var or=$n((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),ir=or;or.range;var ar=$n((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ar.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$n((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var lr=ar;ar.range;var sr=$n((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Pn}),(function(t){return t.getUTCDate()-1})),cr=sr;function ur(t){return $n((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Bn}))}sr.range;var fr=ur(0),hr=ur(1),pr=ur(2),dr=ur(3),gr=ur(4),mr=ur(5),br=ur(6);fr.range,hr.range,pr.range,dr.range,gr.range,mr.range,br.range;var yr=$n((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));yr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$n((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var vr=yr;function wr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}yr.range;var Mr,Ar,Er={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,_r=/^%/,Or=/[\\^$*+?|[\]().{}]/g;function Nr(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Sr(t){return t.replace(Or,"\\$&")}function Lr(t){return new RegExp("^(?:"+t.map(Sr).join("|")+")","i")}function Cr(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Dr(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $r(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jr(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Rr(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ir(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zr(t,e,n){var r=Tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fr(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Br(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ur(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Hr(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yr(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Wr(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gr(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qr(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Vr(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Kr(t,e,n){var r=Tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Xr(t,e,n){var r=_r.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Zr(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Jr(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Qr(t,e){return Nr(t.getDate(),e,2)}function to(t,e){return Nr(t.getHours(),e,2)}function eo(t,e){return Nr(t.getHours()%12||12,e,2)}function no(t,e){return Nr(1+Kn.count(lr(t),t),e,3)}function ro(t,e){return Nr(t.getMilliseconds(),e,3)}function oo(t,e){return ro(t,e)+"000"}function io(t,e){return Nr(t.getMonth()+1,e,2)}function ao(t,e){return Nr(t.getMinutes(),e,2)}function lo(t,e){return Nr(t.getSeconds(),e,2)}function so(t){var e=t.getDay();return 0===e?7:e}function co(t,e){return Nr(Zn.count(lr(t)-1,t),e,2)}function uo(t,e){var n=t.getDay();return t=n>=4||0===n?er(t):er.ceil(t),Nr(er.count(lr(t),t)+(4===lr(t).getDay()),e,2)}function fo(t){return t.getDay()}function ho(t,e){return Nr(Jn.count(lr(t)-1,t),e,2)}function po(t,e){return Nr(t.getFullYear()%100,e,2)}function go(t,e){return Nr(t.getFullYear()%1e4,e,4)}function mo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nr(e/60|0,"0",2)+Nr(e%60,"0",2)}function bo(t,e){return Nr(t.getUTCDate(),e,2)}function yo(t,e){return Nr(t.getUTCHours(),e,2)}function vo(t,e){return Nr(t.getUTCHours()%12||12,e,2)}function wo(t,e){return Nr(1+cr.count(vr(t),t),e,3)}function xo(t,e){return Nr(t.getUTCMilliseconds(),e,3)}function ko(t,e){return xo(t,e)+"000"}function Mo(t,e){return Nr(t.getUTCMonth()+1,e,2)}function Ao(t,e){return Nr(t.getUTCMinutes(),e,2)}function Eo(t,e){return Nr(t.getUTCSeconds(),e,2)}function To(t){var e=t.getUTCDay();return 0===e?7:e}function _o(t,e){return Nr(fr.count(vr(t)-1,t),e,2)}function Oo(t,e){var n=t.getUTCDay();return t=n>=4||0===n?gr(t):gr.ceil(t),Nr(gr.count(vr(t),t)+(4===vr(t).getUTCDay()),e,2)}function No(t){return t.getUTCDay()}function So(t,e){return Nr(hr.count(vr(t)-1,t),e,2)}function Lo(t,e){return Nr(t.getUTCFullYear()%100,e,2)}function Co(t,e){return Nr(t.getUTCFullYear()%1e4,e,4)}function Do(){return"+0000"}function $o(){return"%"}function jo(t){return+t}function Ro(t){return Math.floor(+t/1e3)}!function(t){Mr=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,l=t.months,s=t.shortMonths,c=Lr(o),u=Cr(o),f=Lr(i),h=Cr(i),p=Lr(a),d=Cr(a),g=Lr(l),m=Cr(l),b=Lr(s),y=Cr(s),v={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:Qr,e:Qr,f:oo,H:to,I:eo,j:no,L:ro,m:io,M:ao,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:jo,s:Ro,S:lo,u:so,U:co,V:uo,w:fo,W:ho,x:null,X:null,y:po,Y:go,Z:mo,"%":$o},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:bo,e:bo,f:ko,H:yo,I:vo,j:wo,L:xo,m:Mo,M:Ao,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:jo,s:Ro,S:Eo,u:To,U:_o,V:Oo,w:No,W:So,x:null,X:null,y:Lo,Y:Co,Z:Do,"%":$o},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:Hr,e:Hr,f:Kr,H:Wr,I:Wr,j:Yr,L:Vr,m:Ur,M:Gr,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:Br,Q:Zr,s:Jr,S:qr,u:$r,U:jr,V:Rr,w:Dr,W:Ir,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:Fr,Y:zr,Z:Pr,"%":Xr};function k(t,e){return function(n){var r,o,i,a=[],l=-1,s=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===t.charCodeAt(l)&&(a.push(t.slice(s,l)),null!=(o=Er[r=t.charAt(++l)])?r=t.charAt(++l):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),a.push(r),s=l+1);return a.push(t.slice(s,l)),a.join("")}}function M(t,e){return function(n){var r,o,i=kr(1900,void 0,1);if(A(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=xr(kr(i.y,0,1))).getUTCDay(),r=o>4||0===o?hr.ceil(r):hr(r),r=cr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=wr(kr(i.y,0,1))).getDay(),r=o>4||0===o?Jn.ceil(r):Jn(r),r=Kn.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?xr(kr(i.y,0,1)).getUTCDay():wr(kr(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,xr(i)):wr(i)}}function A(t,e,n,r){for(var o,i,a=0,l=e.length,s=n.length;a<l;){if(r>=s)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(i=x[o in Er?e.charAt(a++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return v.x=k(n,v),v.X=k(r,v),v.c=k(e,v),w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),{format:function(t){var e=k(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}(t),Ar=Mr.format,Mr.parse,Mr.utcFormat,Mr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Io=1e3,zo=60*Io,Fo=60*zo,Po=24*Fo,Bo=7*Po,Uo=30*Po,Ho=365*Po;function Yo(t){return new Date(t)}function Wo(t){return t instanceof Date?+t:+new Date(+t)}function Go(t,e,n,r,o,i,a,l,s){var c=pn(ln,ln),u=c.invert,f=c.domain,h=s(".%L"),p=s(":%S"),d=s("%I:%M"),g=s("%I %p"),m=s("%a %d"),b=s("%b %d"),y=s("%B"),v=s("%Y"),w=[[a,1,Io],[a,5,5*Io],[a,15,15*Io],[a,30,30*Io],[i,1,zo],[i,5,5*zo],[i,15,15*zo],[i,30,30*zo],[o,1,Fo],[o,3,3*Fo],[o,6,6*Fo],[o,12,12*Fo],[r,1,Po],[r,2,2*Po],[n,1,Bo],[e,1,Uo],[e,3,3*Uo],[t,1,Ho]];function x(l){return(a(l)<l?h:i(l)<l?p:o(l)<l?d:r(l)<l?g:e(l)<l?n(l)<l?m:b:t(l)<l?y:v)(l)}function k(e,n,r,o){if(null==e&&(e=10),"number"==typeof e){var i=Math.abs(r-n)/e,a=wt((function(t){return t[2]})).right(w,i);a===w.length?(o=_t(n/Ho,r/Ho,e),e=t):a?(o=(a=w[i/w[a-1][2]<w[a][2]/i?a-1:a])[1],e=a[0]):(o=Math.max(_t(n,r,e),1),e=l)}return null==o?e:e.every(o)}return c.invert=function(t){return new Date(u(t))},c.domain=function(t){return arguments.length?f(nn.call(t,Wo)):f().map(Yo)},c.ticks=function(t,e){var n,r=f(),o=r[0],i=r[r.length-1],a=i<o;return a&&(n=o,o=i,i=n),n=(n=k(t,o,i,e))?n.range(o,i+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?x:s(e)},c.nice=function(t,e){var n=f();return(t=k(t,n[0],n[n.length-1],e))?f(function(t,e){var n,r=0,o=(t=t.slice()).length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}(n,t)):c},c.copy=function(){return hn(c,Go(t,e,n,r,o,i,a,l,s))},c}function qo(){return tn.apply(Go(lr,ir,Zn,Kn,qn,Wn,Hn,Rn,Ar).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vo(t,e,n,r){const o=ye(t),[i,a]=n?[Math.min(o.l,r[0]),Math.max(o.l,r[1])]:r;let l=1===e?[o.l]:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(Ze(i,a),e);if(n&&!l.includes(o.l)){const t=l.reduce(((t,e)=>Math.abs(t)>Math.abs(o.l-e)?o.l-e:t),100);l=l.map((e=>e+t))}return l=l.map((t=>ye(t,o.a,o.b))),l.map((t=>t.hex()))}function Ko(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error("cant create getColor function without theme"),{selectedColor:e=0,customColors:n={},keys:r=[],permute:o,includeBaseColor:i=!0,lightnessRange:a=[30,90],positiveColor:l=!1,negativeColor:s=!1,negativeColorValue:c=null,neutralColor:u=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const f=t.colors.palette,h=ei(e,f),p="number"==typeof e?e:f.indexOf(e);c=ei(c,f);const d=r.length-Object.keys(n).filter((t=>""!==n[t].toString()&&r.includes(t))).length,g=[];if(n&&Object.keys(n).length){const t={};Object.keys(n).forEach((e=>{String(n[e]).length&&(t[e]=isNaN(n[e])?n[e]:f[n[e]%f.length])})),Object.keys(t).length&&g.push(Xo(t))}var m;(l||s||u)&&g.push(Zo(l?t.colors.positive:h,s?null!==(m=c)&&void 0!==m?m:t.colors.negative:h,u?t.colors.neutral:l?t.colors.positive:h));const{mode:b}=t.colors;if(b&&d>0&&(b.rotateLimit>=d&&p>-1?g.push(Jo(f,p)):b.shades&&b.shades[h]&&g.push(Qo(b.shades[h],d))),d>0){o=void 0===o?d>4:o,a=d<=3?[30,60]:a;let t=Vo(h,d,i,a);o&&(t=function(t){t.reverse();const e=t.length;if(e<3)return t.slice(0);let n=0,r=-2;const o=[],i={},a=Math.ceil(e/2.5);do{n%=e,!i[n]&&(e<5||Math.abs(r-n)>1)?(o.push(t[n]),i[n]=!0,r=n,n+=a):n+=1}while(o.length<e);return o}(t)),g.push(ti(t))}return(t,e,n)=>{let r=null;return g.find((o=>(r=o({key:t,i:e,value:n}),null!=r))),null==r&&(r=h),r}}const Xo=t=>e=>({}.hasOwnProperty.call(t,e.key)?t[String(e.key)]:null),Zo=(t,e,n)=>r=>r.value>0?t:r.value<0?e:n,Jo=(t,e)=>n=>t[(Math.max(0,e)+n.i)%t.length],Qo=(t,e)=>function(n){if("string"!=typeof t[0]){t.sort((function(t,e){return t.length-e.length}));let r=t.length-1;return t.forEach((function(t,n){e>(t[n-1]||[]).length&&e<=t.length&&(r=n)})),t[r][n.i%t[r].length]}return t[n.i%t.length]},ti=t=>{let e=0;const n=[];return r=>n[r.i]?n[r.i]:e!==t.length?n[r.i]=t[e++]:null},ei=(t,e)=>null===t?e[0]:isNaN(t)?t:e[t%e.length];function ni(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ri="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function oi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ii(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){if(this instanceof t){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(e,n))}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var ai,li,si,ci,ui,fi,hi,pi,di,gi,mi,bi,yi,vi,wi,xi,ki,Mi,Ai={exports:{}};!function(t,e){!function(t){function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function a(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function x(t,e,n){t.classList[n?"add":"remove"](e)}let k;function M(t){k=t}function A(){const t=function(){if(!k)throw new Error("Function called outside component initialization");return k}();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.$$.callbacks[e];if(o){const i=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}function E(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const T=[],_=[];let O=[];const N=[],S=Promise.resolve();let L=!1;function C(){L||(L=!0,S.then(I))}function D(){return C(),S}function $(t){O.push(t)}const j=new Set;let R=0;function I(){if(0!==R)return;const t=k;do{try{for(;R<T.length;){const t=T[R];R++,M(t),z(t.$$)}}catch(t){throw T.length=0,R=0,t}for(M(null),T.length=0,R=0;_.length;)_.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];j.has(e)||(j.add(e),e())}O.length=0}while(T.length);for(;N.length;)N.pop()();L=!1,j.clear(),M(t)}function z(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}const F=new Set;let P;function B(){P={r:0,c:[],p:P}}function U(){P.r||i(P.c),P=P.p}function H(t,e){t&&t.i&&(F.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),P.c.push((()=>{F.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function W(t){t&&t.c()}function G(t,e,n,o){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),o||$((()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),s.forEach($)}function q(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];O.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),O=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,n,r,a,l,s,c){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const h=k;M(t);const p=t.$$={fragment:null,ctx:[],props:s,update:e,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(p.root);let d=!1;if(p.ctx=r?r(t,n.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),d&&function(t,e){-1===t.$$.dirty[0]&&(T.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],p.update(),d=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&H(t.$$.fragment),G(t,n.target,n.anchor,n.customElement),I()}M(h)}class K{$destroy(){q(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==ri?ri:"undefined"!=typeof self?self:{};function Z(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var Q=J((function(t,e){
/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */
t.exports=function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(t,r,o){return n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(t,o));return r&&e(i,r.prototype),i},n.apply(null,arguments)}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=Object.hasOwnProperty,a=Object.setPrototypeOf,l=Object.isFrozen,s=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,u=Object.freeze,f=Object.seal,h=Object.create,p="undefined"!=typeof Reflect&&Reflect,d=p.apply,g=p.construct;d||(d=function(t,e,n){return t.apply(e,n)}),u||(u=function(t){return t}),f||(f=function(t){return t}),g||(g=function(t,e){return n(t,r(e))});var m=_(Array.prototype.forEach),b=_(Array.prototype.pop),y=_(Array.prototype.push),v=_(String.prototype.toLowerCase),w=_(String.prototype.toString),x=_(String.prototype.match),k=_(String.prototype.replace),M=_(String.prototype.indexOf),A=_(String.prototype.trim),E=_(RegExp.prototype.test),T=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(t,n)}}(TypeError);function _(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return d(t,e,r)}}function O(t,e,n){n=n||v,a&&a(t,null);for(var r=e.length;r--;){var o=e[r];if("string"==typeof o){var i=n(o);i!==o&&(l(e)||(e[r]=i),o=i)}t[o]=!0}return t}function N(t){var e,n=h(null);for(e in t)!0===d(i,t,[e])&&(n[e]=t[e]);return n}function S(t,e){for(;null!==t;){var n=c(t,e);if(n){if(n.get)return _(n.get);if("function"==typeof n.value)return _(n.value)}t=s(t)}return function(t){return console.warn("fallback value for",t),null}}var L=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$=u(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),R=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I=u(["#text"]),z=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),H=f(/<%[\w\W]*|[\w\W]*%>/gm),Y=f(/\${[\w\W]*}/gm),W=f(/^data-[\-\w.\u00B7-\uFFFF]/),G=f(/^aria-[\-\w]+$/),q=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=f(/^(?:\w+script|data):/i),K=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=f(/^html$/i),Z=function(){return"undefined"==typeof window?null:window},J=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Q=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),o=function(t){return e(t)};if(o.version="2.4.3",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;var i=n.document,a=n.document,l=n.DocumentFragment,s=n.HTMLTemplateElement,c=n.Node,f=n.Element,h=n.NodeFilter,p=n.NamedNodeMap,d=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,g=n.HTMLFormElement,_=n.DOMParser,Q=n.trustedTypes,tt=f.prototype,et=S(tt,"cloneNode"),nt=S(tt,"nextSibling"),rt=S(tt,"childNodes"),ot=S(tt,"parentNode");if("function"==typeof s){var it=a.createElement("template");it.content&&it.content.ownerDocument&&(a=it.content.ownerDocument)}var at=J(Q,i),lt=at?at.createHTML(""):"",st=a,ct=st.implementation,ut=st.createNodeIterator,ft=st.createDocumentFragment,ht=st.getElementsByTagName,pt=i.importNode,dt={};try{dt=N(a).documentMode?a.documentMode:{}}catch(t){}var gt={};o.isSupported="function"==typeof ot&&ct&&void 0!==ct.createHTMLDocument&&9!==dt;var mt,bt,yt=U,vt=H,wt=Y,xt=W,kt=G,Mt=V,At=K,Et=q,Tt=null,_t=O({},[].concat(r(L),r(C),r(D),r(j),r(I))),Ot=null,Nt=O({},[].concat(r(z),r(F),r(P),r(B))),St=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Lt=null,Ct=null,Dt=!0,$t=!0,jt=!1,Rt=!1,It=!1,zt=!1,Ft=!1,Pt=!1,Bt=!1,Ut=!1,Ht=!0,Yt=!1,Wt=!0,Gt=!1,qt={},Vt=null,Kt=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xt=null,Zt=O({},["audio","video","img","source","image","track"]),Jt=null,Qt=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),te="http://www.w3.org/1998/Math/MathML",ee="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xhtml",re=ne,oe=!1,ie=null,ae=O({},[te,ee,ne],w),le=["application/xhtml+xml","text/html"],se=null,ce=a.createElement("form"),ue=function(t){return t instanceof RegExp||t instanceof Function},fe=function(e){se&&se===e||(e&&"object"===t(e)||(e={}),e=N(e),mt=mt=-1===le.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,bt="application/xhtml+xml"===mt?w:v,Tt="ALLOWED_TAGS"in e?O({},e.ALLOWED_TAGS,bt):_t,Ot="ALLOWED_ATTR"in e?O({},e.ALLOWED_ATTR,bt):Nt,ie="ALLOWED_NAMESPACES"in e?O({},e.ALLOWED_NAMESPACES,w):ae,Jt="ADD_URI_SAFE_ATTR"in e?O(N(Qt),e.ADD_URI_SAFE_ATTR,bt):Qt,Xt="ADD_DATA_URI_TAGS"in e?O(N(Zt),e.ADD_DATA_URI_TAGS,bt):Zt,Vt="FORBID_CONTENTS"in e?O({},e.FORBID_CONTENTS,bt):Kt,Lt="FORBID_TAGS"in e?O({},e.FORBID_TAGS,bt):{},Ct="FORBID_ATTR"in e?O({},e.FORBID_ATTR,bt):{},qt="USE_PROFILES"in e&&e.USE_PROFILES,Dt=!1!==e.ALLOW_ARIA_ATTR,$t=!1!==e.ALLOW_DATA_ATTR,jt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=e.SAFE_FOR_TEMPLATES||!1,It=e.WHOLE_DOCUMENT||!1,Pt=e.RETURN_DOM||!1,Bt=e.RETURN_DOM_FRAGMENT||!1,Ut=e.RETURN_TRUSTED_TYPE||!1,Ft=e.FORCE_BODY||!1,Ht=!1!==e.SANITIZE_DOM,Yt=e.SANITIZE_NAMED_PROPS||!1,Wt=!1!==e.KEEP_CONTENT,Gt=e.IN_PLACE||!1,Et=e.ALLOWED_URI_REGEXP||Et,re=e.NAMESPACE||ne,e.CUSTOM_ELEMENT_HANDLING&&ue(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(St.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ue(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(St.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(St.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rt&&($t=!1),Bt&&(Pt=!0),qt&&(Tt=O({},r(I)),Ot=[],!0===qt.html&&(O(Tt,L),O(Ot,z)),!0===qt.svg&&(O(Tt,C),O(Ot,F),O(Ot,B)),!0===qt.svgFilters&&(O(Tt,D),O(Ot,F),O(Ot,B)),!0===qt.mathMl&&(O(Tt,j),O(Ot,P),O(Ot,B))),e.ADD_TAGS&&(Tt===_t&&(Tt=N(Tt)),O(Tt,e.ADD_TAGS,bt)),e.ADD_ATTR&&(Ot===Nt&&(Ot=N(Ot)),O(Ot,e.ADD_ATTR,bt)),e.ADD_URI_SAFE_ATTR&&O(Jt,e.ADD_URI_SAFE_ATTR,bt),e.FORBID_CONTENTS&&(Vt===Kt&&(Vt=N(Vt)),O(Vt,e.FORBID_CONTENTS,bt)),Wt&&(Tt["#text"]=!0),It&&O(Tt,["html","head","body"]),Tt.table&&(O(Tt,["tbody"]),delete Lt.tbody),u&&u(e),se=e)},he=O({},["mi","mo","mn","ms","mtext"]),pe=O({},["foreignobject","desc","title","annotation-xml"]),de=O({},["title","style","font","a","script"]),ge=O({},C);O(ge,D),O(ge,$);var me=O({},j);O(me,R);var be=function(t){y(o.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=lt}catch(e){t.remove()}}},ye=function(t,e){try{y(o.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){y(o.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Ot[t])if(Pt||Bt)try{be(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ve=function(t){var e,n;if(Ft)t="<remove></remove>"+t;else{var r=x(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===mt&&re===ne&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=at?at.createHTML(t):t;if(re===ne)try{e=(new _).parseFromString(o,mt)}catch(t){}if(!e||!e.documentElement){e=ct.createDocument(re,"template",null);try{e.documentElement.innerHTML=oe?lt:o}catch(t){}}var i=e.body||e.documentElement;return t&&n&&i.insertBefore(a.createTextNode(n),i.childNodes[0]||null),re===ne?ht.call(e,It?"html":"body")[0]:It?e.documentElement:i},we=function(t){return ut.call(t.ownerDocument||t,t,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},xe=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ke=function(t,e,n){gt[t]&&m(gt[t],(function(t){t.call(o,e,n,se)}))},Me=function(t){var e;if(ke("beforeSanitizeElements",t,null),function(t){return t instanceof g&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof d)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)}(t))return be(t),!0;if(E(/[\u0080-\uFFFF]/,t.nodeName))return be(t),!0;var n=bt(t.nodeName);if(ke("uponSanitizeElement",t,{tagName:n,allowedTags:Tt}),t.hasChildNodes()&&!xe(t.firstElementChild)&&(!xe(t.content)||!xe(t.content.firstElementChild))&&E(/<[/\w]/g,t.innerHTML)&&E(/<[/\w]/g,t.textContent))return be(t),!0;if("select"===n&&E(/<template/i,t.innerHTML))return be(t),!0;if(!Tt[n]||Lt[n]){if(!Lt[n]&&Ee(n)){if(St.tagNameCheck instanceof RegExp&&E(St.tagNameCheck,n))return!1;if(St.tagNameCheck instanceof Function&&St.tagNameCheck(n))return!1}if(Wt&&!Vt[n]){var r=ot(t)||t.parentNode,i=rt(t)||t.childNodes;if(i&&r)for(var a=i.length-1;a>=0;--a)r.insertBefore(et(i[a],!0),nt(t))}return be(t),!0}return t instanceof f&&!function(t){var e=ot(t);e&&e.tagName||(e={namespaceURI:re,tagName:"template"});var n=v(t.tagName),r=v(e.tagName);return!!ie[t.namespaceURI]&&(t.namespaceURI===ee?e.namespaceURI===ne?"svg"===n:e.namespaceURI===te?"svg"===n&&("annotation-xml"===r||he[r]):Boolean(ge[n]):t.namespaceURI===te?e.namespaceURI===ne?"math"===n:e.namespaceURI===ee?"math"===n&&pe[r]:Boolean(me[n]):t.namespaceURI===ne?!(e.namespaceURI===ee&&!pe[r])&&!(e.namespaceURI===te&&!he[r])&&!me[n]&&(de[n]||!ge[n]):!("application/xhtml+xml"!==mt||!ie[t.namespaceURI]))}(t)?(be(t),!0):"noscript"!==n&&"noembed"!==n||!E(/<\/no(script|embed)/i,t.innerHTML)?(Rt&&3===t.nodeType&&(e=t.textContent,e=k(e,yt," "),e=k(e,vt," "),e=k(e,wt," "),t.textContent!==e&&(y(o.removed,{element:t.cloneNode()}),t.textContent=e)),ke("afterSanitizeElements",t,null),!1):(be(t),!0)},Ae=function(t,e,n){if(Ht&&("id"===e||"name"===e)&&(n in a||n in ce))return!1;if($t&&!Ct[e]&&E(xt,e));else if(Dt&&E(kt,e));else if(!Ot[e]||Ct[e]){if(!(Ee(t)&&(St.tagNameCheck instanceof RegExp&&E(St.tagNameCheck,t)||St.tagNameCheck instanceof Function&&St.tagNameCheck(t))&&(St.attributeNameCheck instanceof RegExp&&E(St.attributeNameCheck,e)||St.attributeNameCheck instanceof Function&&St.attributeNameCheck(e))||"is"===e&&St.allowCustomizedBuiltInElements&&(St.tagNameCheck instanceof RegExp&&E(St.tagNameCheck,n)||St.tagNameCheck instanceof Function&&St.tagNameCheck(n))))return!1}else if(Jt[e]);else if(E(Et,k(n,At,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==M(n,"data:")||!Xt[t])if(jt&&!E(Mt,k(n,At,"")));else if(n)return!1;return!0},Ee=function(t){return t.indexOf("-")>0},Te=function(e){var n,r,i,a;ke("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ot};for(a=l.length;a--;){var c=n=l[a],u=c.name,f=c.namespaceURI;if(r="value"===u?n.value:A(n.value),i=bt(u),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,ke("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(ye(u,e),s.keepAttr))if(E(/\/>/i,r))ye(u,e);else{Rt&&(r=k(r,yt," "),r=k(r,vt," "),r=k(r,wt," "));var h=bt(e.nodeName);if(Ae(h,i,r)){if(!Yt||"id"!==i&&"name"!==i||(ye(u,e),r="user-content-"+r),at&&"object"===t(Q)&&"function"==typeof Q.getAttributeType)if(f);else switch(Q.getAttributeType(h,i)){case"TrustedHTML":r=at.createHTML(r);break;case"TrustedScriptURL":r=at.createScriptURL(r)}try{f?e.setAttributeNS(f,u,r):e.setAttribute(u,r),b(o.removed)}catch(t){}}}}ke("afterSanitizeAttributes",e,null)}},_e=function t(e){var n,r=we(e);for(ke("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ke("uponSanitizeShadowNode",n,null),Me(n)||(n.content instanceof l&&t(n.content),Te(n));ke("afterSanitizeShadowDOM",e,null)};return o.sanitize=function(e){var r,a,s,u,f,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((oe=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xe(e)){if("function"!=typeof e.toString)throw T("toString is not a function");if("string"!=typeof(e=e.toString()))throw T("dirty is not a string, aborting")}if(!o.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(xe(e))return n.toStaticHTML(e.outerHTML)}return e}if(zt||fe(h),o.removed=[],"string"==typeof e&&(Gt=!1),Gt){if(e.nodeName){var p=bt(e.nodeName);if(!Tt[p]||Lt[p])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(a=(r=ve("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Pt&&!Rt&&!It&&-1===e.indexOf("<"))return at&&Ut?at.createHTML(e):e;if(!(r=ve(e)))return Pt?null:Ut?lt:""}r&&Ft&&be(r.firstChild);for(var d=we(Gt?e:r);s=d.nextNode();)3===s.nodeType&&s===u||Me(s)||(s.content instanceof l&&_e(s.content),Te(s),u=s);if(u=null,Gt)return e;if(Pt){if(Bt)for(f=ft.call(r.ownerDocument);r.firstChild;)f.appendChild(r.firstChild);else f=r;return Ot.shadowroot&&(f=pt.call(i,f,!0)),f}var g=It?r.outerHTML:r.innerHTML;return It&&Tt["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&E(X,r.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+g),Rt&&(g=k(g,yt," "),g=k(g,vt," "),g=k(g,wt," ")),at&&Ut?at.createHTML(g):g},o.setConfig=function(t){fe(t),zt=!0},o.clearConfig=function(){se=null,zt=!1},o.isValidAttribute=function(t,e,n){se||fe({});var r=bt(t),o=bt(e);return Ae(r,o,n)},o.addHook=function(t,e){"function"==typeof e&&(gt[t]=gt[t]||[],y(gt[t],e))},o.removeHook=function(t){if(gt[t])return b(gt[t])},o.removeHooks=function(t){gt[t]&&(gt[t]=[])},o.removeAllHooks=function(){gt={}},o}();return Q}()})),tt=window.DOMPurify||(window.DOMPurify=Q.default||Q),et=J((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createPermanentMemoizer=void 0,e.createPermanentMemoizer=function(t,e){let{maxsize:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Map;return{get:o=>{const i=t(o);if(r.has(i))return r.get(i);const a=e(o);return n&&r.size>=n&&(r=new Map),r.set(i,a),a}}}}));Z(et),et.createPermanentMemoizer;var nt=J((function(t){var e=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const n=e(tt),r=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),o=1e5;n.default.addHook("afterSanitizeElements",(function(t){"a"===t.nodeName.toLowerCase()&&("_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank"),t.setAttribute("rel","nofollow noopener noreferrer"))}));const i=(0,et.createPermanentMemoizer)((t=>String(t)),(t=>{const e={ALLOWED_TAGS:void 0===t?r:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,et.createPermanentMemoizer)((t=>t),(t=>n.default.sanitize(t,e)),{maxsize:o})}),{maxsize:o});t.exports=function(t,e){return t?i.get(e).get(t):t}})),rt=Z(nt);function ot(t){let e,n,r=rt(t[2])+"",o=t[3]&&it(t);return{c(){e=p("div"),n=p("span"),o&&o.c(),y(e,"class","legend-title label"),y(e,"aria-hidden","true")},m(t,i){u(t,e,i),c(e,n),n.innerHTML=r,o&&o.m(e,null)},p(t,i){4&i&&r!==(r=rt(t[2])+"")&&(n.innerHTML=r),t[3]?o?o.p(t,i):(o=it(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&f(e),o&&o.d()}}}function it(t){let e,n,r=rt(t[2])+"";return{c(){e=p("div"),n=p("span"),w(n,"color",t[3].color),w(n,"-webkit-text-stroke",t[3].textStroke),y(e,"class","legend-title label buffer"),y(e,"aria-hidden","true")},m(t,o){u(t,e,o),c(e,n),n.innerHTML=r},p(t,e){4&e&&r!==(r=rt(t[2])+"")&&(n.innerHTML=r),8&e&&w(n,"color",t[3].color),8&e&&w(n,"-webkit-text-stroke",t[3].textStroke)},d(t){t&&f(e)}}}function at(t){let e,n,r,o=t[2]&&ot(t);const i=t[7].default,a=function(t,e,n,r){if(t){const r=s(t,e,n,null);return t[0](r)}}(i,t,t[6]);return{c(){e=p("div"),o&&o.c(),n=m(),a&&a.c(),y(e,"class",t[0]),y(e,"role","graphics-legend"),y(e,"aria-label",t[1]),w(e,"width",t[4]),w(e,"height",t[5])},m(t,i){u(t,e,i),o&&o.m(e,null),c(e,n),a&&a.m(e,null),r=!0},p(t,l){let[c]=l;t[2]?o?o.p(t,c):(o=ot(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),a&&a.p&&(!r||64&c)&&function(t,e,n,r,o,i){if(o){const i=s(e,n,r,null);t.p(i,o)}}(a,i,t,t[6],r?function(t,e,n,r){return t[2],e.dirty}(i,t[6]):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[6])),(!r||1&c)&&y(e,"class",t[0]),(!r||2&c)&&y(e,"aria-label",t[1]),16&c&&w(e,"width",t[4]),32&c&&w(e,"height",t[5])},i(t){r||(H(a,t),r=!0)},o(t){Y(a,t),r=!1},d(t){t&&f(e),o&&o.d(),a&&a.d(t)}}}function lt(t,e,n){let{$$slots:r={},$$scope:o}=e,{className:i=""}=e,{ariaLabel:a=""}=e,{title:l=""}=e,{buffer:s}=e,{width:c="auto"}=e,{height:u="auto"}=e;return t.$$set=t=>{"className"in t&&n(0,i=t.className),"ariaLabel"in t&&n(1,a=t.ariaLabel),"title"in t&&n(2,l=t.title),"buffer"in t&&n(3,s=t.buffer),"width"in t&&n(4,c=t.width),"height"in t&&n(5,u=t.height),"$$scope"in t&&n(6,o=t.$$scope)},[i,a,l,s,c,u,o,r]}class st extends K{constructor(t){super(),V(this,t,lt,at,l,{className:0,ariaLabel:1,title:2,buffer:3,width:4,height:5})}}var ct=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o},ut=function(t,e,n,r){const o=.2,[i,a,l]=r(t).lch(),s=r(e).lch()[0];if(r.contrast(t,e)>=n)return t;const c=r.contrast("#000000",e),u=r.contrast("#ffffff",e),f=s>i&&c>=n||s<=i&&u<n;return f?h(0,i,10):h(i,100,10);function h(t,i,s){const c=.5*(t+i),u=r.lch(c,a,l),p=r.contrast(u,e);return Math.abs(p-n)<o||!s?u.hex():p<n&&f||p>n&&!f?h(t,c,s-1):h(c,i,s-1)}},ft=J((function(t,e){
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */
t.exports=function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(t,r,o){return n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(t,o));return r&&e(i,r.prototype),i},n.apply(null,arguments)}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=Object.hasOwnProperty,a=Object.setPrototypeOf,l=Object.isFrozen,s=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,u=Object.freeze,f=Object.seal,h=Object.create,p="undefined"!=typeof Reflect&&Reflect,d=p.apply,g=p.construct;d||(d=function(t,e,n){return t.apply(e,n)}),u||(u=function(t){return t}),f||(f=function(t){return t}),g||(g=function(t,e){return n(t,r(e))});var m=T(Array.prototype.forEach),b=T(Array.prototype.pop),y=T(Array.prototype.push),v=T(String.prototype.toLowerCase),w=T(String.prototype.match),x=T(String.prototype.replace),k=T(String.prototype.indexOf),M=T(String.prototype.trim),A=T(RegExp.prototype.test),E=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(t,n)}}(TypeError);function T(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return d(t,e,r)}}function _(t,e,n){n=n||v,a&&a(t,null);for(var r=e.length;r--;){var o=e[r];if("string"==typeof o){var i=n(o);i!==o&&(l(e)||(e[r]=i),o=i)}t[o]=!0}return t}function O(t){var e,n=h(null);for(e in t)d(i,t,[e])&&(n[e]=t[e]);return n}function N(t,e){for(;null!==t;){var n=c(t,e);if(n){if(n.get)return T(n.get);if("function"==typeof n.value)return T(n.value)}t=s(t)}return function(t){return console.warn("fallback value for",t),null}}var S=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=u(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R=u(["#text"]),I=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=f(/<%[\w\W]*|[\w\W]*%>/gm),H=f(/^data-[\-\w.\u00B7-\uFFFF]/),Y=f(/^aria-[\-\w]+$/),W=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=f(/^(?:\w+script|data):/i),q=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),V=f(/^html$/i),K=function(){return"undefined"==typeof window?null:window},X=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Z=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),o=function(t){return e(t)};if(o.version="2.4.0",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;var i=n.document,a=n.document,l=n.DocumentFragment,s=n.HTMLTemplateElement,c=n.Node,f=n.Element,h=n.NodeFilter,p=n.NamedNodeMap,d=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,g=n.HTMLFormElement,T=n.DOMParser,Z=n.trustedTypes,J=f.prototype,Q=N(J,"cloneNode"),tt=N(J,"nextSibling"),et=N(J,"childNodes"),nt=N(J,"parentNode");if("function"==typeof s){var rt=a.createElement("template");rt.content&&rt.content.ownerDocument&&(a=rt.content.ownerDocument)}var ot=X(Z,i),it=ot?ot.createHTML(""):"",at=a,lt=at.implementation,st=at.createNodeIterator,ct=at.createDocumentFragment,ut=at.getElementsByTagName,ft=i.importNode,ht={};try{ht=O(a).documentMode?a.documentMode:{}}catch(t){}var pt={};o.isSupported="function"==typeof nt&&lt&&void 0!==lt.createHTMLDocument&&9!==ht;var dt,gt,mt=B,bt=U,yt=H,vt=Y,wt=G,xt=q,kt=W,Mt=null,At=_({},[].concat(r(S),r(L),r(C),r($),r(R))),Et=null,Tt=_({},[].concat(r(I),r(z),r(F),r(P))),_t=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ot=null,Nt=null,St=!0,Lt=!0,Ct=!1,Dt=!1,$t=!1,jt=!1,Rt=!1,It=!1,zt=!1,Ft=!1,Pt=!0,Bt=!1,Ut=!0,Ht=!1,Yt={},Wt=null,Gt=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qt=null,Vt=_({},["audio","video","img","source","image","track"]),Kt=null,Xt=_({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",Jt="http://www.w3.org/2000/svg",Qt="http://www.w3.org/1999/xhtml",te=Qt,ee=!1,ne=["application/xhtml+xml","text/html"],re=null,oe=a.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},ae=function(e){re&&re===e||(e&&"object"===t(e)||(e={}),e=O(e),dt=dt=-1===ne.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,gt="application/xhtml+xml"===dt?function(t){return t}:v,Mt="ALLOWED_TAGS"in e?_({},e.ALLOWED_TAGS,gt):At,Et="ALLOWED_ATTR"in e?_({},e.ALLOWED_ATTR,gt):Tt,Kt="ADD_URI_SAFE_ATTR"in e?_(O(Xt),e.ADD_URI_SAFE_ATTR,gt):Xt,qt="ADD_DATA_URI_TAGS"in e?_(O(Vt),e.ADD_DATA_URI_TAGS,gt):Vt,Wt="FORBID_CONTENTS"in e?_({},e.FORBID_CONTENTS,gt):Gt,Ot="FORBID_TAGS"in e?_({},e.FORBID_TAGS,gt):{},Nt="FORBID_ATTR"in e?_({},e.FORBID_ATTR,gt):{},Yt="USE_PROFILES"in e&&e.USE_PROFILES,St=!1!==e.ALLOW_ARIA_ATTR,Lt=!1!==e.ALLOW_DATA_ATTR,Ct=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Dt=e.SAFE_FOR_TEMPLATES||!1,$t=e.WHOLE_DOCUMENT||!1,It=e.RETURN_DOM||!1,zt=e.RETURN_DOM_FRAGMENT||!1,Ft=e.RETURN_TRUSTED_TYPE||!1,Rt=e.FORCE_BODY||!1,Pt=!1!==e.SANITIZE_DOM,Bt=e.SANITIZE_NAMED_PROPS||!1,Ut=!1!==e.KEEP_CONTENT,Ht=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,te=e.NAMESPACE||Qt,e.CUSTOM_ELEMENT_HANDLING&&ie(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_t.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ie(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_t.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(_t.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Dt&&(Lt=!1),zt&&(It=!0),Yt&&(Mt=_({},r(R)),Et=[],!0===Yt.html&&(_(Mt,S),_(Et,I)),!0===Yt.svg&&(_(Mt,L),_(Et,z),_(Et,P)),!0===Yt.svgFilters&&(_(Mt,C),_(Et,z),_(Et,P)),!0===Yt.mathMl&&(_(Mt,$),_(Et,F),_(Et,P))),e.ADD_TAGS&&(Mt===At&&(Mt=O(Mt)),_(Mt,e.ADD_TAGS,gt)),e.ADD_ATTR&&(Et===Tt&&(Et=O(Et)),_(Et,e.ADD_ATTR,gt)),e.ADD_URI_SAFE_ATTR&&_(Kt,e.ADD_URI_SAFE_ATTR,gt),e.FORBID_CONTENTS&&(Wt===Gt&&(Wt=O(Wt)),_(Wt,e.FORBID_CONTENTS,gt)),Ut&&(Mt["#text"]=!0),$t&&_(Mt,["html","head","body"]),Mt.table&&(_(Mt,["tbody"]),delete Ot.tbody),u&&u(e),re=e)},le=_({},["mi","mo","mn","ms","mtext"]),se=_({},["foreignobject","desc","title","annotation-xml"]),ce=_({},["title","style","font","a","script"]),ue=_({},L);_(ue,C),_(ue,D);var fe=_({},$);_(fe,j);var he=function(t){y(o.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=it}catch(e){t.remove()}}},pe=function(t,e){try{y(o.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){y(o.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Et[t])if(It||zt)try{he(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},de=function(t){var e,n;if(Rt)t="<remove></remove>"+t;else{var r=w(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===dt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=ot?ot.createHTML(t):t;if(te===Qt)try{e=(new T).parseFromString(o,dt)}catch(t){}if(!e||!e.documentElement){e=lt.createDocument(te,"template",null);try{e.documentElement.innerHTML=ee?"":o}catch(t){}}var i=e.body||e.documentElement;return t&&n&&i.insertBefore(a.createTextNode(n),i.childNodes[0]||null),te===Qt?ut.call(e,$t?"html":"body")[0]:$t?e.documentElement:i},ge=function(t){return st.call(t.ownerDocument||t,t,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},me=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},be=function(t,e,n){pt[t]&&m(pt[t],(function(t){t.call(o,e,n,re)}))},ye=function(t){var e;if(be("beforeSanitizeElements",t,null),function(t){return t instanceof g&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof d)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)}(t))return he(t),!0;if(A(/[\u0080-\uFFFF]/,t.nodeName))return he(t),!0;var n=gt(t.nodeName);if(be("uponSanitizeElement",t,{tagName:n,allowedTags:Mt}),t.hasChildNodes()&&!me(t.firstElementChild)&&(!me(t.content)||!me(t.content.firstElementChild))&&A(/<[/\w]/g,t.innerHTML)&&A(/<[/\w]/g,t.textContent))return he(t),!0;if("select"===n&&A(/<template/i,t.innerHTML))return he(t),!0;if(!Mt[n]||Ot[n]){if(!Ot[n]&&we(n)){if(_t.tagNameCheck instanceof RegExp&&A(_t.tagNameCheck,n))return!1;if(_t.tagNameCheck instanceof Function&&_t.tagNameCheck(n))return!1}if(Ut&&!Wt[n]){var r=nt(t)||t.parentNode,i=et(t)||t.childNodes;if(i&&r)for(var a=i.length-1;a>=0;--a)r.insertBefore(Q(i[a],!0),tt(t))}return he(t),!0}return t instanceof f&&!function(t){var e=nt(t);e&&e.tagName||(e={namespaceURI:Qt,tagName:"template"});var n=v(t.tagName),r=v(e.tagName);return t.namespaceURI===Jt?e.namespaceURI===Qt?"svg"===n:e.namespaceURI===Zt?"svg"===n&&("annotation-xml"===r||le[r]):Boolean(ue[n]):t.namespaceURI===Zt?e.namespaceURI===Qt?"math"===n:e.namespaceURI===Jt?"math"===n&&se[r]:Boolean(fe[n]):t.namespaceURI===Qt&&!(e.namespaceURI===Jt&&!se[r])&&!(e.namespaceURI===Zt&&!le[r])&&!fe[n]&&(ce[n]||!ue[n])}(t)?(he(t),!0):"noscript"!==n&&"noembed"!==n||!A(/<\/no(script|embed)/i,t.innerHTML)?(Dt&&3===t.nodeType&&(e=t.textContent,e=x(e,mt," "),e=x(e,bt," "),t.textContent!==e&&(y(o.removed,{element:t.cloneNode()}),t.textContent=e)),be("afterSanitizeElements",t,null),!1):(he(t),!0)},ve=function(t,e,n){if(Pt&&("id"===e||"name"===e)&&(n in a||n in oe))return!1;if(Lt&&!Nt[e]&&A(yt,e));else if(St&&A(vt,e));else if(!Et[e]||Nt[e]){if(!(we(t)&&(_t.tagNameCheck instanceof RegExp&&A(_t.tagNameCheck,t)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(t))&&(_t.attributeNameCheck instanceof RegExp&&A(_t.attributeNameCheck,e)||_t.attributeNameCheck instanceof Function&&_t.attributeNameCheck(e))||"is"===e&&_t.allowCustomizedBuiltInElements&&(_t.tagNameCheck instanceof RegExp&&A(_t.tagNameCheck,n)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(n))))return!1}else if(Kt[e]);else if(A(kt,x(n,xt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==k(n,"data:")||!qt[t])if(Ct&&!A(wt,x(n,xt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},xe=function(e){var n,r,i,a;be("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Et};for(a=l.length;a--;){var c=n=l[a],u=c.name,f=c.namespaceURI;if(r="value"===u?n.value:M(n.value),i=gt(u),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,be("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(pe(u,e),s.keepAttr))if(A(/\/>/i,r))pe(u,e);else{Dt&&(r=x(r,mt," "),r=x(r,bt," "));var h=gt(e.nodeName);if(ve(h,i,r)){if(!Bt||"id"!==i&&"name"!==i||(pe(u,e),r="user-content-"+r),ot&&"object"===t(Z)&&"function"==typeof Z.getAttributeType)if(f);else switch(Z.getAttributeType(h,i)){case"TrustedHTML":r=ot.createHTML(r);break;case"TrustedScriptURL":r=ot.createScriptURL(r)}try{f?e.setAttributeNS(f,u,r):e.setAttribute(u,r),b(o.removed)}catch(t){}}}}be("afterSanitizeAttributes",e,null)}},ke=function t(e){var n,r=ge(e);for(be("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)be("uponSanitizeShadowNode",n,null),ye(n)||(n.content instanceof l&&t(n.content),xe(n));be("afterSanitizeShadowDOM",e,null)};return o.sanitize=function(e){var r,a,s,u,f,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ee=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!me(e)){if("function"!=typeof e.toString)throw E("toString is not a function");if("string"!=typeof(e=e.toString()))throw E("dirty is not a string, aborting")}if(!o.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(me(e))return n.toStaticHTML(e.outerHTML)}return e}if(jt||ae(h),o.removed=[],"string"==typeof e&&(Ht=!1),Ht){if(e.nodeName){var p=gt(e.nodeName);if(!Mt[p]||Ot[p])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(a=(r=de("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!It&&!Dt&&!$t&&-1===e.indexOf("<"))return ot&&Ft?ot.createHTML(e):e;if(!(r=de(e)))return It?null:Ft?it:""}r&&Rt&&he(r.firstChild);for(var d=ge(Ht?e:r);s=d.nextNode();)3===s.nodeType&&s===u||ye(s)||(s.content instanceof l&&ke(s.content),xe(s),u=s);if(u=null,Ht)return e;if(It){if(zt)for(f=ct.call(r.ownerDocument);r.firstChild;)f.appendChild(r.firstChild);else f=r;return Et.shadowroot&&(f=ft.call(i,f,!0)),f}var g=$t?r.outerHTML:r.innerHTML;return $t&&Mt["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&A(V,r.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+g),Dt&&(g=x(g,mt," "),g=x(g,bt," ")),ot&&Ft?ot.createHTML(g):g},o.setConfig=function(t){ae(t),jt=!0},o.clearConfig=function(){re=null,jt=!1},o.isValidAttribute=function(t,e,n){re||ae({});var r=gt(t),o=gt(e);return ve(r,o,n)},o.addHook=function(t,e){"function"==typeof e&&(pt[t]=pt[t]||[],y(pt[t],e))},o.removeHook=function(t){if(pt[t])return b(pt[t])},o.removeHooks=function(t){pt[t]&&(pt[t]=[])},o.removeAllHooks=function(){pt={}},o}();return Z}()})),ht=window.DOMPurify||(window.DOMPurify=ft.default||ft),pt=J((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createPermanentMemoizer=void 0,e.createPermanentMemoizer=function(t,e){let{maxsize:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Map;return{get:o=>{const i=t(o);if(r.has(i))return r.get(i);const a=e(o);return n&&r.size>=n&&(r=new Map),r.set(i,a),a}}}}));Z(pt),pt.createPermanentMemoizer;var dt=J((function(t){var e=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const n=e(ht),r=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),o=1e5;n.default.addHook("afterSanitizeElements",(function(t){"a"===t.nodeName.toLowerCase()&&("_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank"),t.setAttribute("rel","nofollow noopener noreferrer"))}));const i=(0,pt.createPermanentMemoizer)((t=>String(t)),(t=>{const e={ALLOWED_TAGS:void 0===t?r:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,pt.createPermanentMemoizer)((t=>t),(t=>n.default.sanitize(t,e)),{maxsize:o})}),{maxsize:o});t.exports=function(t,e){return t?i.get(e).get(t):t}}));Z(dt);var gt=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o},mt=J((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const e=new Set;return t.map((t=>{let n=t,r=0;for(;e.has(n);)n="".concat(t,"_").concat(++r);return e.add(n),n}))}}));Z(mt);var bt="object"==typeof self&&self.self===self&&self||"object"==typeof ri&&ri.global===ri&&ri||Function("return this")()||{},yt=Object.prototype,vt=yt.toString,wt=yt.hasOwnProperty,xt=Array.isArray,kt=Object.keys,Mt=!{toString:null}.propertyIsEnumerable("toString"),At=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Et(t){return t instanceof Et?t:this instanceof Et?void(this._wrapped=t):new Et(t)}function Tt(t){return t}function _t(t){var e="[object "+t+"]";return function(t){return vt.call(t)===e}}Et.VERSION="1.13.6",Et.prototype.value=function(){return this._wrapped},Et.prototype.valueOf=Et.prototype.toJSON=Et.prototype.value,Et.prototype.toString=function(){return String(this._wrapped)};var Ot=_t("Function"),Nt=bt.document&&bt.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Nt&&(Ot=function(t){return"function"==typeof t||!1});var St=Ot;function Lt(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var Ct=xt||_t("Array");function Dt(t,e){return null!=t&&wt.call(t,e)}function $t(t){if(!Lt(t))return[];if(kt)return kt(t);var e=[];for(var n in t)Dt(t,n)&&e.push(n);return Mt&&function(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=At.length,r=t.constructor,o=St(r)&&r.prototype||yt,i="constructor";for(Dt(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=At[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}(t,e),e}var jt,Rt=(jt=$t,function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],o=jt(r),i=o.length,a=0;a<i;a++){var l=o[a];t[l]=r[l]}return t});function It(t){return Et.toPath(t)}function zt(t,e,n){return null==t?Tt:St(t)?function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}(t,e,n):Lt(t)&&!Ct(t)?function(t){return t=Rt({},t),function(e){return function(t,e){var n=$t(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}(e,t)}}(t):function(t){return t=It(t),function(e){return function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}(e,t)}}(t)}function Ft(t,e){for(var n=(e=It(e)).length,r=0;r<n;r++){var o=e[r];if(!Dt(t,o))return!1;t=t[o]}return!!n}Et.toPath=function(t){return Ct(t)?t:[t]},Et.iteratee=function(t,e){return zt(t,e,1/0)};var Pt="TEOF",Bt="TOP",Ut="TNUMBER",Ht="TSTRING",Yt="TPAREN",Wt="TBRACKET",Gt="TCOMMA",qt="TNAME",Vt="TSEMICOLON";function Kt(t,e,n){this.type=t,this.value=e,this.index=n}function Xt(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Kt.prototype.toString=function(){return this.type+": "+this.value},Xt.prototype.newToken=function(t,e,n){return new Kt(t,e,null!=n?n:this.pos)},Xt.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Xt.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Xt.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Pt,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Xt.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var o=this.expression.substring(e+1,r);this.current=this.newToken(Ht,this.unescape(o),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},Xt.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Yt,t),this.pos++,!0)},Xt.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(Wt,t),this.pos++,0))},Xt.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(Gt,","),this.pos++,!0)},Xt.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(Vt,";"),this.pos++,!0)},Xt.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Ut,this.consts[r]),this.pos+=r.length,!0}return!1},Xt.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Bt,r),this.pos+=r.length,!0}return!1},Xt.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var o=this.expression.substring(t,e);return this.current=this.newToken(qt,o),this.pos+=o.length,!0}return!1},Xt.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Zt=/^[0-9a-f]{4}$/i;Xt.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var o=t.substring(e+1,e+5);Zt.test(o)||this.parseError("Illegal escape sequence: \\u"+o),n+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var i=t.indexOf("\\",e);n+=t.substring(e,i<0?t.length:i),e=i}return n},Xt.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Xt.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,o=n;n<this.expression.length;){var i=this.expression.charAt(n);if(!e.test(i))break;n++,r=!0}return r&&(this.current=this.newToken(Ut,parseInt(this.expression.substring(o,n),t)),this.pos=n),r},Xt.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,o=n,i=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:a=!0,n++,e=a;if(e&&(o=n),"e"===t||"E"===t){n++;for(var l=!0,s=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!l||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,l=!1}else l=!1;n++}s||(n=o)}return e?(this.current=this.newToken(Ut,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=o,e},Xt.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Bt,e);else if("∙"===e||"•"===e)this.current=this.newToken(Bt,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Bt,">="),this.pos++):this.current=this.newToken(Bt,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Bt,"<="),this.pos++):this.current=this.newToken(Bt,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Bt,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Bt,"=="),this.pos++):this.current=this.newToken(Bt,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Bt,"!="),this.pos++):this.current=this.newToken(Bt,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Xt.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Xt.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},Xt.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var Jt="INUMBER",Qt="IOP1",te="IOP2",ee="IOP3",ne="IVAR",re="IVARNAME",oe="IFUNCALL",ie="IFUNDEF",ae="IEXPR",le="IEXPREVAL",se="IMEMBER",ce="IENDSTATEMENT",ue="IARRAY";function fe(t,e){this.type=t,this.value=null!=e?e:0}function he(t){return new fe(Qt,t)}function pe(t){return new fe(te,t)}function de(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}fe.prototype.toString=function(){switch(this.type){case Jt:case Qt:case te:case ee:case ne:case re:case ce:return this.value;case oe:return"CALL "+this.value;case ie:return"DEF "+this.value;case ue:return"ARRAY "+this.value;case se:return"."+this.value;default:return"Invalid Instruction"}},de.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},de.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}(e,t.value):"function"==typeof e?e(t):t.value===e)},de.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},de.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},de.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},de.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},de.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(qt)||this.accept(Bt,(function(t){return t.value in e})))t.push(new fe(ne,this.current.value));else if(this.accept(Ut))t.push(new fe(Jt,this.current.value));else if(this.accept(Ht))t.push(new fe(Jt,this.current.value));else if(this.accept(Yt,"("))this.parseExpression(t),this.expect(Yt,")");else{if(!this.accept(Wt,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Wt,"]"))t.push(new fe(ue,0));else{var n=this.parseArrayList(t);t.push(new fe(ue,n))}}},de.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},de.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},de.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(Vt)&&(!this.nextToken||this.nextToken.type===Pt||this.nextToken.type===Yt&&")"===this.nextToken.value||e.push(new fe(ce)),this.nextToken.type!==Pt&&this.parseExpression(e),t.push(new fe(ae,e)),!0)},de.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Wt,"]");)for(this.parseExpression(t),++e;this.accept(Gt);)this.parseExpression(t),++e;return e},de.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Bt,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==oe){if(e.type!==ne&&e.type!==se)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new fe(re,e.value)),t.push(new fe(ae,n)),t.push(pe("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var a=r-o;t[a].type===ne&&(t[a]=new fe(re,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new fe(ae,n)),t.push(new fe(ie,e.value))}}},de.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Bt,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Bt,":"),this.parseConditionalExpression(n),t.push(new fe(ae,e)),t.push(new fe(ae,n)),t.push(new fe(ee,"?"))}},de.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Bt,"or");){var e=[];this.parseAndExpression(e),t.push(new fe(ae,e)),t.push(pe("or"))}},de.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Bt,"and");){var e=[];this.parseComparison(e),t.push(new fe(ae,e)),t.push(pe("and"))}};var ge=["==","!=","<","<=",">=",">","in"];de.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Bt,ge);){var e=this.current;this.parseAddSub(t),t.push(pe(e.value))}};var me=["+","-","||"];de.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Bt,me);){var e=this.current;this.parseTerm(t),t.push(pe(e.value))}};var be=["*","/","%"];function ye(t,e){return Number(t)+Number(e)}function ve(t,e){return t-e}function we(t,e){return t*e}function xe(t,e){return t/e}function ke(t,e){return t%e}function Me(t,e){return t===e}function Ae(t,e){return t!==e}function Ee(t,e){return t>e}function Te(t,e){return t<e}function _e(t,e){return t>=e}function Oe(t,e){return t<=e}function Ne(t,e){return Boolean(t&&e)}function Se(t,e){return Boolean(t||e)}function Le(t){return Math.log(t)*Math.LOG10E}function Ce(t){return-t}function De(t){return!t}function $e(t){return t<0?Math.ceil(t):Math.floor(t)}function je(t){return Math.random()*(t||1)}function Re(t){return Array.isArray(t)?t.length:String(t).length}function Ie(t,e,n){return t?e:n}function ze(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Fe(t,e){return t[0|e]}function Pe(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function Be(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)}function Ue(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function He(t){return(t>0)-(t<0)||+t}function Ye(t){return Math.log(1+t)}function We(t){return Math.log(t)/Math.LN2}function Ge(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function qe(t,e,n){var r,o,i,a,l,s,c=[];if(Ke(t))return Xe(t,n);for(var u=t.length,f=0;f<u;f++){var h=t[f],p=h.type;if(p===Jt||p===re)c.push(h.value);else if(p===te)o=c.pop(),r=c.pop(),"and"===h.value?c.push(!!r&&!!qe(o,e,n)):"or"===h.value?c.push(!!r||!!qe(o,e,n)):"="===h.value?(a=e.binaryOps[h.value],c.push(a(r,qe(o,e,n),n))):(a=e.binaryOps[h.value],c.push(a(Xe(r,n),Xe(o,n))));else if(p===ee)i=c.pop(),o=c.pop(),r=c.pop(),"?"===h.value?c.push(qe(r?o:i,e,n)):(a=e.ternaryOps[h.value],c.push(a(Xe(r,n),Xe(o,n),Xe(i,n))));else if(p===ne){if(/^__proto__|prototype|constructor$/.test(h.value))throw new Error("prototype access detected");if(h.value in e.functions)c.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))c.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);c.push(d)}}else if(p===Qt)r=c.pop(),a=e.unaryOps[h.value],c.push(a(Xe(r,n)));else if(p===oe){for(s=h.value,l=[];s-- >0;)l.unshift(Xe(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,l))}else if(p===ie)c.push(function(){for(var t=c.pop(),r=[],o=h.value;o-- >0;)r.unshift(c.pop());var i=c.pop(),a=function(){for(var o=Object.assign({},n),i=0,a=r.length;i<a;i++)o[r[i]]=arguments[i];return qe(t,e,o)};return Object.defineProperty(a,"name",{value:i,writable:!1}),n[i]=a,a}());else if(p===ae)c.push(Ve(h,e));else if(p===le)c.push(h);else if(p===se)r=c.pop(),c.push(r[h.value]);else if(p===ce)c.pop();else{if(p!==ue)throw new Error("invalid Expression");for(s=h.value,l=[];s-- >0;)l.unshift(c.pop());c.push(l)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Xe(c[0],n)}function Ve(t,e,n){return Ke(t)?t:{type:le,value:function(n){return qe(t.value,e,n)}}}function Ke(t){return t&&t.type===le}function Xe(t,e){return Ke(t)?t.value(e):t}function Ze(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Je(t){return t.trim()}de.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Bt,be);){var e=this.current;this.parseFactor(t),t.push(pe(e.value))}},de.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Bt,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Yt&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===Vt||this.nextToken.type===Gt||this.nextToken.type===Pt||this.nextToken.type===Yt&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(he(n.value))}else this.parseExponential(t)},de.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Bt,"^");)this.parseFactor(t),t.push(pe("^"))},de.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Bt,"!");)t.push(he("!"))},de.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Bt,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(he(n.value))}else for(this.parseMemberExpression(t);this.accept(Yt,"(");)if(this.accept(Yt,")"))t.push(new fe(oe,0));else{var r=this.parseArgumentList(t);t.push(new fe(oe,r))}},de.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Yt,")");)for(this.parseExpression(t),++e;this.accept(Gt);)this.parseExpression(t),++e;return e},de.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Bt,".")||this.accept(Wt,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(qt),t.push(new fe(se,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Wt,"]"),t.push(pe("["))}}},Ze.prototype.evaluate=function(t){return t=t||{},qe(this.tokens,this,t)},Ze.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const Qe=new Set(["__proto__","prototype","constructor"]);function tn(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||We,LN:Math.log,LOG10:Math.log10||Le,LG:Math.log10||Le,LOG1P:Math.log1p||Ye,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||$e,"-":Ce,"+":Number,EXP:Math.exp,NOT:De,LENGTH:Re,"!":De,SIGN:Math.sign||He,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":ye,"-":ve,"*":we,"/":xe,"%":ke,"^":Math.pow,"==":Me,"!=":Ae,">":Ee,"<":Te,">=":_e,"<=":Oe,and:Ne,or:Se,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Fe},this.ternaryOps={"?":Ie};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let o=/\w*/g,i=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),i=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Ie,RANDOM:je,MIN(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}(r.apply(this,arguments))},MAX(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}(r.apply(this,arguments))},SUM(){return Ge(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Ge(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:ze,CONCAT(){return Array.from(arguments).join("")},TRIM:Je,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(i,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Qe.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Pe,FOLD:Be,FILTER:Ue,PLUCK(t,e){if(Qe.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let o=0;o<n;o++)if(r=r&&e(t[o]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let o=0;o<n;o++)if(r=r||e(t[o]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}tn.prototype.parse=function(t){var e=[],n=new de(this,new Xt(this,t),{allowMemberAccess:!0,restrictMemberAccess:Qe});return n.parseExpression(e),n.expect(Pt,"EOF"),new Ze(e,this)},tn.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var en=new tn;tn.parse=function(t){return en.parse(t)},tn.evaluate=function(t,e){return en.parse(t).evaluate(e)},tn.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var nn={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};tn.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(nn,t)?nn[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const rn="%UNDEFINED%",on={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>ln(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>ln(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===rn?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function an(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter((t=>t)).filter((t=>!t.includes(rn))).join("\n")};function r(t,e,n){return gt(t,e,void 0===n?rn:n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(on).filter((n=>{let[r]=n;return Ft(t,r)||Ft(e,r)})).map((n=>{let[r,{prop:o,tsf:i=Tt}]=n;return"".concat(o,": ").concat(i(gt(t,r,e[r])),";")})).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:rn}}function ln(t){return t===rn?t:Number.isFinite(t)?"".concat(t,"px"):t}const sn=Math.cos,cn=Math.sin,un=Math.sqrt,fn=Math.PI,hn=2*fn;var pn={draw(t,e){const n=un(e/fn);t.moveTo(n,0),t.arc(0,0,n,0,hn)}},dn={draw(t,e){const n=un(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},gn={draw(t,e){const n=un(e),r=-n/2;t.rect(r,r,n,n)}};const mn=cn(fn/10)/cn(7*fn/10),bn=cn(hn/10)*mn,yn=-sn(hn/10)*mn;var vn={draw(t,e){const n=un(.8908130915292852*e),r=bn*n,o=yn*n;t.moveTo(0,-n),t.lineTo(r,o);for(let e=1;e<5;++e){const i=hn*e/5,a=sn(i),l=cn(i);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*o,l*r+a*o)}t.closePath()}};const wn=-.5,xn=un(3)/2,kn=1/un(12),Mn=3*(kn/2+1);var An={draw(t,e){const n=un(e/Mn),r=n/2,o=n*kn,i=r,a=n*kn+n,l=-i,s=a;t.moveTo(r,o),t.lineTo(i,a),t.lineTo(l,s),t.lineTo(wn*r-xn*o,xn*r+wn*o),t.lineTo(wn*i-xn*a,xn*i+wn*a),t.lineTo(wn*l-xn*s,xn*l+wn*s),t.lineTo(wn*r+xn*o,wn*o-xn*r),t.lineTo(wn*i+xn*a,wn*a-xn*i),t.lineTo(wn*l+xn*s,wn*s-xn*l),t.closePath()}},En=Object.assign(Object.assign({name:"circle"},pn),{bbox(t){const e=2*Math.sqrt(t/Math.PI);return{width:e,height:e}}}),Tn=Object.assign(Object.assign({name:"cross"},dn),{bbox(t){const e=3*Math.sqrt(t/5);return{width:e,height:e}},verticalAlign:"bottom"}),_n={name:"diamond",draw(t,e){const n=.7071*Math.sqrt(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()},bbox(t){const e=.7071*Math.sqrt(t);return{width:2*e,height:2*e}}},On={name:"hexagon",draw(t,e){const n=.56416*Math.sqrt(e),r=1.09963*n,o=r/2,i=.952436*n;t.moveTo(0,-r),t.lineTo(i,-o),t.lineTo(i,o),t.lineTo(0,r),t.lineTo(-i,o),t.lineTo(-i,-o),t.lineTo(0,-r)},bbox(t){const e=.56416*Math.sqrt(t);return{width:.952436*e*2,height:1.09963*e*2}}},Nn={name:"marker",draw(t,e){const n=.691*Math.sqrt(e);t.moveTo(.004066*n,-2.757056*n),t.bezierCurveTo(-.462735*n,-2.757056*n,-.841214*n,-2.378661*n,-.841214*n,-1.9117769999999998*n),t.bezierCurveTo(-.841214*n,-1.7810229999999998*n,-.811497*n,-1.6570359999999997*n,-.75842*n,-1.54659*n),t.bezierCurveTo(-.75545*n,-1.5403129999999998*n,.004064999999999985*n,0,.004064999999999985*n,0),t.lineTo(.757389*n,-1.5280999999999998*n),t.bezierCurveTo(.8161619999999999*n,-1.6431679999999997*n,.849344*n,-1.7735959999999997*n,.849344*n,-1.9117769999999998*n),t.bezierCurveTo(.849344*n,-2.378662*n,.470949*n,-2.757056*n,.0040639999999999565*n,-2.757056*n),t.moveTo(.507167*n,n*(-1.404609-.507167)),t.arc(0,n*(-1.404609-.507167),.507167*n,0,2*Math.PI)},bbox(t){const e=Math.sqrt(t);return{width:1.1682*e,height:1.9051*e}},baseline:1},Sn={name:"spike",draw(t,e){t.moveTo(-2,0),t.lineTo(0,-e),t.lineTo(2,0)},bbox:t=>({width:4,height:t}),baseline:1},Ln=Object.assign(Object.assign({name:"square"},gn),{bbox(t){const e=Math.sqrt(t);return{width:e,height:e}}}),Cn=Object.assign(Object.assign({name:"star"},vn),{bbox(t){const e=Math.sqrt(t);return{width:1.7897*e,height:1.7048*e}},baseline:.55}),Dn=Object.assign(Object.assign({name:"wye"},An),{bbox(t){const e=Math.sqrt(t);return{width:1.472*e,height:1.2763*e}},baseline:.455});const $n=Math.sqrt(3);var jn={name:"triangleUp",draw(t,e){const n=-Math.sqrt(e/(3*$n));t.moveTo(0,2*n),t.lineTo(-$n*n,-n),t.lineTo($n*n,-n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*$n));return{width:$n*e*2,height:3*e}},baseline:.66667};const Rn=Math.sqrt(3);var In={name:"triangleDown",draw(t,e){const n=-Math.sqrt(e/(3*Rn));t.moveTo(0,2*-n),t.lineTo(-Rn*n,n),t.lineTo(Rn*n,n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*Rn));return{width:Rn*e*2,height:3*e}},baseline:.3333},zn=Object.freeze({__proto__:null,symbolCircle:En,symbolCross:Tn,symbolDiamond:_n,symbolHexagon:On,symbolMarker:Nn,symbolSpike:Sn,symbolSquare:Ln,symbolStar:Cn,symbolWye:Dn,symbolTriangleUp:jn,symbolTriangleDown:In});const Fn=Math.PI,Pn=2*Fn,Bn=1e-6,Un=Pn-Bn;function Hn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Yn{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Hn:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return Hn;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(ai||(ai=ni(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(li||(li=ni(["Z"]))))}lineTo(t,e){this._append(si||(si=ni(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,r){this._append(ci||(ci=ni(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}bezierCurveTo(t,e,n,r,o,i){this._append(ui||(ui=ni(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+o,this._y1=+i)}arcTo(t,e,n,r,o){if(t=+t,e=+e,n=+n,r=+r,(o=+o)<0)throw new Error("negative radius: ".concat(o));let i=this._x1,a=this._y1,l=n-t,s=r-e,c=i-t,u=a-e,f=c*c+u*u;if(null===this._x1)this._append(fi||(fi=ni(["M",",",""])),this._x1=t,this._y1=e);else if(f>Bn)if(Math.abs(u*l-s*c)>Bn&&o){let h=n-i,p=r-a,d=l*l+s*s,g=h*h+p*p,m=Math.sqrt(d),b=Math.sqrt(f),y=o*Math.tan((Fn-Math.acos((d+f-g)/(2*m*b)))/2),v=y/b,w=y/m;Math.abs(v-1)>Bn&&this._append(hi||(hi=ni(["L",",",""])),t+v*c,e+v*u),this._append(pi||(pi=ni(["A",",",",0,0,",",",",",""])),o,o,+(u*h>c*p),this._x1=t+w*l,this._y1=e+w*s)}else this._append(di||(di=ni(["L",",",""])),this._x1=t,this._y1=e)}arc(t,e,n,r,o,i){if(t=+t,e=+e,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),l=n*Math.sin(r),s=t+a,c=e+l,u=1^i,f=i?r-o:o-r;null===this._x1?this._append(gi||(gi=ni(["M",",",""])),s,c):(Math.abs(this._x1-s)>Bn||Math.abs(this._y1-c)>Bn)&&this._append(mi||(mi=ni(["L",",",""])),s,c),n&&(f<0&&(f=f%Pn+Pn),f>Un?this._append(bi||(bi=ni(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,t-a,e-l,n,n,u,this._x1=s,this._y1=c):f>Bn&&this._append(yi||(yi=ni(["A",",",",0,",",",",",",",""])),n,n,+(f>=Fn),u,this._x1=t+n*Math.cos(o),this._y1=e+n*Math.sin(o)))}rect(t,e,n,r){this._append(vi||(vi=ni(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}toString(){return this._}}function Wn(){return new Yn}function Gn(t){let e;function n(t,e){return t[11]?Vn:qn}let r=n(t),o=r(t);return{c(){o.c(),e=m()},m(t,n){o.m(t,n),u(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&f(e)}}}function qn(t){let e,n;return{c(){e=p("div"),y(e,"class",n="legend-color buffer ".concat(t[31])),w(e,"width",ln((t[9]?t[9]:t[16])+t[1].size)),w(e,"height",ln(t[25]+t[1].size)),w(e,"background",t[1].color),w(e,"margin-left",t[0]?ln(t[26]):null),w(e,"margin-right",t[0]?null:ln(t[26])),w(e,"position","absolute"),w(e,"z-index","0"),w(e,"right",t[0]?ln(-t[1].size/2):null),w(e,"left",t[0]?null:ln(-t[1].size/2)),w(e,"top","calc(60% - ".concat(t[25]/2+t[1].size,"px)"))},m(t,n){u(t,e,n)},p(t,r){1&r[1]&&n!==(n="legend-color buffer ".concat(t[31]))&&y(e,"class",n),66050&r[0]&&w(e,"width",ln((t[9]?t[9]:t[16])+t[1].size)),33554434&r[0]&&w(e,"height",ln(t[25]+t[1].size)),2&r[0]&&w(e,"background",t[1].color),67108865&r[0]&&w(e,"margin-left",t[0]?ln(t[26]):null),67108865&r[0]&&w(e,"margin-right",t[0]?null:ln(t[26])),3&r[0]&&w(e,"right",t[0]?ln(-t[1].size/2):null),3&r[0]&&w(e,"left",t[0]?null:ln(-t[1].size/2)),33554434&r[0]&&w(e,"top","calc(60% - ".concat(t[25]/2+t[1].size,"px)"))},d(t){t&&f(e)}}}function Vn(t){let e,n,r,o=t[11].strokeWidth>0&&Kn(t),i=t[11].symbol&&Xn(t);return{c(){e=d("svg"),o&&o.c(),n=m(),i&&i.c(),y(e,"class",r="legend-color buffer ".concat(t[31])),w(e,"width",ln(t[16])),w(e,"height",ln(t[25])),w(e,"margin-left",t[0]?ln(t[26]):null),w(e,"margin-right",t[0]?null:ln(t[26])),w(e,"position","absolute"),w(e,"z-index","0"),w(e,"right",t[0]?ln(-t[1].size/2):null),w(e,"left",t[0]?null:ln(-t[1].size/2)),w(e,"top","calc(60% - ".concat(t[25]/2+t[1].size,"px)"))},m(t,r){u(t,e,r),o&&o.m(e,null),c(e,n),i&&i.m(e,null)},p(t,a){t[11].strokeWidth>0?o?o.p(t,a):(o=Kn(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),t[11].symbol?i?i.p(t,a):(i=Xn(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),1&a[1]&&r!==(r="legend-color buffer ".concat(t[31]))&&y(e,"class",r),65536&a[0]&&w(e,"width",ln(t[16])),33554432&a[0]&&w(e,"height",ln(t[25])),67108865&a[0]&&w(e,"margin-left",t[0]?ln(t[26]):null),67108865&a[0]&&w(e,"margin-right",t[0]?null:ln(t[26])),3&a[0]&&w(e,"right",t[0]?ln(-t[1].size/2):null),3&a[0]&&w(e,"left",t[0]?null:ln(-t[1].size/2)),33554434&a[0]&&w(e,"top","calc(60% - ".concat(t[25]/2+t[1].size,"px)"))},d(t){t&&f(e),o&&o.d(),i&&i.d()}}}function Kn(t){let e,n,r,o,i,a,l;return{c(){e=d("line"),y(e,"x1",n=t[20]+(t[0]?-t[1].size:0)),y(e,"y1",r=t[25]/2+t[1].size/4),y(e,"x2",o=t[21]+(t[0]?0:t[1].size)),y(e,"y2",i=t[25]/2+t[1].size/4),y(e,"stroke",a=t[1].color),y(e,"stroke-width",l=t[11].strokeWidth+t[1].size),y(e,"stroke-linecap",t[17])},m(t,n){u(t,e,n)},p(t,s){1048579&s[0]&&n!==(n=t[20]+(t[0]?-t[1].size:0))&&y(e,"x1",n),33554434&s[0]&&r!==(r=t[25]/2+t[1].size/4)&&y(e,"y1",r),2097155&s[0]&&o!==(o=t[21]+(t[0]?0:t[1].size))&&y(e,"x2",o),33554434&s[0]&&i!==(i=t[25]/2+t[1].size/4)&&y(e,"y2",i),2&s[0]&&a!==(a=t[1].color)&&y(e,"stroke",a),2050&s[0]&&l!==(l=t[11].strokeWidth+t[1].size)&&y(e,"stroke-width",l),131072&s[0]&&y(e,"stroke-linecap",t[17])},d(t){t&&f(e)}}}function Xn(t){let e,n,r,o,i;return{c(){e=d("path"),y(e,"class","symbol"),y(e,"transform",n="translate("+(t[15]+.5*t[1].size*(t[0]?-1:1))+", "+t[25]/2+")"),y(e,"d",t[22]),y(e,"fill",r=t[1].color),y(e,"stroke",o=t[1].color),y(e,"stroke-width",i=t[1].size)},m(t,n){u(t,e,n)},p(t,a){33587203&a[0]&&n!==(n="translate("+(t[15]+.5*t[1].size*(t[0]?-1:1))+", "+t[25]/2+")")&&y(e,"transform",n),4194304&a[0]&&y(e,"d",t[22]),2&a[0]&&r!==(r=t[1].color)&&y(e,"fill",r),2&a[0]&&o!==(o=t[1].color)&&y(e,"stroke",o),2&a[0]&&i!==(i=t[1].size)&&y(e,"stroke-width",i)},d(t){t&&f(e)}}}function Zn(t){let e,n,r,o=t[4]&&tr(t);return{c(){e=p("div"),o&&o.c(),r=m(),y(e,"class",n="legend-color ".concat(t[31])),w(e,"width",ln(t[9]||t[16])),w(e,"height",ln(t[25])),w(e,"margin-left",t[0]?ln(t[26]):null),w(e,"margin-right",t[0]?null:ln(t[26])),w(e,"background",t[6]),w(e,"mix-blend-mode",t[4]?"screen":null)},m(t,n){u(t,e,n),o&&o.m(t,n),u(t,r,n)},p(t,i){1&i[1]&&n!==(n="legend-color ".concat(t[31]))&&y(e,"class",n),66048&i[0]&&w(e,"width",ln(t[9]||t[16])),33554432&i[0]&&w(e,"height",ln(t[25])),67108865&i[0]&&w(e,"margin-left",t[0]?ln(t[26]):null),67108865&i[0]&&w(e,"margin-right",t[0]?null:ln(t[26])),64&i[0]&&w(e,"background",t[6]),16&i[0]&&w(e,"mix-blend-mode",t[4]?"screen":null),t[4]?o?o.p(t,i):(o=tr(t),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){t&&f(e),o&&o.d(t),t&&f(r)}}}function Jn(t){let e,n,r,o,i,a,l=t[11].symbol&&er(t);return{c(){e=d("svg"),n=d("line"),l&&l.c(),y(n,"x1",t[20]),y(n,"y1",r=t[25]/2),y(n,"x2",t[21]),y(n,"y2",o=t[25]/2),y(n,"stroke",t[6]),y(n,"stroke-width",i=t[11].strokeWidth),y(n,"stroke-dasharray",a=t[11].dashArray),y(n,"stroke-linecap",t[17]),w(e,"width",ln(t[16])),w(e,"height",ln(t[25])),w(e,"margin-left",t[0]?ln(t[26]):null),w(e,"margin-right",t[0]?null:ln(t[26]))},m(t,r){u(t,e,r),c(e,n),l&&l.m(e,null)},p(t,s){1048576&s[0]&&y(n,"x1",t[20]),33554432&s[0]&&r!==(r=t[25]/2)&&y(n,"y1",r),2097152&s[0]&&y(n,"x2",t[21]),33554432&s[0]&&o!==(o=t[25]/2)&&y(n,"y2",o),64&s[0]&&y(n,"stroke",t[6]),2048&s[0]&&i!==(i=t[11].strokeWidth)&&y(n,"stroke-width",i),2048&s[0]&&a!==(a=t[11].dashArray)&&y(n,"stroke-dasharray",a),131072&s[0]&&y(n,"stroke-linecap",t[17]),t[11].symbol?l?l.p(t,s):(l=er(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),65536&s[0]&&w(e,"width",ln(t[16])),33554432&s[0]&&w(e,"height",ln(t[25])),67108865&s[0]&&w(e,"margin-left",t[0]?ln(t[26]):null),67108865&s[0]&&w(e,"margin-right",t[0]?null:ln(t[26]))},d(t){t&&f(e),l&&l.d()}}}function Qn(t){let e,n,r,o,i,a,l,s,h,p,g,m;return{c(){e=d("svg"),n=d("defs"),r=d("pattern"),o=d("line"),p=d("rect"),y(o,"x1",i=t[28]/2),y(o,"y1","0"),y(o,"x2",a=t[28]/2),y(o,"y2",t[28]),y(o,"stroke",t[6]),y(o,"stroke-width",l=t[10].strokeWidth),y(r,"id",s="color-legend-fill-pattern-".concat(t[2])),y(r,"patternTransform",h="rotate(".concat(180-(t[29]||0)," 0 0)")),y(r,"patternUnits","userSpaceOnUse"),y(r,"width",t[28]),y(r,"height",t[28]),y(p,"width",g=t[9]||t[16]),y(p,"height",t[25]),y(p,"fill",m="url(#color-legend-fill-pattern-".concat(t[2],")")),y(p,"rx",t[19]),y(p,"ry",t[19]),w(e,"width",ln(t[9]||t[16])),w(e,"height",ln(t[25])),w(e,"margin-left",t[0]?ln(t[26]):null),w(e,"margin-right",t[0]?null:ln(t[26]))},m(t,i){u(t,e,i),c(e,n),c(n,r),c(r,o),c(e,p)},p(t,n){268435456&n[0]&&i!==(i=t[28]/2)&&y(o,"x1",i),268435456&n[0]&&a!==(a=t[28]/2)&&y(o,"x2",a),268435456&n[0]&&y(o,"y2",t[28]),64&n[0]&&y(o,"stroke",t[6]),1024&n[0]&&l!==(l=t[10].strokeWidth)&&y(o,"stroke-width",l),4&n[0]&&s!==(s="color-legend-fill-pattern-".concat(t[2]))&&y(r,"id",s),536870912&n[0]&&h!==(h="rotate(".concat(180-(t[29]||0)," 0 0)"))&&y(r,"patternTransform",h),268435456&n[0]&&y(r,"width",t[28]),268435456&n[0]&&y(r,"height",t[28]),66048&n[0]&&g!==(g=t[9]||t[16])&&y(p,"width",g),33554432&n[0]&&y(p,"height",t[25]),4&n[0]&&m!==(m="url(#color-legend-fill-pattern-".concat(t[2],")"))&&y(p,"fill",m),524288&n[0]&&y(p,"rx",t[19]),524288&n[0]&&y(p,"ry",t[19]),66048&n[0]&&w(e,"width",ln(t[9]||t[16])),33554432&n[0]&&w(e,"height",ln(t[25])),67108865&n[0]&&w(e,"margin-left",t[0]?ln(t[26]):null),67108865&n[0]&&w(e,"margin-right",t[0]?null:ln(t[26]))},d(t){t&&f(e)}}}function tr(t){let e,n;return{c(){e=p("div"),y(e,"class",n="legend-color blend-multiply-background ".concat(t[31])),w(e,"width",ln(t[9]||t[16])),w(e,"height",ln(t[25])),w(e,"margin-left",t[0]?null:ln(-(t[9]||t[16])-t[26])),w(e,"margin-right",t[0]?ln(-(t[9]||t[16])-t[26]):null),w(e,"background",t[5]),w(e,"position","relative"),w(e,"z-index","-1")},m(t,n){u(t,e,n)},p(t,r){1&r[1]&&n!==(n="legend-color blend-multiply-background ".concat(t[31]))&&y(e,"class",n),66048&r[0]&&w(e,"width",ln(t[9]||t[16])),33554432&r[0]&&w(e,"height",ln(t[25])),67174913&r[0]&&w(e,"margin-left",t[0]?null:ln(-(t[9]||t[16])-t[26])),67174913&r[0]&&w(e,"margin-right",t[0]?ln(-(t[9]||t[16])-t[26]):null),32&r[0]&&w(e,"background",t[5])},d(t){t&&f(e)}}}function er(t){let e,n,r,o,i,a;return{c(){var l;e=d("path"),y(e,"class","symbol"),y(e,"transform",n="translate("+t[15]+", "+t[25]/2+")"),y(e,"d",t[22]),y(e,"fill",r="hollow"===t[23]?null===(l=t[3].colors)||void 0===l?void 0:l.background:t[6]),y(e,"stroke",o="hollow"===t[23]?t[6]:null),y(e,"stroke-width",i="hollow"===t[23]?t[11].strokeWidth:null),y(e,"opacity",a=t[11].symbol.opacity)},m(t,n){u(t,e,n)},p(t,l){var s;33587200&l[0]&&n!==(n="translate("+t[15]+", "+t[25]/2+")")&&y(e,"transform",n),4194304&l[0]&&y(e,"d",t[22]),8388680&l[0]&&r!==(r="hollow"===t[23]?null===(s=t[3].colors)||void 0===s?void 0:s.background:t[6])&&y(e,"fill",r),8388672&l[0]&&o!==(o="hollow"===t[23]?t[6]:null)&&y(e,"stroke",o),8390656&l[0]&&i!==(i="hollow"===t[23]?t[11].strokeWidth:null)&&y(e,"stroke-width",i),2048&l[0]&&a!==(a=t[11].symbol.opacity)&&y(e,"opacity",a)},d(t){t&&f(e)}}}function nr(t){let n,r,o,a,l,s,h,d=rt(t[18])+"",g=rt(t[30])+"",v=t[1]&&Gn(t);function k(t,e){return t[10]?Qn:t[11]&&(t[11].strokeWidth>0||t[11].symbol)?Jn:Zn}let M=k(t),A=M(t);return{c(){n=p("div"),r=p("div"),v&&v.c(),o=m(),A.c(),a=p("div"),l=p("div"),y(a,"class","legend-label"),w(a,"text-shadow",t[1]?t[1].textShadow:null),w(a,"color",t[24]),y(r,"class","legend-no-break"),y(l,"class","legend-label"),w(l,"text-shadow",t[1]?t[1].textShadow:null),w(l,"color",t[24]),y(n,"class","legend-swatch"),y(n,"aria-hidden","true"),x(n,"highlight",t[14]),w(n,"margin-left",t[0]?ln(t[27]):null),w(n,"margin-right",t[0]?null:ln(t[27]))},m(e,i){u(e,n,i),c(n,r),v&&v.m(r,null),c(r,o),A.m(r,null),c(r,a),a.innerHTML=d,c(n,l),l.innerHTML=g,s||(h=[b(n,"mouseenter",t[40]),b(n,"click",t[41]),b(n,"mousemove",t[38]),b(n,"mouseleave",t[39])],s=!0)},p(t,e){t[1]?v?v.p(t,e):(v=Gn(t),v.c(),v.m(r,o)):v&&(v.d(1),v=null),M===(M=k(t))&&A?A.p(t,e):(A.d(1),A=M(t),A&&(A.c(),A.m(r,a))),262144&e[0]&&d!==(d=rt(t[18])+"")&&(a.innerHTML=d),2&e[0]&&w(a,"text-shadow",t[1]?t[1].textShadow:null),16777216&e[0]&&w(a,"color",t[24]),1073741824&e[0]&&g!==(g=rt(t[30])+"")&&(l.innerHTML=g),2&e[0]&&w(l,"text-shadow",t[1]?t[1].textShadow:null),16777216&e[0]&&w(l,"color",t[24]),16384&e[0]&&x(n,"highlight",t[14]),134217729&e[0]&&w(n,"margin-left",t[0]?ln(t[27]):null),134217729&e[0]&&w(n,"margin-right",t[0]?null:ln(t[27]))},i:e,o:e,d(t){t&&f(n),v&&v.d(),A.d(),s=!1,i(h)}}}function rr(t,e,n){let r,o,i,a,l,s,c,u,f,h,p,d,g,m,b;var y;const v=A();let{rtl:w}=e,{buffer:x}=e,{id:k}=e,{themeData:M}=e,{chroma:T}=e,{blendMultiply:_=!1}=e,{blendMultiplyBackground:O=""}=e;if(_&&!O)throw new Error("Property 'blendMultiplyBackground' missing from legend");let{color:N}=e,{label:S}=e,{key:L}=e,{width:C}=e,{pattern:D}=e,{line:$}=e,{min:j}=e,{max:R}=e,{highlight:I=!1}=e;const z={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};let F,P,B,U,H;return t.$$set=t=>{"rtl"in t&&n(0,w=t.rtl),"buffer"in t&&n(1,x=t.buffer),"id"in t&&n(2,k=t.id),"themeData"in t&&n(3,M=t.themeData),"chroma"in t&&n(33,T=t.chroma),"blendMultiply"in t&&n(4,_=t.blendMultiply),"blendMultiplyBackground"in t&&n(5,O=t.blendMultiplyBackground),"color"in t&&n(6,N=t.color),"label"in t&&n(7,S=t.label),"key"in t&&n(8,L=t.key),"width"in t&&n(9,C=t.width),"pattern"in t&&n(10,D=t.pattern),"line"in t&&n(11,$=t.line),"min"in t&&n(12,j=t.min),"max"in t&&n(13,R=t.max),"highlight"in t&&n(14,I=t.highlight)},t.$$.update=()=>{if(8&t.$$.dirty[0]&&n(19,r=ct(M,"vis.base.legend.swatch.borderRadius")),524288&t.$$.dirty[0]&&n(31,o="50%"===r?"dw-circle":"export-rect"),128&t.$$.dirty[0]&&n(18,i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=t.trim().indexOf(" "),n=t.trim().indexOf("-");return e<0&&n<0?t:n<0||e<n?t.slice(0,e):t.slice(0,n+1)}(S)),262272&t.$$.dirty[0]&&n(30,a=S.slice(i.length)),1024&t.$$.dirty[0]&&n(29,l=D?z[D.type]:0),1024&t.$$.dirty[0]&&n(28,s=D?D.lineGap+D.strokeWidth:0),8&t.$$.dirty[0]&&n(27,c=ct(M,"vis.base.legend.text.marginRight",10)),8&t.$$.dirty[0]&&n(26,u=ct(M,"vis.base.legend.swatch.marginRight",3)),2056&t.$$.dirty[0]&&n(16,f=$?ct(M,"vis.d3-lines.legend.swatch.width",16):ct(M,"vis.base.legend.swatch.width",ct(M,"vis.base.legend.swatch.size",14))),2056&t.$$.dirty[0]&&n(25,h=$?ct(M,"vis.d3-lines.legend.swatch.height",20):ct(M,"vis.base.legend.swatch.height",ct(M,"vis.base.legend.swatch.size",14))),8&t.$$.dirty[0]&&n(37,p=ct(M,"colors.background","#ffffff")),72&t.$$.dirty[0]|68&t.$$.dirty[1]&&n(24,d=ct(M,"vis.base.legend.text.useSwatchColor")&&ut(N,p,4.5,T)),8&t.$$.dirty[0]&&n(17,g=ct(M,"vis.d3-lines.legend.swatch.linecap","round")),2048&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(36,m=(null==$?void 0:$.symbol)?(null===n(34,y=null==$?void 0:$.symbol)||void 0===y?void 0:y.position)||"center":null),2048&t.$$.dirty[0]&&(null==$?void 0:$.symbol)&&n(35,B=(null==$?void 0:$.symbol.size)||5),67584&t.$$.dirty[0]|48&t.$$.dirty[1]&&(null==$?void 0:$.symbol)&&n(15,H="left"===m?B/2:"right"===m?f-B/2:f/2),231424&t.$$.dirty[0]|32&t.$$.dirty[1]){const t=$&&"butt"!==g?.5*$.strokeWidth:0;n(20,F=t),n(21,P=f-t),"left"===m?n(20,F=H):"right"===m&&n(21,P=H)}if(2048&t.$$.dirty[0]|16&t.$$.dirty[1]&&(null==$?void 0:$.symbol)){const t=Wn(),e=$.symbol,r=Object.values(zn).find((t=>t.name===e.shape));if(void 0===r)throw new Error("'".concat(e.shape,"' is not a valid shape"));const o=Math.pow(B/2,2)*Math.PI;r.draw(t,o),n(22,U=t.toString())}8&t.$$.dirty[0]&&n(23,b=ct(M,"vis.d3-lines.symbols.style","fill"))},[w,x,k,M,_,O,N,S,L,C,D,$,j,R,I,H,f,g,i,r,F,P,U,b,d,h,u,c,s,l,a,o,v,T,y,B,m,p,function(e){E.call(this,t,e)},function(e){E.call(this,t,e)},()=>v("mouseenter",{key:L,label:S,color:N,min:j,max:R,value:L}),()=>v("mouseenter",{key:L,label:S,color:N,min:j,max:R,value:L})]}Wn.prototype=Yn.prototype;class or extends K{constructor(t){super(),V(this,t,rr,nr,l,{rtl:0,buffer:1,id:2,themeData:3,chroma:33,blendMultiply:4,blendMultiplyBackground:5,color:6,label:7,key:8,width:9,pattern:10,line:11,min:12,max:13,highlight:14},null,[-1,-1])}}function ir(t,e,n){const{css:r,getProp:o,typography:i}=an(t,e),a="vis.base.legend.caption",l="vis.base.labels.legend",s=o("vis.base.legend.alignment"),c="below"===n;return r(wi||(wi=ni(["\n        text-align: ",";\n        &.dir-rtl {\n            direction: rtl;\n            text-align: ",";\n        }\n\n        padding-top: ",";\n        padding-bottom: ",";\n\n        width: ",";\n        height: ",";\n\n        .legend-title {\n            position: relative;\n            margin-bottom: ",";\n        }\n        .legend-title,\n        .legend-title span {\n            ","\n        }\n        .legend-title:not(.buffer) > span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-title.buffer {\n            position: absolute;\n            top: 0;\n            width: 100%;\n            z-index: 1;\n        }\n        text:not(.buffer) {\n            fill: currentColor;\n        }\n        g.group text.label,\n        g.group text.label tspan,\n        g.swatch text,\n        g.swatch text tspan {\n            font-size: ",";\n            font-family: ",";\n        }\n    "])),s,("left"===s?"right":"right"===s?"left":null)||s,ln(c?o("vis.base.legend.padding.bottom",10):o("vis.base.legend.padding.top")),ln(c?o("vis.base.legend.padding.top"):o("vis.base.legend.padding.bottom",10)),ln(o("".concat(l,".width"))),ln(o("".concat(l,".height"))),ln(o("".concat(a,".margin.vertical"),4)),i(ct(e,a),{fontWeight:700}),ln(o("vis.base.labels.legend.fontSize")),o("vis.base.labels.legend.typeface"))}function ar(t,e){const{css:n}=an(t,e);return n(xi||(xi=ni(["\n        /* general styles */\n        svg {\n            overflow: visible;\n            display: block;\n        }\n\n        &.dir-rtl {\n            direction: rtl;\n        }\n\n        /* shared styles */\n        g.group text.label,\n        g.group text.label tspan {\n            dominant-baseline: middle;\n        }\n\n        g.swatch path.tick {\n            shape-rendering: crispEdges;\n        }\n\n        g.swatch text {\n            transition: opacity 0.15s ease-in-out;\n        }\n\n        &.vertical {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: start;\n                dominant-baseline: middle;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                text-anchor: start;\n            }\n\n            & .group text.label,\n            & .group text.label tspan {\n                dominant-baseline: middle;\n            }\n\n            &:not(.dir-rtl) {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: end;\n                }\n            }\n\n            &.dir-rtl {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: start;\n                }\n            }\n        }\n\n        &.horizontal {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: middle;\n                dominant-baseline: hanging;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                dominant-baseline: hanging;\n            }\n        }\n\n        & g.highlighted g.swatch {\n            & text {\n                opacity: 0.3;\n            }\n\n            & rect,\n            & path {\n                opacity: 0.2;\n            }\n\n            &.highlight {\n                & text,\n                & rect,\n                & path {\n                    opacity: 1;\n                }\n            }\n        }\n    "])))}function lr(t){let{colors:e,title:n="",format:r,swatches:o,limits:i}=t;if("function"==typeof e&&i){const[t,e]=[i[0],i[i.length-1]].map(r);return"Continuous color legend".concat(n?', titled "'.concat(n,'"'):"",", ranging from ").concat(t," to ").concat(e,".")}{if(!o||!o.length)return"";const[t,e]=[o[0].label,o[o.length-1].label].map((t=>t.replace("<","less than").replace("≥","greater or equal than")));return"Color legend with ".concat(o.length," steps ").concat(n?', titled "'.concat(n,'"'):"",", ranging from ").concat(t," to ").concat(e,".")}}function sr(t,e){if(!t)return"";const n=t.map((t=>t.label)),r=n.length<=5?"".concat(n.slice(0,-1).join(", "),", and ").concat(n[n.length-1]):"".concat(n.slice(0,3).join(", "),", ending with ").concat(n[n.length-1],".");return"Category legend with ".concat(t.length," items").concat(e?', titled "'.concat(e,'"'):"",". The items are ").concat(r)}function cr(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,r=null,o=!1,i=!0;return{set(a){let l=a;"string"!=typeof a&&(l=JSON.stringify(a)),r!==l&&(e&&clearTimeout(e),e=setTimeout((()=>{i=!1,t(a)}),i?n:0)),r=l,o=!0},clear(){o&&null===r||(r=null,i=!0,e&&clearTimeout(e),t(null)),o=!0},get:()=>r}}function ur(t,e){const n="ontouchstart"in window||navigator.maxTouchPoints,r=cr((t=>{i&&i("string"==typeof t||"number"==typeof t?t:null)}),n?0:700),o=e=>{r.clear(),t(e.type)};let i;return{onMouseEnter:n=>{e&&r.set(n.detail.key),t(n.type,n.detail)},onMouseLeave:o,onClick:t=>{n&&t.target instanceof HTMLElement&&t.target.closest("#chart")&&o(new MouseEvent("mouseleave"))},onHighlight:t=>{i=t}}}function fr(t){const e={size:5,color:t};return Object.assign(Object.assign({},e),{textStroke:"".concat(e.size,"px ").concat(e.color),textShadow:"1px 1px 0px ".concat(e.color,", 0px 1px 0px ").concat(e.color,", -1px 1px 0px ").concat(e.color,", 1px -1px 0px ").concat(e.color,", 0px -1px 0px ").concat(e.color,", -1px -1px 0px ").concat(e.color,", 1px 0px 0px ").concat(e.color,", 0px 0px 0px ").concat(e.color,", -1px 0px 0px ").concat(e.color),svgTextStyles:{fill:e.color,stroke:e.color,"stroke-width":e.size,"stroke-linejoin":"round"}})}function hr(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function pr(t){let e,n,r=t[14],o=[];for(let e=0;e<r.length;e+=1)o[e]=dr(hr(t,r,e));const i=t=>Y(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=m()},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(640601&n[0]){let a;for(r=t[14],a=0;a<r.length;a+=1){const i=hr(t,r,a);o[a]?(o[a].p(i,n),H(o[a],1)):(o[a]=dr(i),o[a].c(),H(o[a],1),o[a].m(e.parentNode,e))}for(B(),a=r.length;a<o.length;a+=1)i(a);U()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Y(o[t]);n=!1},d(t){h(o,t),t&&f(e)}}}function dr(t){let e,r;const o=[t[30],{id:"".concat(t[19],"-").concat(t[32])},{rtl:t[3]},{themeData:t[6]},{chroma:t[4]},{buffer:t[15]},{highlight:t[0]===t[30].key},{blendMultiply:t[9]},{blendMultiplyBackground:t[10]}];let i={};for(let t=0;t<o.length;t+=1)i=n(i,o[t]);return e=new or({props:i}),e.$on("mouseenter",t[16]),{c(){W(e.$$.fragment)},m(t,n){G(e,t,n),r=!0},p(t,n){const r=575065&n[0]?function(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const a=t[i],l=e[i];if(l){for(const t in a)t in l||(r[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[i]=l}else for(const t in a)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(o,[16384&n[0]&&(i=t[30],"object"==typeof i&&null!==i?i:{}),524288&n[0]&&{id:"".concat(t[19],"-").concat(t[32])},8&n[0]&&{rtl:t[3]},64&n[0]&&{themeData:t[6]},16&n[0]&&{chroma:t[4]},32768&n[0]&&{buffer:t[15]},16385&n[0]&&{highlight:t[0]===t[30].key},512&n[0]&&{blendMultiply:t[9]},1024&n[0]&&{blendMultiplyBackground:t[10]}]):{};var i;e.$set(r)},i(t){r||(H(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){q(e,t)}}}function gr(t){let e,n,r,o,i,a=t[5]&&pr(t);return{c(){e=p("div"),a&&a.c(),y(e,"class",n=["legend-categories",t[12],t[11],t[2]?"horizontal":"vertical"].join(" ")),x(e,"highlighted",""!==t[0])},m(n,l){u(n,e,l),a&&a.m(e,null),r=!0,o||(i=b(e,"mouseleave",t[17]),o=!0)},p(t,o){t[5]?a?(a.p(t,o),32&o[0]&&H(a,1)):(a=pr(t),a.c(),H(a,1),a.m(e,null)):a&&(B(),Y(a,1,1,(()=>{a=null})),U()),(!r||6148&o[0]&&n!==(n=["legend-categories",t[12],t[11],t[2]?"horizontal":"vertical"].join(" ")))&&y(e,"class",n),(!r||6149&o[0])&&x(e,"highlighted",""!==t[0])},i(t){r||(H(a),r=!0)},o(t){Y(a),r=!1},d(t){t&&f(e),a&&a.d(),o=!1,i()}}}function mr(t){let e,n,r,o;return e=new st({props:{title:t[1],buffer:t[15],className:["category-legend",t[2]?"horizontal":"vertical",t[11],t[13]].join(" "),width:ln(t[7]),height:ln(t[8]),ariaLabel:sr(t[14],t[1]),$$slots:{default:[gr]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(i,a){G(e,i,a),n=!0,r||(o=b(window,"click",t[18]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),32768&n[0]&&(r.buffer=t[15]),10244&n[0]&&(r.className=["category-legend",t[2]?"horizontal":"vertical",t[11],t[13]].join(" ")),128&n[0]&&(r.width=ln(t[7])),256&n[0]&&(r.height=ln(t[8])),16386&n[0]&&(r.ariaLabel=sr(t[14],t[1])),56957&n[0]|4&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){q(e,t),r=!1,o()}}}function br(t,e,n){let r,o,i,a,l,s;var c;const u=A();let{title:f=""}=e,{horizontal:h=!0}=e,{highlight:p=!1}=e,{reverse:d=!1}=e,{rtl:g=!1}=e,{emotion:m}=e,{chroma:b}=e,{swatches:y}=e,{themeData:v={}}=e,{width:w="100%"}=e,{height:x="auto"}=e,{position:k="above"}=e,{buffer:M=!1}=e,{blendMultiply:E=!1}=e,{blendMultiplyBackground:T=""}=e,{highlightedKey:_=""}=e,{highlightedValue:O=null}=e;const{onMouseEnter:N,onMouseLeave:S,onClick:L,onHighlight:C}=ur(u,p);C((t=>{n(0,_=t||""),""===_&&n(20,O=null)}));const D=Math.random().toString().replace(".","");return t.$$set=t=>{"title"in t&&n(1,f=t.title),"horizontal"in t&&n(2,h=t.horizontal),"highlight"in t&&n(21,p=t.highlight),"reverse"in t&&n(22,d=t.reverse),"rtl"in t&&n(3,g=t.rtl),"emotion"in t&&n(23,m=t.emotion),"chroma"in t&&n(4,b=t.chroma),"swatches"in t&&n(5,y=t.swatches),"themeData"in t&&n(6,v=t.themeData),"width"in t&&n(7,w=t.width),"height"in t&&n(8,x=t.height),"position"in t&&n(24,k=t.position),"buffer"in t&&n(25,M=t.buffer),"blendMultiply"in t&&n(9,E=t.blendMultiply),"blendMultiplyBackground"in t&&n(10,T=t.blendMultiplyBackground),"highlightedKey"in t&&n(0,_=t.highlightedKey),"highlightedValue"in t&&n(20,O=t.highlightedValue)},t.$$.update=()=>{64&t.$$.dirty[0]&&n(27,r=ct(v,"colors.background","white")),167772160&t.$$.dirty[0]&&n(15,o=M&&fr(r)),4194336&t.$$.dirty[0]&&n(14,i=d?y.slice(0).reverse():y),25165888&t.$$.dirty[0]&&n(13,a=m&&ir(m,v,k)),8388672&t.$$.dirty[0]&&n(12,l=m&&function(t,e){const{css:n,getProp:r,typography:o}=an(t,e);return n(ki||(ki=ni(["\n        line-height: 1.4;\n        ","\n\n        svg {\n            overflow: visible;\n            border-radius: ",";\n            vertical-align: middle;\n            position: relative;\n            z-index: 10;\n        }\n\n        .legend-color {\n            display: inline-block;\n            vertical-align: middle;\n            border-radius: ",";\n            position: relative;\n            z-index: 10;\n        }\n\n        &:not(.dir-rtl) .legend-color {\n            margin-right: 3px;\n        }\n        &.dir-rtl .legend-color {\n            margin-left: 3px;\n        }\n\n        .legend-no-break {\n            white-space: nowrap;\n            display: inline-block;\n            position: relative;\n        }\n\n        .legend-label {\n            display: inline;\n            white-space: normal;\n            vertical-align: middle;\n            position: relative;\n        }\n        .legend-label span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-label.buffer {\n            position: absolute;\n            right: 0;\n            z-index: 1;\n        }\n\n        .legend-swatch {\n            margin-bottom: 3px;\n            margin-bottom: ",";\n        }\n        &.horizontal:not(.dir-rtl) .legend-swatch {\n            margin-right: 10px;\n        }\n        &.horizontal.dir-rtl .legend-swatch {\n            margin-left: 10px;\n        }\n        &.horizontal .legend-swatch {\n            display: inline;\n        }\n        &.horizontal .legend-swatch .legend-color {\n            display: inline-block;\n        }\n\n        &.highlighted .legend-swatch {\n            opacity: 0.2;\n            transition: opacity 0.15s ease-in-out;\n        }\n        &.highlighted .legend-swatch.highlight {\n            opacity: 1;\n        }\n    "])),o(ct(e,"vis.base.labels.legend")),ln(r("vis.base.legend.swatch.borderRadius")),ln(r("vis.base.legend.swatch.borderRadius")),ln(r("vis.base.legend.rowSpacing")))}(m,v)),8&t.$$.dirty[0]&&n(11,s=g?"dir-rtl":"dir-ltr"),68157472&t.$$.dirty[0]&&n(0,_=(null===n(26,c=y.find((t=>{if(null!==O&&t.min&&t.max)return O>=t.min&&O<t.max})))||void 0===c?void 0:c.key)||"")},[_,f,h,g,b,y,v,w,x,E,T,s,l,a,i,o,N,S,L,D,O,p,d,m,k,M,c,r]}class yr extends K{constructor(t){super(),V(this,t,br,mr,l,{title:1,horizontal:2,highlight:21,reverse:22,rtl:3,emotion:23,chroma:4,swatches:5,themeData:6,width:7,height:8,position:24,buffer:25,blendMultiply:9,blendMultiplyBackground:10,highlightedKey:0,highlightedValue:20},null,[-1,-1])}}function vr(t,e,n){const r=t.slice();return r[62]=e[n],r}function wr(t,e,n){const r=t.slice();return r[65]=e[n],r[67]=n,r}function xr(t,e,n){const r=t.slice();return r[68]=e[n],r[70]=n,r}function kr(t,e,n){const r=t.slice();return r[68]=e[n],r[70]=n,r}function Mr(t){let e,n,r,o,i,a,l,s;return{c(){e=d("g"),n=d("path"),o=d("rect"),y(n,"class","triangle"),y(n,"d",t[18]),y(n,"transform",r="translate(".concat(t[17].join(","),")")),w(n,"fill",t[23].svgTextStyles.fill),w(n,"stroke",t[23].svgTextStyles.stroke),w(n,"stroke-width",t[23].svgTextStyles["stroke-width"]),w(n,"stroke-linejoin",t[23].svgTextStyles["stroke-linejoin"]),y(e,"class","highlight"),y(e,"aria-hidden","true"),y(e,"style",t[14]),y(o,"class","buffer"),y(o,"width",i=(t[3]?t[4]:t[11])+t[23].size),y(o,"height",a=(t[3]?t[11]:t[5])+t[23].size),y(o,"x",l=-t[23].size/2),y(o,"y",s=-t[23].size/2),w(o,"fill",t[23].color),w(o,"pointer-events","none")},m(t,r){u(t,e,r),c(e,n),u(t,o,r)},p(t,c){262144&c[0]&&y(n,"d",t[18]),131072&c[0]&&r!==(r="translate(".concat(t[17].join(","),")"))&&y(n,"transform",r),8388608&c[0]&&w(n,"fill",t[23].svgTextStyles.fill),8388608&c[0]&&w(n,"stroke",t[23].svgTextStyles.stroke),8388608&c[0]&&w(n,"stroke-width",t[23].svgTextStyles["stroke-width"]),8388608&c[0]&&w(n,"stroke-linejoin",t[23].svgTextStyles["stroke-linejoin"]),16384&c[0]&&y(e,"style",t[14]),8390680&c[0]&&i!==(i=(t[3]?t[4]:t[11])+t[23].size)&&y(o,"width",i),8390696&c[0]&&a!==(a=(t[3]?t[11]:t[5])+t[23].size)&&y(o,"height",a),8388608&c[0]&&l!==(l=-t[23].size/2)&&y(o,"x",l),8388608&c[0]&&s!==(s=-t[23].size/2)&&y(o,"y",s),8388608&c[0]&&w(o,"fill",t[23].color)},d(t){t&&f(e),t&&f(o)}}}function Ar(t){let e,n,r;return{c(){e=d("rect"),y(e,"width",n=t[3]?t[4]:t[11]),y(e,"height",r=t[3]?t[11]:t[5]),w(e,"fill",t[22])},m(t,n){u(t,e,n)},p(t,o){2072&o[0]&&n!==(n=t[3]?t[4]:t[11])&&y(e,"width",n),2088&o[0]&&r!==(r=t[3]?t[11]:t[5])&&y(e,"height",r),4194304&o[0]&&w(e,"fill",t[22])},d(t){t&&f(e)}}}function Er(t){let e,n,r,o=t[65],i=[];for(let e=0;e<o.length;e+=1)i[e]=Tr(kr(t,o,e));return{c(){e=d("text");for(let t=0;t<i.length;t+=1)i[t].c();y(e,"class",n=["buffer",t[20][t[67]]].join(" ")),y(e,"transform",r="translate(".concat(t[19][t[67]],")")),w(e,"fill",t[23].svgTextStyles.fill),w(e,"stroke",t[23].svgTextStyles.stroke),w(e,"stroke-width",t[23].svgTextStyles["stroke-width"]),w(e,"stroke-linejoin",t[23].svgTextStyles["stroke-linejoin"])},m(t,n){u(t,e,n);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null)},p(t,a){if(256&a[0]){let n;for(o=t[65],n=0;n<o.length;n+=1){const r=kr(t,o,n);i[n]?i[n].p(r,a):(i[n]=Tr(r),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}1048576&a[0]&&n!==(n=["buffer",t[20][t[67]]].join(" "))&&y(e,"class",n),524288&a[0]&&r!==(r="translate(".concat(t[19][t[67]],")"))&&y(e,"transform",r),8388608&a[0]&&w(e,"fill",t[23].svgTextStyles.fill),8388608&a[0]&&w(e,"stroke",t[23].svgTextStyles.stroke),8388608&a[0]&&w(e,"stroke-width",t[23].svgTextStyles["stroke-width"]),8388608&a[0]&&w(e,"stroke-linejoin",t[23].svgTextStyles["stroke-linejoin"])},d(t){t&&f(e),h(i,t)}}}function Tr(t){let e,n,r=t[68]+"";return{c(){e=d("tspan"),n=g(r),y(e,"x","0"),y(e,"dy",0===t[70]?0:$r)},m(t,r){u(t,e,r),c(e,n)},p(t,e){256&e[0]&&r!==(r=t[68]+"")&&v(n,r)},d(t){t&&f(e)}}}function _r(t){let e,n,r=t[68]+"";return{c(){e=d("tspan"),n=g(r),y(e,"x","0"),y(e,"dy",0===t[70]?0:$r)},m(t,r){u(t,e,r),c(e,n)},p(t,e){256&e[0]&&r!==(r=t[68]+"")&&v(n,r)},d(t){t&&f(e)}}}function Or(t){let e,n,r,o=t[0]&&t[23]&&Er(t),i=t[65],a=[];for(let e=0;e<i.length;e+=1)a[e]=_r(xr(t,i,e));return{c(){o&&o.c(),e=d("text");for(let t=0;t<a.length;t+=1)a[t].c();y(e,"class",n=t[20][t[67]]),y(e,"transform",r="translate(".concat(t[19][t[67]],")"))},m(t,n){o&&o.m(t,n),u(t,e,n);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null)},p(t,l){if(t[0]&&t[23]?o?o.p(t,l):(o=Er(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),256&l[0]){let n;for(i=t[65],n=0;n<i.length;n+=1){const r=xr(t,i,n);a[n]?a[n].p(r,l):(a[n]=_r(r),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}1048576&l[0]&&n!==(n=t[20][t[67]])&&y(e,"class",n),524288&l[0]&&r!==(r="translate(".concat(t[19][t[67]],")"))&&y(e,"transform",r)},d(t){o&&o.d(t),t&&f(e),h(a,t)}}}function Nr(t){let e,n;return{c(){e=d("text"),n=g(t[16]),y(e,"class","buffer"),w(e,"fill",t[23].svgTextStyles.fill),w(e,"stroke",t[23].svgTextStyles.stroke),w(e,"stroke-width",t[23].svgTextStyles["stroke-width"]),w(e,"stroke-linejoin",t[23].svgTextStyles["stroke-linejoin"]),w(e,"pointer-events","none")},m(t,r){u(t,e,r),c(e,n)},p(t,r){65536&r[0]&&v(n,t[16]),8388608&r[0]&&w(e,"fill",t[23].svgTextStyles.fill),8388608&r[0]&&w(e,"stroke",t[23].svgTextStyles.stroke),8388608&r[0]&&w(e,"stroke-width",t[23].svgTextStyles["stroke-width"]),8388608&r[0]&&w(e,"stroke-linejoin",t[23].svgTextStyles["stroke-linejoin"])},d(t){t&&f(e)}}}function Sr(t){let e,n;return{c(){e=d("stop"),y(e,"offset",100*t[62]+"%"),y(e,"stop-color",n=t[30](t[62],t[2]))},m(t,n){u(t,e,n)},p(t,r){4&r[0]&&n!==(n=t[30](t[62],t[2]))&&y(e,"stop-color",n)},d(t){t&&f(e)}}}function Lr(t){let e,n,r,o,a,l,s,p,k,M,A,E,T,_,O,N,S,L,C,D,$,j,R,I=t[0]&&t[23]&&Mr(t),z=t[7]&&Ar(t),F=t[8],P=[];for(let e=0;e<F.length;e+=1)P[e]=Or(wr(t,F,e));let B=t[0]&&t[23]&&Nr(t),U=t[28],H=[];for(let e=0;e<U.length;e+=1)H[e]=Sr(vr(t,U,e));return{c(){e=d("svg"),n=d("g"),I&&I.c(),r=m(),z&&z.c(),o=d("rect"),s=d("g");for(let t=0;t<P.length;t+=1)P[t].c();k=d("g"),M=d("path"),E=d("g"),B&&B.c(),T=d("text"),_=g(t[16]),N=d("defs"),S=d("linearGradient");for(let t=0;t<H.length;t+=1)H[t].c();y(o,"width",a=t[3]?t[4]:t[11]),y(o,"height",l=t[3]?t[11]:t[5]),w(o,"fill","url(#".concat(t[29],")")),w(o,"mix-blend-mode",t[7]?"screen":null),y(s,"class","labels"),y(s,"aria-hidden","true"),y(s,"transform",p="translate(".concat(t[21],")")),y(M,"class","triangle"),y(M,"d",t[18]),y(M,"transform",A="translate(".concat(t[17].join(","),")")),y(E,"class","text"),y(E,"transform",O="translate(".concat(t[3]?[0,t[11]+12]:[t[6]?-12:t[11]+12,0],")")),y(k,"class","highlight"),y(k,"aria-hidden","true"),y(k,"style",t[14]),x(n,"highlighted",null!==t[12]&&t[9]),y(S,"id",t[29]),y(S,"x2",L=t[3]?1:0),y(S,"y2",C=t[3]?0:1),y(e,"width",D=t[15].width),y(e,"height",$=t[15].height),x(e,"no-transition",t[13])},m(i,a){u(i,e,a),c(e,n),I&&I.m(n,null),c(n,r),z&&z.m(n,null),c(n,o),c(n,s);for(let t=0;t<P.length;t+=1)P[t]&&P[t].m(s,null);c(n,k),c(k,M),c(k,E),B&&B.m(E,null),c(E,T),c(T,_),t[52](n),c(e,N),c(N,S);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(S,null);j||(R=[b(e,"mouseenter",t[32]),b(e,"mouseleave",t[33]),b(e,"mousemove",t[34])],j=!0)},p(t,i){if(t[0]&&t[23]?I?I.p(t,i):(I=Mr(t),I.c(),I.m(n,r)):I&&(I.d(1),I=null),t[7]?z?z.p(t,i):(z=Ar(t),z.c(),z.m(n,o)):z&&(z.d(1),z=null),2072&i[0]&&a!==(a=t[3]?t[4]:t[11])&&y(o,"width",a),2088&i[0]&&l!==(l=t[3]?t[11]:t[5])&&y(o,"height",l),128&i[0]&&w(o,"mix-blend-mode",t[7]?"screen":null),9961729&i[0]){let e;for(F=t[8],e=0;e<F.length;e+=1){const n=wr(t,F,e);P[e]?P[e].p(n,i):(P[e]=Or(n),P[e].c(),P[e].m(s,null))}for(;e<P.length;e+=1)P[e].d(1);P.length=F.length}if(2097152&i[0]&&p!==(p="translate(".concat(t[21],")"))&&y(s,"transform",p),262144&i[0]&&y(M,"d",t[18]),131072&i[0]&&A!==(A="translate(".concat(t[17].join(","),")"))&&y(M,"transform",A),t[0]&&t[23]?B?B.p(t,i):(B=Nr(t),B.c(),B.m(E,T)):B&&(B.d(1),B=null),65536&i[0]&&v(_,t[16]),2120&i[0]&&O!==(O="translate(".concat(t[3]?[0,t[11]+12]:[t[6]?-12:t[11]+12,0],")"))&&y(E,"transform",O),16384&i[0]&&y(k,"style",t[14]),4608&i[0]&&x(n,"highlighted",null!==t[12]&&t[9]),1342177284&i[0]){let e;for(U=t[28],e=0;e<U.length;e+=1){const n=vr(t,U,e);H[e]?H[e].p(n,i):(H[e]=Sr(n),H[e].c(),H[e].m(S,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=U.length}8&i[0]&&L!==(L=t[3]?1:0)&&y(S,"x2",L),8&i[0]&&C!==(C=t[3]?0:1)&&y(S,"y2",C),32768&i[0]&&D!==(D=t[15].width)&&y(e,"width",D),32768&i[0]&&$!==($=t[15].height)&&y(e,"height",$),8192&i[0]&&x(e,"no-transition",t[13])},d(n){n&&f(e),I&&I.d(),z&&z.d(),h(P,n),B&&B.d(),t[52](null),h(H,n),j=!1,i(R)}}}function Cr(t){let e,n,r,o;return e=new st({props:{title:t[1],ariaLabel:t[24],buffer:t[23],className:["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[27],t[26],t[25]].join(" "),width:t[3]?ln(t[4]):void 0,$$slots:{default:[Lr]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(i,a){G(e,i,a),n=!0,r||(o=b(window,"click",t[31]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),16777216&n[0]&&(r.ariaLabel=t[24]),8388608&n[0]&&(r.buffer=t[23]),234881096&n[0]&&(r.className=["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[27],t[26],t[25]].join(" ")),24&n[0]&&(r.width=t[3]?ln(t[4]):void 0),16777213&n[0]|1024&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){q(e,t),r=!1,o()}}}const Dr=17,$r=15;function jr(t,e,n){let r,o,i,a,l,s,c,u,f,h,p,d,g,m,b,y,v,{title:w=""}=e,{colors:x=(()=>"fff")}=e,{limits:k=[0,100]}=e,{format:M=(t=>String(+t.toFixed(2)))}=e,{labels:E}=e,{horizontal:T=!0}=e,{width:O=100}=e,{height:N=200}=e,{position:S="above"}=e,{highlight:L=!1}=e,{rtl:C=!1}=e,{reverse:$=!1}=e,{buffer:j=!1}=e,{emotion:R}=e,{themeData:I={}}=e,{blendMultiply:z=!1}=e,{blendMultiplyBackground:F=""}=e;const P=new Promise((t=>{v=t})),B=A();let U=!1,H=!1;const Y=[...Array(Dr).keys()].map((t=>t/(Dr-1))),W="g-".concat(Math.floor(1e6*Math.random()).toString(32));function G(t){return H?t<.5?u[0]+2*t*(u[1]-u[0]):u[1]+2*(t-.5)*(u[2]-u[1]):u[0]+t*(u[1]-u[0])}let q=[],V=!1,K=!1,{highlightedValue:X=null}=e,Z=null;const J={x:null,y:null};let Q=null,tt=null;const{onMouseEnter:et,onMouseLeave:nt,onClick:rt,onHighlight:ot}=ur(B,L);let it;ot((t=>{n(9,V=null!==t)}));const at={width:100,height:100};return t.$$set=t=>{"title"in t&&n(1,w=t.title),"colors"in t&&n(2,x=t.colors),"limits"in t&&n(35,k=t.limits),"format"in t&&n(36,M=t.format),"labels"in t&&n(37,E=t.labels),"horizontal"in t&&n(3,T=t.horizontal),"width"in t&&n(4,O=t.width),"height"in t&&n(5,N=t.height),"position"in t&&n(38,S=t.position),"highlight"in t&&n(39,L=t.highlight),"rtl"in t&&n(6,C=t.rtl),"reverse"in t&&n(40,$=t.reverse),"buffer"in t&&n(0,j=t.buffer),"emotion"in t&&n(41,R=t.emotion),"themeData"in t&&n(42,I=t.themeData),"blendMultiply"in t&&n(7,z=t.blendMultiply),"blendMultiplyBackground"in t&&n(43,F=t.blendMultiplyBackground),"highlightedValue"in t&&n(45,X=t.highlightedValue)},t.$$.update=()=>{if(3200&t.$$.dirty[1]&&n(27,r=R&&ir(R,I,S)),3072&t.$$.dirty[1]&&n(26,o=R&&ar(R,I)),3072&t.$$.dirty[1]&&n(25,i=R&&function(t,e){const{css:n}=an(t,e);return n(Mi||(Mi=ni(["\n        &.vertical {\n            g.labels text,\n            g.labels text tspan {\n                &.min {\n                    dominant-baseline: hanging;\n                }\n                &.center {\n                    dominant-baseline: middle;\n                }\n                &.max {\n                    dominant-baseline: ideographic;\n                }\n            }\n        }\n        &.horizontal {\n            g.labels text,\n            g.labels text tspan {\n                &.center {\n                    text-anchor: middle;\n                }\n            }\n            &:not(.dir-rtl) g.labels text,\n            &:not(.dir-rtl) g.labels text tspan {\n                &.min {\n                    text-anchor: start;\n                }\n                &.max {\n                    text-anchor: end;\n                }\n            }\n            &.dir-rtl g.labels text,\n            &.dir-rtl g.labels text tspan {\n                &.min {\n                    text-anchor: end;\n                }\n                &.max {\n                    text-anchor: start;\n                }\n            }\n        }\n        g.highlight {\n            display: none;\n            transition: transform 0.4s cubic-bezier(1, 0, 0, 1);\n        }\n        .no-transition g.highlight {\n            transition: none;\n        }\n        .highlighted g.highlight {\n            display: block;\n            & path.triangle {\n                fill: #000;\n            }\n            & text {\n                font-size: 14px;\n            }\n        }\n        .highlighted g.labels text {\n            opacity: 0.3;\n        }\n        &.horizontal .highlighted rect {\n            cursor: text;\n        }\n        &.vertical .highlighted rect {\n            cursor: vertical-text;\n        }\n        &.horizontal g.highlight text,\n        &.horizontal g.highlight text tspan {\n            text-anchor: middle;\n            dominant-baseline: hanging;\n        }\n        &.vertical g.highlight text,\n        &.vertical g.highlight text tspan {\n            dominant-baseline: mathematical;\n        }\n    "])))}(R,I)),72&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(46,U=C&&T?!$:$),16&t.$$.dirty[1]&&n(47,H=3===k.length&&void 0!==k[2]),6&t.$$.dirty[0]|48&t.$$.dirty[1]&&n(24,a=lr({colors:x,title:w,format:M,limits:k})),1&t.$$.dirty[0]|2048&t.$$.dirty[1]&&n(23,l=j&&fr(ct(I,"colors.background","white"))),2048&t.$$.dirty[1]&&n(11,s=ct(I,"vis.base.legend.ruler.thickness",13)),2048&t.$$.dirty[1]&&n(51,c=ct(I,"vis.base.legend.swatch.marginRight",3)),32784&t.$$.dirty[1]&&(u=U?[...k].reverse():[...k]),2048&t.$$.dirty[1]&&n(22,f=ct(I,"colors.background","#ffffff")),32880&t.$$.dirty[1]){const t=[...E||k.map(M)];U&&t.reverse(),n(8,q=t.map((t=>[...t.split("<br>")])))}if(2120&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&n(21,h=(T?[0,s+c]:[C?-c:s+c,0]).join(",")),256&t.$$.dirty[0]|65536&t.$$.dirty[1]&&n(20,p=q.map(((t,e)=>0===e?"min":1===e&&H?"center":"max"))),312&t.$$.dirty[0]|65536&t.$$.dirty[1]&&n(19,d=q.map(((t,e)=>(T?[O*e/(H?2:1),0]:[0,N*e/(H?2:1)]).join(",")))),72&t.$$.dirty[0]&&n(18,g=T?"M-5,0 L 5,0 L 0,-7 Z":C?"M0,5 L7,0 L 0,-5 Z":"M0,-5 L-7,0 L 0,5 Z"),2120&t.$$.dirty[0]&&n(17,m=T?[0,s+7]:[C?-7:s+7,0]),512&t.$$.dirty[0]|16384&t.$$.dirty[1]&&null!==X&&(n(13,K=!V),n(9,V=!0),n(48,Z=X)),147456&t.$$.dirty[1]&&null===X&&null!==Z&&(n(13,K=!1),n(9,V=!1)),56&t.$$.dirty[0]|262144&t.$$.dirty[1]){const t=T?J.x:J.y;n(50,Q=null!==t?Math.min(1,Math.max(0,t/(T?O:N))):null)}if(540672&t.$$.dirty[1]&&n(12,b=null!==X?X:null!==Q?G(Q):null),4096&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(16,y=null!==b?M(b):""),56&t.$$.dirty[0]|540672&t.$$.dirty[1]){const t=null!==X?function(t){return H?(U?t>u[1]:t<u[1])?.5*(t-u[0])/(u[1]-u[0]):.5+.5*(t-u[1])/(u[2]-u[1]):(t-u[0])/(u[1]-u[0])}(X):null!==Q?Q:null;n(14,tt=null!==t?"transform: translate(".concat((T?[t*O,0]:[0,t*N]).map((t=>"".concat(t,"px"))),")"):null)}1040&t.$$.dirty[0]&&async function(){if(!it)return;const t=j;n(0,j=!1),await D();const e=it.getBoundingClientRect();n(15,at.height=e.height,at),n(15,at.width=e.width,at),!T&&C&&it.setAttribute("transform","translate(".concat(e.width-s,",0)")),n(0,j=t),v(null)}()},[j,w,x,T,O,N,C,z,q,V,it,s,b,K,tt,at,y,m,g,d,p,h,f,l,a,i,o,r,Y,W,function(t,e){const n=U?1-t:t;return e(H?n<=.5?2*n*(k[1]-k[0])+k[0]:2*(n-.5)*(k[2]-k[1])+k[1]:n*(k[1]-k[0])+k[0])},rt,function(){L&&n(13,K=!0)},function(t){L&&(n(13,K=!1),n(49,J.x=null,J),n(49,J.y=null,J),nt(t))},async function(t){if(!L)return;const e=t.currentTarget.getBoundingClientRect();if(n(49,J.x=t.clientX-e.x,J),n(49,J.y=t.clientY-e.y,J),await D(),null===Q||null===b)return;const r=G(Q+(U?.05:-.05)),o=G(Q+(U?-.05:.05));et(new CustomEvent("mouseenter",{detail:{key:b,min:r,max:o}}))},k,M,E,S,L,$,R,I,F,P,X,U,H,Z,J,Q,c,function(t){_[t?"unshift":"push"]((()=>{it=t,n(10,it)}))}]}class Rr extends K{constructor(t){super(),V(this,t,jr,Cr,l,{title:1,colors:2,limits:35,format:36,labels:37,horizontal:3,width:4,height:5,position:38,highlight:39,rtl:6,reverse:40,buffer:0,emotion:41,themeData:42,blendMultiply:7,blendMultiplyBackground:43,rendered:44,highlightedValue:45},null,[-1,-1,-1])}get rendered(){return this.$$.ctx[44]}}var Ir=J((function(t,e){var n=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultColors=void 0;const r=n(ct);e.defaultColors=function(t,e){const n=(0,r.default)(t,"colors.background","#ffffff"),o=(0,r.default)(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i=e(n).luminance()<.5,a={tickText:{secondary:(0,r.default)(t,"colors.bgBlendRatios.tickText.secondary",i?.6:.4),primary:(0,r.default)(t,"colors.bgBlendRatios.tickText.primary",.2)},series:(0,r.default)(t,"colors.bgBlendRatios.series",0),value:(0,r.default)(t,"colors.bgBlendRatios.value",.2),axis:(0,r.default)(t,"colors.bgBlendRatios.axis",0),gridline:(0,r.default)(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(o,n,a.tickText.secondary).hex(),primary:e.mix(o,n,a.tickText.primary).hex()},series:e.mix(o,n,a.series).hex(),value:e.mix(o,n,a.value).hex(),axis:e.mix(o,n,a.axis).hex(),gridline:e.mix(o,n,a.gridline).hex(),fallbackBaseColor:o,blendColor:t=>e.mix(o,n,t).hex()}}}));Z(Ir);var zr=Ir.defaultColors;function Fr(t){let e,n=t[4]&&Br(t);return{c(){n&&n.c(),e=d("rect"),y(e,"width",t[12]),y(e,"height",t[13]),w(e,"fill",t[6]),w(e,"mix-blend-mode",t[4]?"screen":null)},m(t,r){n&&n.m(t,r),u(t,e,r)},p(t,r){t[4]?n?n.p(t,r):(n=Br(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),4096&r[0]&&y(e,"width",t[12]),8192&r[0]&&y(e,"height",t[13]),64&r[0]&&w(e,"fill",t[6]),16&r[0]&&w(e,"mix-blend-mode",t[4]?"screen":null)},d(t){n&&n.d(t),t&&f(e)}}}function Pr(t){let e,n,r,o,i,a;return{c(){e=d("rect"),y(e,"class","buffer"),y(e,"width",n=t[12]+t[0].size),y(e,"height",r=t[13]+t[0].size),y(e,"x",o=-t[0].size/2),y(e,"y",i=-t[0].size/2),y(e,"style",a=t[14]?"opacity: 0.2 !important;":""),w(e,"fill",t[0].color)},m(t,n){u(t,e,n)},p(t,l){4097&l[0]&&n!==(n=t[12]+t[0].size)&&y(e,"width",n),8193&l[0]&&r!==(r=t[13]+t[0].size)&&y(e,"height",r),1&l[0]&&o!==(o=-t[0].size/2)&&y(e,"x",o),1&l[0]&&i!==(i=-t[0].size/2)&&y(e,"y",i),16384&l[0]&&a!==(a=t[14]?"opacity: 0.2 !important;":"")&&y(e,"style",a),(16384&l[0]||16385&l[0])&&w(e,"fill",t[0].color)},d(t){t&&f(e)}}}function Br(t){let e;return{c(){e=d("rect"),y(e,"width",t[12]),y(e,"height",t[13]),w(e,"fill",t[5])},m(t,n){u(t,e,n)},p(t,n){4096&n[0]&&y(e,"width",t[12]),8192&n[0]&&y(e,"height",t[13]),32&n[0]&&w(e,"fill",t[5])},d(t){t&&f(e)}}}function Ur(t){let e,n;function r(t,e){return t[0]?Yr:Hr}let o=r(t),i=o(t),a=t[15]>0&&Wr(t);return{c(){i.c(),e=m(),a&&a.c(),n=m()},m(t,r){i.m(t,r),u(t,e,r),a&&a.m(t,r),u(t,n,r)},p(t,l){o===(o=r(t))&&i?i.p(t,l):(i.d(1),i=o(t),i&&(i.c(),i.m(e.parentNode,e))),t[15]>0?a?a.p(t,l):(a=Wr(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){i.d(t),t&&f(e),a&&a.d(t),t&&f(n)}}}function Hr(t){let e,n;return{c(){e=d("text"),n=g(t[7]),y(e,"transform",t[18]),w(e,"text-anchor",t[3]?t[2]?"start":"end":""),w(e,"dominant-baseline",t[3]?"central":"")},m(r,o){u(r,e,o),c(e,n),t[36](e)},p(t,r){128&r[0]&&v(n,t[7]),262144&r[0]&&y(e,"transform",t[18]),12&r[0]&&w(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&w(e,"dominant-baseline",t[3]?"central":"")},d(n){n&&f(e),t[36](null)}}}function Yr(t){let e,n;return{c(){e=d("text"),n=g(t[7]),y(e,"transform",t[18]),w(e,"text-anchor",t[3]?t[2]?"start":"end":""),w(e,"dominant-baseline",t[3]?"central":""),w(e,"fill",t[0].svgTextStyles.fill),w(e,"stroke",t[0].svgTextStyles.stroke),w(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),w(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},m(r,o){u(r,e,o),c(e,n),t[35](e)},p(t,r){128&r[0]&&v(n,t[7]),262144&r[0]&&y(e,"transform",t[18]),12&r[0]&&w(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&w(e,"dominant-baseline",t[3]?"central":""),1&r[0]&&w(e,"fill",t[0].svgTextStyles.fill),1&r[0]&&w(e,"stroke",t[0].svgTextStyles.stroke),1&r[0]&&w(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),1&r[0]&&w(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},d(n){n&&f(e),t[35](null)}}}function Wr(t){let e;return{c(){e=d("path"),y(e,"class","tick"),y(e,"d",t[22]()),w(e,"stroke",t[20]),w(e,"stroke-width",t[16])},m(t,n){u(t,e,n)},p(t,n){1048576&n[0]&&w(e,"stroke",t[20]),65536&n[0]&&w(e,"stroke-width",t[16])},d(t){t&&f(e)}}}function Gr(t){let n,r,o,a,l;function s(t,e){return t[0]?Pr:Fr}let h=s(t),p=h(t),g=("center"===t[1]||t[9]>0)&&Ur(t);return{c(){n=d("g"),p.c(),r=m(),g&&g.c(),y(n,"class","swatch"),y(n,"aria-hidden","true"),y(n,"transform",o="translate(".concat(t[17].join(),")")),x(n,"highlight",t[14]),x(n,"buffer",t[0])},m(e,o){u(e,n,o),p.m(n,null),c(n,r),g&&g.m(n,null),a||(l=[b(n,"mouseenter",t[37]),b(n,"click",t[38]),b(n,"mousemove",t[33]),b(n,"mouseleave",t[34])],a=!0)},p(t,e){h===(h=s(t))&&p?p.p(t,e):(p.d(1),p=h(t),p&&(p.c(),p.m(n,r))),"center"===t[1]||t[9]>0?g?g.p(t,e):(g=Ur(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null),131072&e[0]&&o!==(o="translate(".concat(t[17].join(),")"))&&y(n,"transform",o),16384&e[0]&&x(n,"highlight",t[14]),1&e[0]&&x(n,"buffer",t[0])},i:e,o:e,d(t){t&&f(n),p.d(),g&&g.d(),a=!1,i(l)}}}function qr(t,e,n){let r,o,i,a,l,s,c,u;const f=A();let{buffer:h}=e,{themeData:p}=e,{horizontal:d}=e,{labelPosition:g="center"}=e,{rtl:m=!1}=e,{rotateLabel:b=!1}=e,{parentWidth:y=0}=e,{chroma:v}=e,{blendMultiply:w=!1}=e,{blendMultiplyBackground:x=""}=e;if(w&&!x)throw new Error("Property 'blendMultiplyBackground' missing from legend");let k,M,T,{color:O}=e,{label:N}=e,{key:S}=e,{index:L}=e,{min:C}=e,{max:D}=e,{width:$}=e,{height:j}=e,{highlight:R=!1}=e;return t.$$set=t=>{"buffer"in t&&n(0,h=t.buffer),"themeData"in t&&n(23,p=t.themeData),"horizontal"in t&&n(24,d=t.horizontal),"labelPosition"in t&&n(1,g=t.labelPosition),"rtl"in t&&n(2,m=t.rtl),"rotateLabel"in t&&n(3,b=t.rotateLabel),"parentWidth"in t&&n(25,y=t.parentWidth),"chroma"in t&&n(26,v=t.chroma),"blendMultiply"in t&&n(4,w=t.blendMultiply),"blendMultiplyBackground"in t&&n(5,x=t.blendMultiplyBackground),"color"in t&&n(6,O=t.color),"label"in t&&n(7,N=t.label),"key"in t&&n(8,S=t.key),"index"in t&&n(9,L=t.index),"min"in t&&n(10,C=t.min),"max"in t&&n(11,D=t.max),"width"in t&&n(12,$=t.width),"height"in t&&n(13,j=t.height),"highlight"in t&&n(14,R=t.highlight)},t.$$.update=()=>{if(2&t.$$.dirty[0]&&n(30,i="tick"===g),1082130432&t.$$.dirty[0]&&n(32,a=i?ct(p,"vis.base.legend.ruler.tickWidth",1):1),8388608&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(31,r=ct(p,"vis.base.legend.text.itemMarginBottom",a)),8388608&t.$$.dirty[0]&&n(29,o=ct(p,"vis.base.legend.swatch.marginRight",3)),8388608&t.$$.dirty[0]&&n(16,u=ct(p,"vis.base.legend.ruler.tickWidth",1)),50409988&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(17,k=!d&&m&&y?[y-$,L*(j+u)]:d?[L*($+a),0]:[0,L*(j+r)]),25165824&t.$$.dirty[0]&&n(28,l=ct(p,"vis.base.legend.ruler.labelDistance."+(d?"horizontal":"vertical"),3)),75497472&t.$$.dirty[0]&&n(20,s=ct(p,"vis.base.legend.ruler.tickColor",zr(p,v).fallbackBaseColor||"#222")),1082130432&t.$$.dirty[0]&&n(15,c=i?ct(p,"vis.base.legend.ruler.tickLength",0):0),822128654&t.$$.dirty[0]){let t=[];b?n(18,M="translate(0, ".concat(j+l+c,") rotate(-90)")):"center"===g?t=d?[.5*$,j+o]:[$+o,.5*j]:"tick"===g&&(t=d?[0,j+l+c]:[m?-(c+l):$+l+c,0]),t.length&&n(18,M="translate(".concat(t.join(),")"))}},[h,g,m,b,w,x,O,N,S,L,C,D,$,j,R,c,u,k,M,T,s,f,function(){return"M".concat(d?.5*-u:m?$:0,",").concat(d?0:.5*-u).concat(d?"v":"h").concat((!d&&m?-1:1)*((d?j:$)+c))},p,d,y,v,function(){return!!T&&T.getBoundingClientRect().width>$+2},l,o,i,r,a,function(e){E.call(this,t,e)},function(e){E.call(this,t,e)},function(t){_[t?"unshift":"push"]((()=>{T=t,n(19,T)}))},function(t){_[t?"unshift":"push"]((()=>{T=t,n(19,T)}))},()=>f("mouseenter",{key:S,label:N,color:O,min:C,max:D}),()=>f("mouseenter",{key:S,label:N,color:O,min:C,max:D})]}class Vr extends K{constructor(t){super(),V(this,t,qr,Gr,l,{buffer:0,themeData:23,horizontal:24,labelPosition:1,rtl:2,rotateLabel:3,parentWidth:25,chroma:26,blendMultiply:4,blendMultiplyBackground:5,color:6,label:7,key:8,index:9,min:10,max:11,width:12,height:13,highlight:14,labelFits:27},null,[-1,-1])}get labelFits(){return this.$$.ctx[27]}}function Kr(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t=>String(+t.toFixed(0)),o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"center",i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]&&(!(arguments.length>6&&void 0!==arguments[6])||arguments[6]);arguments.length>4&&void 0!==arguments[4]&&arguments[4]&&(i=!i);const a=t.map(((a,l)=>{let s=n?n[l]:0===l?"< ".concat(r(e[1])):l===t.length-1?"≥ ".concat(r(e[l])):"".concat(r(e[l]),"–").concat(r(e[l+1]));return"tick"===o&&(s=l===(i?t.length-1:0)?"":"".concat(r(e[i?l+1:l]))),{color:a,min:0===l?-1/0:+e[l],max:l===t.length-1?1/0:+e[l+1],label:s,key:s||"swatch_".concat(l)}}));return i&&a.reverse(),a}function Xr(t,e,n){const r=t.slice();return r[44]=e[n],r[45]=e,r[46]=n,r}function Zr(t,e,n){const r=t.slice();return r[44]=e[n],r[46]=n,r}function Jr(t){let e,n;return e=new st({props:{title:t[1],buffer:t[29],className:["color-legend",t[2]?"horizontal":"vertical",t[26],t[28],t[27]].join(" "),ariaLabel:lr({colors:t[8],title:t[1],format:t[11],swatches:t[20]}),width:t[2]?ln(t[13]):void 0,$$slots:{default:[ro]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),536870912&n[0]&&(r.buffer=t[29]),469762052&n[0]&&(r.className=["color-legend",t[2]?"horizontal":"vertical",t[26],t[28],t[27]].join(" ")),1050882&n[0]&&(r.ariaLabel=lr({colors:t[8],title:t[1],format:t[11],swatches:t[20]})),8196&n[0]&&(r.width=t[2]?ln(t[13]):void 0),603394181&n[0]|131072&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Qr(t){let e,n;return e=new yr({props:{title:t[1],horizontal:t[2],highlight:t[3],reverse:t[4],rtl:t[5],emotion:t[6],swatches:Kr(t[8],t[9],t[10],t[11],t[4]===t[5]?t[4]:!t[4],t[5],t[2]),themeData:t[12],chroma:t[7],width:t[2]?ln(t[13]):"auto",height:t[2]?"auto":ln(t[14]),buffer:t[0],highlightedKey:t[21]||"",position:t[15],blendMultiply:t[16],blendMultiplyBackground:t[17]}}),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),4&n[0]&&(r.horizontal=t[2]),8&n[0]&&(r.highlight=t[3]),16&n[0]&&(r.reverse=t[4]),32&n[0]&&(r.rtl=t[5]),64&n[0]&&(r.emotion=t[6]),3892&n[0]&&(r.swatches=Kr(t[8],t[9],t[10],t[11],t[4]===t[5]?t[4]:!t[4],t[5],t[2])),4096&n[0]&&(r.themeData=t[12]),128&n[0]&&(r.chroma=t[7]),8196&n[0]&&(r.width=t[2]?ln(t[13]):"auto"),16388&n[0]&&(r.height=t[2]?"auto":ln(t[14])),1&n[0]&&(r.buffer=t[0]),2097152&n[0]&&(r.highlightedKey=t[21]||""),32768&n[0]&&(r.position=t[15]),65536&n[0]&&(r.blendMultiply=t[16]),131072&n[0]&&(r.blendMultiplyBackground=t[17]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function to(t){let e,n,r=t[20],o=[];for(let e=0;e<r.length;e+=1)o[e]=eo(Zr(t,r,e));const i=t=>Y(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=m()},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(1664094340&n[0]){let a;for(r=t[20],a=0;a<r.length;a+=1){const i=Zr(t,r,a);o[a]?(o[a].p(i,n),H(o[a],1)):(o[a]=eo(i),o[a].c(),H(o[a],1),o[a].m(e.parentNode,e))}for(B(),a=r.length;a<o.length;a+=1)i(a);U()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Y(o[t]);n=!1},d(t){h(o,t),t&&f(e)}}}function eo(t){let e,n;return e=new Vr({props:{buffer:t[29],color:t[44].color,label:t[44].label,min:t[44].min,max:t[44].max,index:t[46],horizontal:t[2],width:t[25],height:t[24],themeData:t[12],key:t[44].key,highlight:t[21]===t[44].key,chroma:t[7]}}),e.$on("mouseenter",t[30]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};536870912&n[0]&&(r.buffer=t[29]),1048576&n[0]&&(r.color=t[44].color),1048576&n[0]&&(r.label=t[44].label),1048576&n[0]&&(r.min=t[44].min),1048576&n[0]&&(r.max=t[44].max),4&n[0]&&(r.horizontal=t[2]),33554432&n[0]&&(r.width=t[25]),16777216&n[0]&&(r.height=t[24]),4096&n[0]&&(r.themeData=t[12]),1048576&n[0]&&(r.key=t[44].key),3145728&n[0]&&(r.highlight=t[21]===t[44].key),128&n[0]&&(r.chroma=t[7]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function no(t){let e,n,r=t[46];const o=()=>t[38](e,r),i=()=>t[38](null,r);let a={buffer:!1,color:t[44].color,label:t[44].label,min:t[44].min,max:t[44].max,index:t[46],horizontal:t[2],width:t[25],height:t[24],themeData:t[12],key:t[44].key,highlight:t[21]===t[44].key,chroma:t[7],blendMultiply:t[16],blendMultiplyBackground:t[17]};return e=new Vr({props:a}),o(),e.$on("mouseenter",t[30]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){r!==t[46]&&(i(),r=t[46],o());const a={};1048576&n[0]&&(a.color=t[44].color),1048576&n[0]&&(a.label=t[44].label),1048576&n[0]&&(a.min=t[44].min),1048576&n[0]&&(a.max=t[44].max),4&n[0]&&(a.horizontal=t[2]),33554432&n[0]&&(a.width=t[25]),16777216&n[0]&&(a.height=t[24]),4096&n[0]&&(a.themeData=t[12]),1048576&n[0]&&(a.key=t[44].key),3145728&n[0]&&(a.highlight=t[21]===t[44].key),128&n[0]&&(a.chroma=t[7]),65536&n[0]&&(a.blendMultiply=t[16]),131072&n[0]&&(a.blendMultiplyBackground=t[17]),e.$set(a)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){i(),q(e,t)}}}function ro(t){let e,n,r,o,i,a,l,s,p=t[0]&&to(t),g=t[20],v=[];for(let e=0;e<g.length;e+=1)v[e]=no(Xr(t,g,e));const w=t=>Y(v[t],1,1,(()=>{v[t]=null}));return{c(){e=d("svg"),n=d("g"),p&&p.c(),r=m();for(let t=0;t<v.length;t+=1)v[t].c();y(n,"class",""),x(n,"highlighted",null!==t[21]),y(e,"width",o=t[22].width),y(e,"height",i=t[22].height)},m(o,i){u(o,e,i),c(e,n),p&&p.m(n,null),c(n,r);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(n,null);t[39](n),a=!0,l||(s=b(e,"mouseleave",t[31]),l=!0)},p(t,l){if(t[0]?p?(p.p(t,l),1&l[0]&&H(p,1)):(p=to(t),p.c(),H(p,1),p.m(n,r)):p&&(B(),Y(p,1,1,(()=>{p=null})),U()),1135808644&l[0]){let e;for(g=t[20],e=0;e<g.length;e+=1){const r=Xr(t,g,e);v[e]?(v[e].p(r,l),H(v[e],1)):(v[e]=no(r),v[e].c(),H(v[e],1),v[e].m(n,null))}for(B(),e=g.length;e<v.length;e+=1)w(e);U()}(!a||2097152&l[0])&&x(n,"highlighted",null!==t[21]),(!a||4194304&l[0]&&o!==(o=t[22].width))&&y(e,"width",o),(!a||4194304&l[0]&&i!==(i=t[22].height))&&y(e,"height",i)},i(t){if(!a){H(p);for(let t=0;t<g.length;t+=1)H(v[t]);a=!0}},o(t){Y(p),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)Y(v[t]);a=!1},d(n){n&&f(e),p&&p.d(),h(v,n),t[39](null),l=!1,s()}}}function oo(t){let e,n,r,o,i,l;const s=[Qr,Jr],c=[];function h(t,e){return t[19]?0:1}return e=h(t),n=c[e]=s[e](t),{c(){n.c(),r=m()},m(n,s){c[e].m(n,s),u(n,r,s),o=!0,i||(l=b(window,"click",(function(){a(t[19]?null:t[32])&&(t[19]?null:t[32]).apply(this,arguments)})),i=!0)},p(o,i){let a=e;e=h(t=o),e===a?c[e].p(t,i):(B(),Y(c[a],1,1,(()=>{c[a]=null})),U(),n=c[e],n?n.p(t,i):(n=c[e]=s[e](t),n.c()),H(n,1),n.m(r.parentNode,r))},i(t){o||(H(n),o=!0)},o(t){Y(n),o=!1},d(t){c[e].d(t),t&&f(r),i=!1,l()}}}function io(t,e,n){let r,o,i,a,l,s,c,u;var f;const h=A();let p,{title:d=""}=e,{horizontal:g=!0}=e,{highlight:m=!1}=e,{reverse:b=!1}=e,{rtl:y=!1}=e,{emotion:v}=e,{chroma:w}=e,{colors:x}=e,{breaks:k}=e,{labels:M}=e,{format:E=(t=>t.toFixed(0))}=e,{themeData:T={}}=e,{width:O=100}=e,{height:N=200}=e,{position:S="above"}=e,{buffer:L=!1}=e,{blendMultiply:C=!1}=e,{blendMultiplyBackground:$=""}=e;const j=new Promise((t=>{n(36,p=t)}));let R,{highlightedValue:I=null}=e;const{onMouseEnter:z,onMouseLeave:F,onClick:P,onHighlight:B}=ur(h,m);let U;B((t=>{n(21,R=void 0!==t?t:null)}));const H={width:100,height:100};let Y=!1;const W=[];return t.$$set=t=>{"title"in t&&n(1,d=t.title),"horizontal"in t&&n(2,g=t.horizontal),"highlight"in t&&n(3,m=t.highlight),"reverse"in t&&n(4,b=t.reverse),"rtl"in t&&n(5,y=t.rtl),"emotion"in t&&n(6,v=t.emotion),"chroma"in t&&n(7,w=t.chroma),"colors"in t&&n(8,x=t.colors),"breaks"in t&&n(9,k=t.breaks),"labels"in t&&n(10,M=t.labels),"format"in t&&n(11,E=t.format),"themeData"in t&&n(12,T=t.themeData),"width"in t&&n(13,O=t.width),"height"in t&&n(14,N=t.height),"position"in t&&n(15,S=t.position),"buffer"in t&&n(0,L=t.buffer),"blendMultiply"in t&&n(16,C=t.blendMultiply),"blendMultiplyBackground"in t&&n(17,$=t.blendMultiplyBackground),"highlightedValue"in t&&n(34,I=t.highlightedValue)},t.$$.update=()=>{4097&t.$$.dirty[0]&&n(29,r=L&&fr(ct(T,"colors.background","white"))),36928&t.$$.dirty[0]&&n(28,o=v&&ir(v,T,S)),4160&t.$$.dirty[0]&&n(27,i=v&&ar(v,T)),32&t.$$.dirty[0]&&n(26,a=y?"dir-rtl":"dir-ltr"),3892&t.$$.dirty[0]&&n(20,l=Kr(x,k,M,E,b,y,g,"center")),4096&t.$$.dirty[0]&&n(37,s=ct(T,"vis.base.legend.ruler.thickness",13)),12548&t.$$.dirty[0]&&n(25,c=g?Math.floor(O/x.length)-1:ct(T,"vis.base.legend.swatch.width",20)),4100&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(24,u=g?s:ct(T,"vis.base.legend.swatch.height",20)),1048576&t.$$.dirty[0]|24&t.$$.dirty[1]&&n(21,R=(null===n(35,f=l.find((t=>{if(null!==I&&t.min&&t.max)return I>=t.min&&I<t.max})))||void 0===f?void 0:f.key)||null),1318912&t.$$.dirty[0]&&async function(){if(!U||Y)return;const t=L;n(0,L=!1),await D();const e=U.getBoundingClientRect();n(22,H.height=e.height,H),n(22,H.width=e.width,H),n(0,L=t),p(null)}(),1056768&t.$$.dirty[0]&&async function(){n(19,Y=!1),await D();const t=W.filter((t=>!!t)),e=t.map((t=>t.labelFits()));n(19,Y=g&&e.some((t=>t))||1===t.length)}(),524288&t.$$.dirty[0]|32&t.$$.dirty[1]&&Y&&p(null)},[L,d,g,m,b,y,v,w,x,k,M,E,T,O,N,S,C,$,U,Y,l,R,H,W,u,c,a,i,o,r,z,F,P,j,I,f,p,s,function(t,e){_[t?"unshift":"push"]((()=>{W[e]=t,n(23,W)}))},function(t){_[t?"unshift":"push"]((()=>{U=t,n(18,U)}))}]}class ao extends K{constructor(t){super(),V(this,t,io,oo,l,{title:1,horizontal:2,highlight:3,reverse:4,rtl:5,emotion:6,chroma:7,colors:8,breaks:9,labels:10,format:11,themeData:12,width:13,height:14,position:15,buffer:0,blendMultiply:16,blendMultiplyBackground:17,rendered:33,highlightedValue:34},null,[-1,-1])}get rendered(){return this.$$.ctx[33]}}function lo(t,e,n){const r=t.slice();return r[45]=e[n],r[46]=e,r[47]=n,r}function so(t,e,n){const r=t.slice();return r[45]=e[n],r[47]=n,r}function co(t){let e,n,r=t[11],o=[];for(let e=0;e<r.length;e+=1)o[e]=uo(so(t,r,e));const i=t=>Y(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=m()},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(6405180&n[0]){let a;for(r=t[11],a=0;a<r.length;a+=1){const i=so(t,r,a);o[a]?(o[a].p(i,n),H(o[a],1)):(o[a]=uo(i),o[a].c(),H(o[a],1),o[a].m(e.parentNode,e))}for(B(),a=r.length;a<o.length;a+=1)i(a);U()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Y(o[t]);n=!1},d(t){h(o,t),t&&f(e)}}}function uo(t){let e,n;return e=new Vr({props:{color:t[45].color,label:t[45].label,min:t[45].min,max:t[45].max,index:t[47],horizontal:t[2],width:t[16],height:t[15],buffer:t[21],themeData:t[5],key:t[45].key,labelPosition:"tick",rotateLabel:t[10],rtl:t[3],parentWidth:t[13].width,highlight:t[12]===t[45].key,chroma:t[4]}}),e.$on("mouseenter",t[22]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};2048&n[0]&&(r.color=t[45].color),2048&n[0]&&(r.label=t[45].label),2048&n[0]&&(r.min=t[45].min),2048&n[0]&&(r.max=t[45].max),4&n[0]&&(r.horizontal=t[2]),65536&n[0]&&(r.width=t[16]),32768&n[0]&&(r.height=t[15]),2097152&n[0]&&(r.buffer=t[21]),32&n[0]&&(r.themeData=t[5]),2048&n[0]&&(r.key=t[45].key),1024&n[0]&&(r.rotateLabel=t[10]),8&n[0]&&(r.rtl=t[3]),8192&n[0]&&(r.parentWidth=t[13].width),6144&n[0]&&(r.highlight=t[12]===t[45].key),16&n[0]&&(r.chroma=t[4]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function fo(t){let e,n,r=t[47];const o=()=>t[38](e,r),i=()=>t[38](null,r);let a={color:t[45].color,label:t[45].label,min:t[45].min,max:t[45].max,index:t[47],horizontal:t[2],width:t[16],height:t[15],buffer:!1,themeData:t[5],key:t[45].key,labelPosition:"tick",rotateLabel:t[10],rtl:t[3],parentWidth:t[13].width,highlight:t[12]===t[45].key,chroma:t[4],blendMultiply:t[7],blendMultiplyBackground:t[8]};return e=new Vr({props:a}),o(),e.$on("mouseenter",t[22]),{c(){W(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){r!==t[47]&&(i(),r=t[47],o());const a={};2048&n[0]&&(a.color=t[45].color),2048&n[0]&&(a.label=t[45].label),2048&n[0]&&(a.min=t[45].min),2048&n[0]&&(a.max=t[45].max),4&n[0]&&(a.horizontal=t[2]),65536&n[0]&&(a.width=t[16]),32768&n[0]&&(a.height=t[15]),32&n[0]&&(a.themeData=t[5]),2048&n[0]&&(a.key=t[45].key),1024&n[0]&&(a.rotateLabel=t[10]),8&n[0]&&(a.rtl=t[3]),8192&n[0]&&(a.parentWidth=t[13].width),6144&n[0]&&(a.highlight=t[12]===t[45].key),16&n[0]&&(a.chroma=t[4]),128&n[0]&&(a.blendMultiply=t[7]),256&n[0]&&(a.blendMultiplyBackground=t[8]),e.$set(a)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){i(),q(e,t)}}}function ho(t){let e,n,r,o,i,a,l,s,p=t[0]&&co(t),g=t[11],v=[];for(let e=0;e<g.length;e+=1)v[e]=fo(lo(t,g,e));const w=t=>Y(v[t],1,1,(()=>{v[t]=null}));return{c(){e=d("svg"),n=d("g"),p&&p.c(),r=m();for(let t=0;t<v.length;t+=1)v[t].c();y(n,"class",""),x(n,"highlighted",null!==t[12]),y(e,"width",o=t[13].width),y(e,"height",i=t[13].height)},m(o,i){u(o,e,i),c(e,n),p&&p.m(n,null),c(n,r);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(n,null);t[39](n),a=!0,l||(s=b(e,"mouseleave",t[23]),l=!0)},p(t,l){if(t[0]?p?(p.p(t,l),1&l[0]&&H(p,1)):(p=co(t),p.c(),H(p,1),p.m(n,r)):p&&(B(),Y(p,1,1,(()=>{p=null})),U()),4324796&l[0]){let e;for(g=t[11],e=0;e<g.length;e+=1){const r=lo(t,g,e);v[e]?(v[e].p(r,l),H(v[e],1)):(v[e]=fo(r),v[e].c(),H(v[e],1),v[e].m(n,null))}for(B(),e=g.length;e<v.length;e+=1)w(e);U()}(!a||4096&l[0])&&x(n,"highlighted",null!==t[12]),(!a||8192&l[0]&&o!==(o=t[13].width))&&y(e,"width",o),(!a||8192&l[0]&&i!==(i=t[13].height))&&y(e,"height",i)},i(t){if(!a){H(p);for(let t=0;t<g.length;t+=1)H(v[t]);a=!0}},o(t){Y(p),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)Y(v[t]);a=!1},d(n){n&&f(e),p&&p.d(),h(v,n),t[39](null),l=!1,s()}}}function po(t){let e,n,r,o;return e=new st({props:{title:t[1],buffer:t[21],className:["color-legend","ruler",t[2]?"horizontal":"vertical",t[17],t[19],t[18]].join(" "),ariaLabel:t[20],width:t[2]?ln(t[6]):void 0,$$slots:{default:[ho]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(i,a){G(e,i,a),n=!0,r||(o=b(window,"click",t[24]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),2097152&n[0]&&(r.buffer=t[21]),917508&n[0]&&(r.className=["color-legend","ruler",t[2]?"horizontal":"vertical",t[17],t[19],t[18]].join(" ")),1048576&n[0]&&(r.ariaLabel=t[20]),68&n[0]&&(r.width=t[2]?ln(t[6]):void 0),2228157&n[0]|262144&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){q(e,t),r=!1,o()}}}function go(t,e,n){let r,o,i,a,l,s,c,u,f;var h;const p=A();let d,{title:g=""}=e,{horizontal:m=!0}=e,{highlight:b=!1}=e,{reverse:y=!1}=e,{rtl:v=!1}=e,{emotion:w}=e,{chroma:x}=e,{colors:k}=e,{breaks:M}=e,{labels:E}=e,{format:T=(t=>t.toFixed(0))}=e,{themeData:O={}}=e,{width:N=100}=e,{height:S=200}=e,{position:L="above"}=e,{buffer:C=!1}=e,{blendMultiply:$=!1}=e,{blendMultiplyBackground:j=""}=e;const R=new Promise((t=>{d=t}));let I,{highlightedValue:z=null}=e;const{onMouseEnter:F,onMouseLeave:P,onClick:B,onHighlight:U}=ur(p,b);let H;U((t=>{n(12,I=void 0!==t?t:null)}));const Y={width:100,height:100};let W=!1;const G=[];return t.$$set=t=>{"title"in t&&n(1,g=t.title),"horizontal"in t&&n(2,m=t.horizontal),"highlight"in t&&n(25,b=t.highlight),"reverse"in t&&n(26,y=t.reverse),"rtl"in t&&n(3,v=t.rtl),"emotion"in t&&n(27,w=t.emotion),"chroma"in t&&n(4,x=t.chroma),"colors"in t&&n(28,k=t.colors),"breaks"in t&&n(29,M=t.breaks),"labels"in t&&n(30,E=t.labels),"format"in t&&n(31,T=t.format),"themeData"in t&&n(5,O=t.themeData),"width"in t&&n(6,N=t.width),"height"in t&&n(32,S=t.height),"position"in t&&n(33,L=t.position),"buffer"in t&&n(0,C=t.buffer),"blendMultiply"in t&&n(7,$=t.blendMultiply),"blendMultiplyBackground"in t&&n(8,j=t.blendMultiplyBackground),"highlightedValue"in t&&n(35,z=t.highlightedValue)},t.$$.update=()=>{33&t.$$.dirty[0]&&n(21,r=C&&fr(ct(O,"colors.background","white"))),1946157070&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(20,o=lr({colors:k,title:g,format:T,swatches:Kr(k,M,E,T,y,v,m,"center")})),134217760&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(19,i=w&&ir(w,O,L)),134217760&t.$$.dirty[0]&&n(18,a=w&&ar(w,O)),8&t.$$.dirty[0]&&n(17,l=v?"dir-rtl":"dir-ltr"),1946157068&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(11,s=Kr(k,M,E,T,y,v,m,"tick")),32&t.$$.dirty[0]&&n(37,c=ct(O,"vis.base.legend.ruler.thickness",13)),268435524&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(16,u=m?Math.floor(N/k.length)-1:c),268435460&t.$$.dirty[0]|66&t.$$.dirty[1]&&n(15,f=m?c:Math.floor(S/k.length)-1),2048&t.$$.dirty[0]|48&t.$$.dirty[1]&&n(12,I=(null===n(36,h=s.find((t=>{if(null!==z&&t.min&&t.max)return z>=t.min&&z<t.max})))||void 0===h?void 0:h.key)||null),3648&t.$$.dirty[0]&&async function(){if(!H)return;const t=C;n(0,C=!1),await D();const e=H.getBoundingClientRect();n(13,Y.height=e.height,Y),n(13,Y.width=e.width,Y),n(0,C=t),d(null)}(),2112&t.$$.dirty[0]&&async function(){n(10,W=!1),await D();const t=G.filter((t=>!!t)).map((t=>t.labelFits()));n(10,W=m&&t.some((t=>t)))}()},[C,g,m,v,x,O,N,$,j,H,W,s,I,Y,G,f,u,l,a,i,o,r,F,P,B,b,y,w,k,M,E,T,S,L,R,z,h,c,function(t,e){_[t?"unshift":"push"]((()=>{G[e]=t,n(14,G)}))},function(t){_[t?"unshift":"push"]((()=>{H=t,n(9,H)}))}]}class mo extends K{constructor(t){super(),V(this,t,go,po,l,{title:1,horizontal:2,highlight:25,reverse:26,rtl:3,emotion:27,chroma:4,colors:28,breaks:29,labels:30,format:31,themeData:5,width:6,height:32,position:33,buffer:0,blendMultiply:7,blendMultiplyBackground:8,rendered:34,highlightedValue:35},null,[-1,-1])}get rendered(){return this.$$.ctx[34]}}function bo(t){return"string"!=typeof t?t:parseFloat(t.replace("px",""))}t.CategoryLegend=yr,t.ContinuousLegend=Rr,t.RangeLegend=ao,t.RulerLegend=mo,t.categoryLegendWrapper=function(t,e){const n=new yr({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme,swatches:e.swatches.map((t=>Object.assign(Object.assign({},t),{width:"width"in t?bo(t.width):null})))})});return{on:function(t,e){n.$on(t,(t=>{e(t.detail)}))},highlight:t=>{n.$$set&&n.$$set({highlightedKey:t||""})},container:t}},t.colorLegendWrapper=function(t,e){let n=null;switch(void 0===e.horizontal&&(e.horizontal=!0),function(t){return"function"==typeof t.colors?"continuous":t.ruler?"ruler":Array.isArray(t.colors)&&t.horizontal?"range":Array.isArray(t.colors)?"category":"winner"}(e)){case"continuous":n=new Rr({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme})});break;case"ruler":n=new mo({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme})});break;case"category":n=new yr({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme,swatches:Kr(e.colors,e.breaks,e.labels,e.format,!1,e.rtl,e.horizontal),reverse:e.reverse,height:"auto"})});break;case"range":n=new ao({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme})});break;default:t.innerHTML="winner tk"}return{on:function(t,e){null==n||n.$on(t,(t=>{e(t.detail)}))},highlight:t=>{(null==n?void 0:n.$$set)&&n.$$set({highlightedValue:"number"==typeof t?t:null})},container:t,rendered:null==n?void 0:n.rendered}},t.highlightTimer=cr,Object.defineProperty(t,"__esModule",{value:!0})}(e)}(0,Ai.exports);var Ei=Ai.exports;function Ti(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function _i(){return null}const Oi=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function Ni(){for(var t=arguments,e=0,n=t.length;e<n;)"string"!=typeof t[e]&&"number"!=typeof t[e]||(t[e]=function(t){return function(e){return e[t]}}(t[e])),e++;return function(e){for(var n=0,r=t.length;n++<r;)e=t[n-1].call(this,e);return e}}function Si(t){return"function"==typeof t?function(e,n){return t(e)<t(n)?-1:t(e)>t(n)?1:t(e)>=t(n)?0:NaN}:function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:e[t]>=n[t]?0:NaN}}Ni.not=function(t){return!t},Ni.run=function(t){return t()},Ni.objToFn=function(t,e){return 1==arguments.length&&(e=void 0),function(n){return void 0!==t[n]?t[n]:e}},it.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",(function(n,r){var o="function"==typeof t?t.call(this,n,r):t;return 0===e?o=[o,0]:1===e&&(o=[0,o]),"translate("+o[0]+","+o[1]+")"})):this.style("transform",(function(n,r){var o="function"==typeof t?t.call(this,n,r):t;return 0===e?o=[o,0]:1===e&&(o=[0,o]),"translate("+o[0]+"px,"+o[1]+"px)"})):this},it.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=Ti(t),e=i(n.tag));var r=this.select((function(){return this.appendChild(e.apply(this,arguments))}));if(n)for(var o in n.attr)r.attr(o,n.attr[o]);return r},it.prototype.insert=function(t,e){var n=Ti(t),r=i(n.tag),o=null==e?_i:"function"==typeof e?e:l(e),a=this.select((function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)}));for(var s in n.attr)a.attr(s,n.attr[s]);return a},it.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))},it.prototype.selectAppend=function(t){var e,n=l(t),r=Ti(t);for(var o in t=i(r.tag),e=this.select((function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)e.attr(o,r.attr[o]);return e},it.prototype.tspans=function(t,e){return this.selectAll("tspan").data((function(e,n){return("function"==typeof t?t.call(this,e,n):t).map((function(t){return{line:t,parent:e}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,n){return n?("function"==typeof e?e.call(this,t.parent,t.line,n):e)||15:0}))},it.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},it.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(Oi.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},it.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();var r;return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){return o(r.apply(this,arguments))}):o(n)):t.style(e,n),t}function o(t){return t.match?t:t+"px"}},it.prototype.prop=it.prototype.property;var Li={exports:{}};!function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",l="day",s="week",c="month",u="quarter",f="year",h="date",p="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:b,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+b(r,2,"0")+":"+b(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,c),i=n-o<0,a=e.clone().add(r+(i?-1:1),c);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:f,w:s,d:l,D:h,h:a,m:i,s:o,ms:r,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",w={};w[v]=m;var x=function(t){return t instanceof E},k=function t(e,n,r){var o;if(!e)return v;if("string"==typeof e){var i=e.toLowerCase();w[i]&&(o=i),n&&(w[i]=n,o=i);var a=e.split("-");if(!o&&a.length>1)return t(a[0])}else{var l=e.name;w[l]=e,o=l}return!r&&o&&(v=o),o||!r&&v},M=function(t,e){if(x(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new E(n)},A=y;A.l=k,A.i=x,A.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var E=function(){function m(t){this.$L=k(t.locale,null,!0),this.parse(t)}var b=m.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(A.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return A},b.isValid=function(){return!(this.$d.toString()===p)},b.isSame=function(t,e){var n=M(t);return this.startOf(e)<=n&&n<=this.endOf(e)},b.isAfter=function(t,e){return M(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<M(t)},b.$g=function(t,e,n){return A.u(t)?this[e]:this.set(n,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var n=this,r=!!A.u(e)||e,u=A.p(t),p=function(t,e){var o=A.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?o:o.endOf(l)},d=function(t,e){return A.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case f:return r?p(1,0):p(31,11);case c:return r?p(1,m):p(0,m+1);case s:var v=this.$locale().weekStart||0,w=(g<v?g+7:g)-v;return p(r?b-w:b+(6-w),m);case l:case h:return d(y+"Hours",0);case a:return d(y+"Minutes",1);case i:return d(y+"Seconds",2);case o:return d(y+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var n,s=A.p(t),u="set"+(this.$u?"UTC":""),p=(n={},n[l]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[f]=u+"FullYear",n[a]=u+"Hours",n[i]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[s],d=s===l?this.$D+(e-this.$W):e;if(s===c||s===f){var g=this.clone().set(h,1);g.$d[p](d),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[A.p(t)]()},b.add=function(r,u){var h,p=this;r=Number(r);var d=A.p(u),g=function(t){var e=M(p);return A.w(e.date(e.date()+Math.round(t*r)),p)};if(d===c)return this.set(c,this.$M+r);if(d===f)return this.set(f,this.$y+r);if(d===l)return g(1);if(d===s)return g(7);var m=(h={},h[i]=e,h[a]=n,h[o]=t,h)[d]||1,b=this.$d.getTime()+r*m;return A.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=t||"YYYY-MM-DDTHH:mm:ssZ",o=A.z(this),i=this.$H,a=this.$m,l=this.$M,s=n.weekdays,c=n.months,u=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].slice(0,i)},f=function(t){return A.s(i%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:A.s(l+1,2,"0"),MMM:u(n.monthsShort,l,c,3),MMMM:u(c,l),D:this.$D,DD:A.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,s,2),ddd:u(n.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(i),HH:A.s(i,2,"0"),h:f(1),hh:f(2),a:h(i,a,!0),A:h(i,a,!1),m:String(a),mm:A.s(a,2,"0"),s:String(this.$s),ss:A.s(this.$s,2,"0"),SSS:A.s(this.$ms,3,"0"),Z:o};return r.replace(g,(function(t,e){return e||d[t]||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(r,h,p){var d,g=A.p(h),m=M(r),b=(m.utcOffset()-this.utcOffset())*e,y=this-m,v=A.m(this,m);return v=(d={},d[f]=v/12,d[c]=v,d[u]=v/3,d[s]=(y-b)/6048e5,d[l]=(y-b)/864e5,d[a]=y/n,d[i]=y/e,d[o]=y/t,d)[g]||y,p?v:A.a(v)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return w[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=k(t,e,!0);return r&&(n.$L=r),n},b.clone=function(){return A.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},m}(),T=E.prototype;return M.prototype=T,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",l],["$M",c],["$y",f],["$D",h]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,E,M),t.$i=!0),M},M.locale=k,M.isDayjs=x,M.unix=function(t){return M(1e3*t)},M.en=w[v],M.Ls=w,M.p={},M}()}(Li);var Ci=Li.exports,Di=oi(Ci);function $i(t){return t}var ji=Array.isArray;function Ri(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Ii="object"==typeof global&&global&&global.Object===Object&&global,zi="object"==typeof self&&self&&self.Object===Object&&self,Fi=Ii||zi||Function("return this")(),Pi=Fi.isFinite;function Bi(t){return"number"==typeof t&&Pi(t)}function Ui(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var Hi=Fi.Symbol,Yi=Object.prototype,Wi=Yi.hasOwnProperty,Gi=Yi.toString,qi=Hi?Hi.toStringTag:void 0;var Vi=Object.prototype.toString;var Ki="[object Null]",Xi="[object Undefined]",Zi=Hi?Hi.toStringTag:void 0;function Ji(t){return null==t?void 0===t?Xi:Ki:Zi&&Zi in Object(t)?function(t){var e=Wi.call(t,qi),n=t[qi];try{t[qi]=void 0;var r=!0}catch(t){}var o=Gi.call(t);return r&&(e?t[qi]=n:delete t[qi]),o}(t):function(t){return Vi.call(t)}(t)}function Qi(t){return null!=t&&"object"==typeof t}function ta(t){return Qi(t)&&"[object Arguments]"==Ji(t)}var ea=Object.prototype,na=ea.hasOwnProperty,ra=ea.propertyIsEnumerable,oa=ta(function(){return arguments}())?ta:function(t){return Qi(t)&&na.call(t,"callee")&&!ra.call(t,"callee")},ia=oa,aa=Hi?Hi.isConcatSpreadable:void 0;function la(t){return ji(t)||ia(t)||!!(aa&&t&&t[aa])}function sa(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=la),o||(o=[]);++i<a;){var l=t[i];e>0&&n(l)?e>1?sa(l,e-1,n,r,o):Ui(o,l):r||(o[o.length]=l)}return o}function ca(t){return(null==t?0:t.length)?sa(t,1):[]}function ua(t){return function(e){return t(e)}}var fa="object"==typeof exports&&exports&&!exports.nodeType&&exports,ha=fa&&"object"==typeof module&&module&&!module.nodeType&&module,pa=ha&&ha.exports===fa&&Ii.process,da=function(){try{var t=ha&&ha.require&&ha.require("util").types;return t||pa&&pa.binding&&pa.binding("util")}catch(t){}}(),ga=da&&da.isDate,ma=ga?ua(ga):function(t){return Qi(t)&&"[object Date]"==Ji(t)};function ba(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function ya(t,e){return t===e||t!=t&&e!=e}function va(t,e){for(var n=t.length;n--;)if(ya(t[n][0],e))return n;return-1}var wa=Array.prototype.splice;function xa(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xa.prototype.clear=function(){this.__data__=[],this.size=0},xa.prototype.delete=function(t){var e=this.__data__,n=va(e,t);return!(n<0)&&(n==e.length-1?e.pop():wa.call(e,n,1),--this.size,!0)},xa.prototype.get=function(t){var e=this.__data__,n=va(e,t);return n<0?void 0:e[n][1]},xa.prototype.has=function(t){return va(this.__data__,t)>-1},xa.prototype.set=function(t,e){var n=this.__data__,r=va(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var ka="[object AsyncFunction]",Ma="[object Function]",Aa="[object GeneratorFunction]",Ea="[object Proxy]";function Ta(t){if(!Ri(t))return!1;var e=Ji(t);return e==Ma||e==Aa||e==ka||e==Ea}var _a,Oa=Fi["__core-js_shared__"],Na=(_a=/[^.]+$/.exec(Oa&&Oa.keys&&Oa.keys.IE_PROTO||""))?"Symbol(src)_1."+_a:"";var Sa=Function.prototype.toString;function La(t){if(null!=t){try{return Sa.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Ca=/^\[object .+?Constructor\]$/,Da=Function.prototype,$a=Object.prototype,ja=Da.toString,Ra=$a.hasOwnProperty,Ia=RegExp("^"+ja.call(Ra).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function za(t){return!(!Ri(t)||(e=t,Na&&Na in e))&&(Ta(t)?Ia:Ca).test(La(t));var e}function Fa(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return za(n)?n:void 0}var Pa=Fa(Fi,"Map"),Ba=Fa(Object,"create");var Ua=Object.prototype.hasOwnProperty;var Ha=Object.prototype.hasOwnProperty;function Ya(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wa(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ga(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ya.prototype.clear=function(){this.__data__=Ba?Ba(null):{},this.size=0},Ya.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ya.prototype.get=function(t){var e=this.__data__;if(Ba){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ua.call(e,t)?e[t]:void 0},Ya.prototype.has=function(t){var e=this.__data__;return Ba?void 0!==e[t]:Ha.call(e,t)},Ya.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ba&&void 0===e?"__lodash_hash_undefined__":e,this},Ga.prototype.clear=function(){this.size=0,this.__data__={hash:new Ya,map:new(Pa||xa),string:new Ya}},Ga.prototype.delete=function(t){var e=Wa(this,t).delete(t);return this.size-=e?1:0,e},Ga.prototype.get=function(t){return Wa(this,t).get(t)},Ga.prototype.has=function(t){return Wa(this,t).has(t)},Ga.prototype.set=function(t,e){var n=Wa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function qa(t){var e=this.__data__=new xa(t);this.size=e.size}qa.prototype.clear=function(){this.__data__=new xa,this.size=0},qa.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qa.prototype.get=function(t){return this.__data__.get(t)},qa.prototype.has=function(t){return this.__data__.has(t)},qa.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xa){var r=n.__data__;if(!Pa||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ga(r)}return n.set(t,e),this.size=n.size,this};function Va(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ga;++e<n;)this.add(t[e])}function Ka(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Xa(t,e){return t.has(e)}Va.prototype.add=Va.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Va.prototype.has=function(t){return this.__data__.has(t)};var Za=1,Ja=2;function Qa(t,e,n,r,o,i){var a=n&Za,l=t.length,s=e.length;if(l!=s&&!(a&&s>l))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&Ja?new Va:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var d=t[f],g=e[f];if(r)var m=a?r(g,d,f,e,t,i):r(d,g,f,t,e,i);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!Ka(e,(function(t,e){if(!Xa(p,e)&&(d===t||o(d,t,n,r,i)))return p.push(e)}))){h=!1;break}}else if(d!==g&&!o(d,g,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h}var tl=Fi.Uint8Array;function el(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function nl(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var rl=1,ol=2,il="[object Boolean]",al="[object Date]",ll="[object Error]",sl="[object Map]",cl="[object Number]",ul="[object RegExp]",fl="[object Set]",hl="[object String]",pl="[object Symbol]",dl="[object ArrayBuffer]",gl="[object DataView]",ml=Hi?Hi.prototype:void 0,bl=ml?ml.valueOf:void 0;var yl=Object.prototype.propertyIsEnumerable,vl=Object.getOwnPropertySymbols,wl=vl?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(vl(t),(function(e){return yl.call(t,e)})))}:function(){return[]},xl=wl;var kl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ml=kl&&"object"==typeof module&&module&&!module.nodeType&&module,Al=Ml&&Ml.exports===kl?Fi.Buffer:void 0,El=(Al?Al.isBuffer:void 0)||function(){return!1},Tl=9007199254740991,_l=/^(?:0|[1-9]\d*)$/;function Ol(t,e){var n=typeof t;return!!(e=null==e?Tl:e)&&("number"==n||"symbol"!=n&&_l.test(t))&&t>-1&&t%1==0&&t<e}var Nl=9007199254740991;function Sl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Nl}var Ll={};Ll["[object Float32Array]"]=Ll["[object Float64Array]"]=Ll["[object Int8Array]"]=Ll["[object Int16Array]"]=Ll["[object Int32Array]"]=Ll["[object Uint8Array]"]=Ll["[object Uint8ClampedArray]"]=Ll["[object Uint16Array]"]=Ll["[object Uint32Array]"]=!0,Ll["[object Arguments]"]=Ll["[object Array]"]=Ll["[object ArrayBuffer]"]=Ll["[object Boolean]"]=Ll["[object DataView]"]=Ll["[object Date]"]=Ll["[object Error]"]=Ll["[object Function]"]=Ll["[object Map]"]=Ll["[object Number]"]=Ll["[object Object]"]=Ll["[object RegExp]"]=Ll["[object Set]"]=Ll["[object String]"]=Ll["[object WeakMap]"]=!1;var Cl=da&&da.isTypedArray,Dl=Cl?ua(Cl):function(t){return Qi(t)&&Sl(t.length)&&!!Ll[Ji(t)]},$l=Object.prototype.hasOwnProperty;function jl(t,e){var n=ji(t),r=!n&&ia(t),o=!n&&!r&&El(t),i=!n&&!r&&!o&&Dl(t),a=n||r||o||i,l=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=l.length;for(var c in t)!e&&!$l.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ol(c,s))||l.push(c);return l}var Rl=Object.prototype;var Il,zl,Fl=(Il=Object.keys,zl=Object,function(t){return Il(zl(t))}),Pl=Object.prototype.hasOwnProperty;function Bl(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||Rl))return Fl(t);var e,n,r=[];for(var o in Object(t))Pl.call(t,o)&&"constructor"!=o&&r.push(o);return r}function Ul(t){return null!=t&&Sl(t.length)&&!Ta(t)}function Hl(t){return Ul(t)?jl(t):Bl(t)}function Yl(t){return function(t,e,n){var r=e(t);return ji(t)?r:Ui(r,n(t))}(t,Hl,xl)}var Wl=1,Gl=Object.prototype.hasOwnProperty;var ql=Fa(Fi,"DataView"),Vl=Fa(Fi,"Promise"),Kl=Fa(Fi,"Set"),Xl=Fa(Fi,"WeakMap"),Zl="[object Map]",Jl="[object Promise]",Ql="[object Set]",ts="[object WeakMap]",es="[object DataView]",ns=La(ql),rs=La(Pa),os=La(Vl),is=La(Kl),as=La(Xl),ls=Ji;(ql&&ls(new ql(new ArrayBuffer(1)))!=es||Pa&&ls(new Pa)!=Zl||Vl&&ls(Vl.resolve())!=Jl||Kl&&ls(new Kl)!=Ql||Xl&&ls(new Xl)!=ts)&&(ls=function(t){var e=Ji(t),n="[object Object]"==e?t.constructor:void 0,r=n?La(n):"";if(r)switch(r){case ns:return es;case rs:return Zl;case os:return Jl;case is:return Ql;case as:return ts}return e});var ss=ls,cs=1,us="[object Arguments]",fs="[object Array]",hs="[object Object]",ps=Object.prototype.hasOwnProperty;function ds(t,e,n,r,o,i){var a=ji(t),l=ji(e),s=a?fs:ss(t),c=l?fs:ss(e),u=(s=s==us?hs:s)==hs,f=(c=c==us?hs:c)==hs,h=s==c;if(h&&El(t)){if(!El(e))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new qa),a||Dl(t)?Qa(t,e,n,r,o,i):function(t,e,n,r,o,i,a){switch(n){case gl:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dl:return!(t.byteLength!=e.byteLength||!i(new tl(t),new tl(e)));case il:case al:case cl:return ya(+t,+e);case ll:return t.name==e.name&&t.message==e.message;case ul:case hl:return t==e+"";case sl:var l=el;case fl:var s=r&rl;if(l||(l=nl),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=ol,a.set(t,e);var u=Qa(l(t),l(e),r,o,i,a);return a.delete(t),u;case pl:if(bl)return bl.call(t)==bl.call(e)}return!1}(t,e,s,n,r,o,i);if(!(n&cs)){var p=u&&ps.call(t,"__wrapped__"),d=f&&ps.call(e,"__wrapped__");if(p||d){var g=p?t.value():t,m=d?e.value():e;return i||(i=new qa),o(g,m,n,r,i)}}return!!h&&(i||(i=new qa),function(t,e,n,r,o,i){var a=n&Wl,l=Yl(t),s=l.length;if(s!=Yl(e).length&&!a)return!1;for(var c=s;c--;){var u=l[c];if(!(a?u in e:Gl.call(e,u)))return!1}var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=a;++c<s;){var g=t[u=l[c]],m=e[u];if(r)var b=a?r(m,g,u,e,t,i):r(g,m,u,t,e,i);if(!(void 0===b?g===m||o(g,m,n,r,i):b)){p=!1;break}d||(d="constructor"==u)}if(p&&!d){var y=t.constructor,v=e.constructor;y==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,i))}function gs(t,e,n,r,o){return t===e||(null==t||null==e||!Qi(t)&&!Qi(e)?t!=t&&e!=e:ds(t,e,n,r,gs,o))}var ms=1,bs=2;function ys(t){return t==t&&!Ri(t)}function vs(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function ws(t){var e=function(t){for(var e=Hl(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,ys(o)]}return e}(t);return 1==e.length&&e[0][2]?vs(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<i;){var s=(l=n[o])[0],c=t[s],u=l[1];if(a&&l[2]){if(void 0===c&&!(s in t))return!1}else{var f=new qa;if(r)var h=r(c,u,s,t,e,f);if(!(void 0===h?gs(u,c,ms|bs,r,f):h))return!1}}return!0}(n,t,e)}}var xs="[object Symbol]";function ks(t){return"symbol"==typeof t||Qi(t)&&Ji(t)==xs}var Ms=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,As=/^\w*$/;function Es(t,e){if(ji(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ks(t))||(As.test(t)||!Ms.test(t)||null!=e&&t in Object(e))}var Ts="Expected a function";function _s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ts);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(_s.Cache||Ga),n}_s.Cache=Ga;var Os=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ns=/\\(\\)?/g,Ss=function(t){var e=_s(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Os,(function(t,n,r,o){e.push(r?o.replace(Ns,"$1"):n||t)})),e})),Ls=Ss,Cs=1/0,Ds=Hi?Hi.prototype:void 0,$s=Ds?Ds.toString:void 0;function js(t){if("string"==typeof t)return t;if(ji(t))return ba(t,js)+"";if(ks(t))return $s?$s.call(t):"";var e=t+"";return"0"==e&&1/t==-Cs?"-0":e}function Rs(t,e){return ji(t)?t:Es(t,e)?[t]:Ls(function(t){return null==t?"":js(t)}(t))}var Is=1/0;function zs(t){if("string"==typeof t||ks(t))return t;var e=t+"";return"0"==e&&1/t==-Is?"-0":e}function Fs(t,e){for(var n=0,r=(e=Rs(e,t)).length;null!=t&&n<r;)t=t[zs(e[n++])];return n&&n==r?t:void 0}function Ps(t,e){return null!=t&&e in Object(t)}function Bs(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=Rs(e,t)).length,i=!1;++r<o;){var a=zs(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Sl(o)&&Ol(a,o)&&(ji(t)||ia(t))}(t,e,Ps)}var Us=1,Hs=2;function Ys(t,e){return Es(t)&&ys(e)?vs(zs(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:Fs(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?Bs(n,t):gs(e,r,Us|Hs)}}function Ws(t){return Es(t)?(e=zs(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return Fs(e,t)}}(t);var e}function Gs(t){return"function"==typeof t?t:null==t?$i:"object"==typeof t?ji(t)?Ys(t[0],t[1]):ws(t):Ws(t)}var qs,Vs=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var l=i[qs?a:++r];if(!1===e(o[l],l,o))break}return t},Ks=Vs;var Xs=function(t,e){return function(n,r){if(null==n)return n;if(!Ul(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&Ks(t,e,Hl)})),Zs=Xs;function Js(t,e){var n=-1,r=Ul(t)?Array(t.length):[];return Zs(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}function Qs(t,e){return(ji(t)?ba:Js)(t,Gs(e))}function tc(t){return t!=t}function ec(t,e){return!!(null==t?0:t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,tc,n)}(t,e,0)>-1}function nc(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}var rc=Kl&&1/nl(new Kl([,-0]))[1]==1/0?function(t){return new Kl(t)}:function(){},oc=rc,ic=200;function ac(t,e,n){var r=-1,o=ec,i=t.length,a=!0,l=[],s=l;if(n)a=!1,o=nc;else if(i>=ic){var c=e?null:oc(t);if(c)return nl(c);a=!1,o=Xa,s=new Va}else s=e?[]:l;t:for(;++r<i;){var u=t[r],f=e?e(u):u;if(u=n||0!==u?u:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),l.push(u)}else o(s,f,n)||(s!==l&&s.push(f),l.push(u))}return l}function lc(t){return t&&t.length?ac(t):[]}function sc(t,e){const n=Ee(t.colors.background).l,r=n>50,o=Ee(e);return o.l=r?Math.min(n-35,o.l):Math.max(n+50,o.l),o+""}var cc=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o},uc=oi(cc);function fc(t,e,n){t.style("left",(t=>e(Math[n?"max":"min"](0,t.value))+"%")).style("right",(t=>100-e(Math[n?"min":"max"](0,t.value))+"%"))}function hc(t,e,n,r){t.selectAll("div.bc-bar-inner").style("left",(t=>n(t.value)+"%")),t.selectAll("div.bc-"+e.replace("-plot","")).each((function(t){const e=n(t._v1),r=n(t._v2);t._min=Math.min(e,r)+"%",t._max=100-Math.max(e,r)+"%"})).style(r?"right":"left",Ni(r?"_max":"_min")).style(r?"left":"right",Ni(r?"_min":"_max"))}function pc(t){t.selectAll("div.bc-lbl-left").style("right",(t=>100-parseFloat(t._min)+"%")),t.selectAll("div.bc-lbl-right").style("left",(t=>100-parseFloat(t._max)+"%"))}function dc(t,e,n,r){const o="bars-stacked"===e?".bc-bar-total.after":".bc-bar-label.value";t.selectAll("div".concat(o)).classed(r?"right":"left",(t=>t.value<0)).classed(r?"left":"right",(t=>t.value>=0)).style("position","absolute").style("text-align",(t=>t.value>=0?r?"right":"left":r?"left":"right")).style("left",(function(t){const{width:e}=n.getElementBounds(this);return(r?t.value<0:t.value>=0)?"100%":-e+"px"}))}function gc(t,e,n){t.style("left",(t=>e(t[t.value>0?"offsetPos":"offsetNeg"]+(t.value<0?n?0:t.value:n?t.value:0))+"%")).style("right",(t=>100-e(t[t.value>0?"offsetPos":"offsetNeg"]+(t.value<0?n?t.value:0:n?0:t.value))+"%"))}const mc="--zero-baseline--";var bc=ii(ze),yc=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const vc=bc,wc=yc(cc);var xc=oi((function(t,e){const n=(0,wc.default)(e,"colors.palette",[]);let r=(o=t.color,"number"==typeof o?n[o%n.length]:o).toLowerCase();var o;return r="rgba(".concat((0,vc.rgb)(r).r,",").concat((0,vc.rgb)(r).g,",").concat((0,vc.rgb)(r).b,", ").concat(Number(t.opacity),")"),r}));const kc={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};var Mc=oi((function(t){let{defs:e,id:n,stroke:r="black",strokeWidth:o=1,lineGap:i=10,patternType:a="horizontal",rotation:l=0,scale:s=1,flipV:c=!1}=t;const u=(i+o)*s;let f=kc[a]||0;c&&(f=180-f),e.append("pattern").attr("id",n).attr("patternTransform","rotate(".concat(f-l," 0 0)")).attr("patternUnits","userSpaceOnUse").attr("height",u).attr("width",u).append("line").attr("x1",u/2).attr("y1",0).attr("x2",u/2).attr("y2",u).attr("stroke",r).attr("stroke-width",o*s)}));function Ac(t,e,n){const r=(t,r)=>e(Math[n?"max":"min"](t,r)),o=(t,r)=>e(Math[n?"min":"max"](t,r));t.filter((t=>"value"===t.type)).style("left",(t=>"calc(".concat(e(t.value)+"%"," - ").concat(100===e(t.value)?"2px":"1px",")"))),t.filter((t=>"htmlRange"===t.type)).style("left",(t=>"".concat(r(t.fromValue,t.toValue),"%"))).style("right",(t=>"".concat(100-o(t.fromValue,t.toValue),"%"))),t.filter((t=>"svgRange"===t.type)).style("left",(t=>"".concat(r(t.fromValue,t.toValue),"%"))).style("width",(t=>"".concat(o(t.fromValue,t.toValue)-r(t.fromValue,t.toValue),"%")))}function Ec(t){let{$chart:e,mode:n,barSpace:r,barScale:o,directLabels:i,chart:a,rtl:l}=t;const s="range-plot"===n||"arrow-plot"===n,c="bars"===n||"bars-grouped"===n,u="bars-stacked"===n;let f=0;if(s&&(r-=10),function t(){const[h,p]=function(){let t=0,f=0;const h=l?"right":"left";return e.selectAll(s||"bars"===n||u?".bc-row":".bc-bar-inner").each((function(e){const n=at(this);if(s){const[s,c]=["left","right"].map((t=>{const e=t+(t===h&&i?"-direct":"");return Tc(n,".bc-lbl-".concat(t),e,a)})),[u,p]=kt([e._v1,e._v2]),d=r*o(l?p:u)/100-s,g=r*o(l?u:p)/100+c;t=Math.min(t,d),f=Math.max(g-r,f)}if(c||u){if(isNaN(e.value))return;const i=".bc-bar-".concat(u?"total":"label"),s=Tc(n,i,"value",a),c=o(e.value)*r/100;l&&e.value>=0||!l&&e.value<0?t=Math.min(t,c-s):f=Math.max(f,c+s-r)}})),l?[f,-1*t]:[-1*t,f]}();if(Ot([h,p])>1){const e=o.range();o.range([e[0]+100*h/r*(l?-1:1),e[1]+100*p/r*(l?1:-1)]),f++<20&&t(),f=0}}(),c&&(fc(e.selectAll(".bc-bar-inner:not(.bc-overlay)"),o,l),Ac(e.selectAll(".bc-bar-overlay"),o,l)),u&&(fc(e.selectAll("div.bc-stack-total-outer"),o,l),gc(e.selectAll(".bc-bar-inner"),o,l)),s){const t=e.selectAll(".bc-row");hc(t,n,o,l),pc(t)}}function Tc(t,e,n,r){if(t.datum()["_".concat(n,"-w")])return t.datum()["_".concat(n,"-w")];const o=t.select(e).node();return t.datum()["_".concat(n,"-w")]=o?r.getElementBounds(o).width:0,t.datum()["_".concat(n,"-w")]}const _c=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);var Oc=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,o;if(void 0===e||isNaN(e)||null===e)return"";let i=n.format||"0.[00]";const a=n.multiply||1,l=n.prepend||"",s=n.append||"",c=null!==(r=n.minusChar)&&void 0!==r?r:"−",u=null!==(o=n.plusMinusChar)&&void 0!==o?o:"±";i.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=a;const f=i.indexOf("(")>-1,h=i.indexOf(";")>-1;i=i.replace(/;/g,",");let p=t(f?e:Math.abs(e)).format(i);if(h){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,o=i.includes("%")?e/.01:e;p=Math.abs(o)<1e4?p.replace(r,""):p}return l&&!f&&e<0&&_c.has(l.trim().toLowerCase())?"".concat(c).concat(l).concat(p.replace("+","")).concat(s):l&&e>=0&&_c.has(l.trim().toLowerCase())&&i.includes("+")?"".concat(0===e?u:"+").concat(l).concat(p.replace("+","")).concat(s):0===e&&i.includes("+")?"".concat(l).concat(p.replace("+",u)).concat(s):e<0&&!f?"".concat(l).concat(c).concat(p.replace("+","")).concat(s):"".concat(l).concat(p).concat(s)},Nc=oi(Oc),Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});var Lc=Sc.hideExtraZeros=$c=Sc.forceOptionalDecimals=void 0;const Cc=/\.(0*)\[(0+)\]\s*$/,Dc=/[\d\]]$/;var $c=Sc.forceOptionalDecimals=function(t){const e=t.trim();if(Cc.test(e)){return e.replace(Cc,".$1$2")}return e};function jc(t,e,n){if(!n)return $i;const r=t.chart().get("metadata.data.column-format",{})[n.name()]||{},o=uc(t.theme(),"vis.base.format.minusCharacter","−"),i=uc(t.theme(),"vis.base.format.plusMinusCharacter","±"),a=Math.pow(10,-r["number-divisor"]||0),{numeral:l}=t.libraries(),s="number"===n.type()?function(n,s,c,u){let f=t.get(e,"1,000.[00]");const h=f;s&&c&&(f=f.replace("$","").replace("%",""));const p=s?"":r["number-prepend"]||"",d=s?"":r["number-append"]||"";u&&(f=$c(f));const g=Nc(l,Number.isFinite(n)?n:NaN,{format:f,minusChar:o,plusMinusChar:i,multiply:a,prepend:p,append:d});return u?Lc(g,h):g}:"date"===n.type()?function(n,r,o){let i=t.get(e)||"YYYY";if(i.includes("~~")){const[t,e]=i.split("~~");i=r?t:e}if(i.includes("|")){const[t,e]=i.split("|");i=o?e:t}return Di(n).format(i)}:$i;return function(t,e,r,o){return"date"===n.type()?ma(t)?s(t,e,r):t:s(t,e,r,o)}}function Rc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o}function Ic(t,e,n){const r=Array.isArray(e)?e:e.split("."),o=r.pop();let i=t;return r.forEach((t=>{void 0!==i[t]&&null!==i[t]||(i[t]={}),i=i[t]})),JSON.stringify(i[o])!==JSON.stringify(n)&&(i[o]=n,!0)}Lc=Sc.hideExtraZeros=function(t,e){if(!e)throw new Error("No format specified");const n=t.trim(),r=e.trim();if(!1===Dc.test(r))return n;const o=function(t,e){const n=e.match(Cc);if(!n)return 0;const r=n[2].length;let o=0;for(let e=0;e<r;e++)"0"===t.charAt(t.length-1-e)&&(o+=1);return""===n[1]&&o===r&&(o+=1),o}(n,r);if(0===o)return n;const i=n.slice(0,n.length-o),a=n.slice(-o);return"".concat(i,'<span class="decimals" aria-hidden="true">').concat(a,"</span>")};const zc=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Fc=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;var Pc=t=>{if(t.match(zc)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Fc)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: ".concat(t))},Bc=oi(Pc),Uc=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t};const Hc=Uc;const Yc={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Yc["[object ".concat(t,"]")]=t.toLowerCase();var Wc=function(t){return Yc[Object.prototype.toString.call(t)]||"object"};const Gc=Wc;const qc=Wc;const Vc=Math.PI;var Kc={clip_rgb:t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=Hc(t[e],0,255)):3===e&&(t[e]=Hc(t[e],0,1));return t},limit:Uc,type:Wc,unpack:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.length>=3?Array.prototype.slice.call(t):"object"==Gc(t[0])&&e?e.split("").filter((e=>void 0!==t[0][e])).map((e=>t[0][e])):t[0]},last:t=>{if(t.length<2)return null;const e=t.length-1;return"string"==qc(t[e])?t[e].toLowerCase():null},PI:Vc,TWOPI:2*Vc,PITHIRD:Vc/3,DEG2RAD:Vc/180,RAD2DEG:180/Vc};const Xc={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{unpack:Zc}=Kc,{pow:Jc}=Math,Qc=t=>(t/=255)<=.04045?t/12.92:Jc((t+.055)/1.055,2.4),tu=t=>t>Xc.t3?Jc(t,1/3):t/Xc.t2+Xc.t0,eu=(t,e,n)=>{t=Qc(t),e=Qc(e),n=Qc(n);return[tu((.4124564*t+.3575761*e+.1804375*n)/Xc.Xn),tu((.2126729*t+.7151522*e+.072175*n)/Xc.Yn),tu((.0193339*t+.119192*e+.9503041*n)/Xc.Zn)]};var nu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,o,i]=Zc(e,"rgb"),[a,l,s]=eu(r,o,i),c=116*l-16;return[c<0?0:c,500*(a-l),200*(l-s)]},ru=oi(nu);var ou={exports:{}};
/**
   * chroma.js - JavaScript library for color conversions
   *
   * Copyright (c) 2011-2019, Gregor Aisch
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   * list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. The name Gregor Aisch may not be used to endorse or promote products
   * derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * -------------------------------------------------------
   *
   * chroma.js includes colors from colorbrewer2.org, which are released under
   * the following license:
   *
   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
   * and The Pennsylvania State University.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   * either express or implied. See the License for the specific
   * language governing permissions and limitations under the License.
   *
   * ------------------------------------------------------
   *
   * Named colors are taken from X11 Color Names.
   * http://www.w3.org/TR/css3-color/#svg-color
   *
   * @preserve
   */!function(t,e){t.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},r={},o=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<i.length;o+=1){var a=i[o];r["[object "+a+"]"]=a.toLowerCase()}var l=function(t){return r[Object.prototype.toString.call(t)]||"object"},s=l,c=function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},u=l,f=function(t){if(t.length<2)return null;var e=t.length-1;return"string"==u(t[e])?t[e].toLowerCase():null},h=Math.PI,p={clip_rgb:n,limit:t,type:l,unpack:c,last:f,PI:h,TWOPI:2*h,PITHIRD:h/3,DEG2RAD:h/180,RAD2DEG:180/h},d={format:{},autodetect:[]},g=p.last,m=p.clip_rgb,b=p.type,y=d,v=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===b(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=g(t),o=!1;if(!r){o=!0,y.sorted||(y.autodetect=y.autodetect.sort((function(t,e){return e.p-t.p})),y.sorted=!0);for(var i=0,a=y.autodetect;i<a.length;i+=1){var l=a[i];if(r=l.test.apply(l,t))break}}if(!y.format[r])throw new Error("unknown format: "+t);var s=y.format[r].apply(null,o?t:t.slice(0,-1));n._rgb=m(s),3===n._rgb.length&&n._rgb.push(1)};v.prototype.toString=function(){return"function"==b(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var w=v,x=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(x.Color,[null].concat(t)))};x.Color=w,x.version="2.4.2";var k=x,M=p.unpack,A=Math.max,E=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=M(t,"rgb"),r=n[0],o=n[1],i=n[2],a=1-A(r/=255,A(o/=255,i/=255)),l=a<1?1/(1-a):0;return[(1-r-a)*l,(1-o-a)*l,(1-i-a)*l,a]},T=E,_=p.unpack,O=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=_(t,"cmyk"))[0],r=t[1],o=t[2],i=t[3],a=t.length>4?t[4]:1;return 1===i?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),o>=1?0:255*(1-o)*(1-i),a]},N=O,S=k,L=w,C=d,D=p.unpack,$=p.type,j=T;L.prototype.cmyk=function(){return j(this._rgb)},S.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(L,[null].concat(t,["cmyk"])))},C.format.cmyk=N,C.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=D(t,"cmyk"),"array"===$(t)&&4===t.length)return"cmyk"}});var R=p.unpack,I=p.last,z=function(t){return Math.round(100*t)/100},F=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=R(t,"hsla"),r=I(t)||"lsa";return n[0]=z(n[0]||0),n[1]=z(100*n[1])+"%",n[2]=z(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},P=F,B=p.unpack,U=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=B(t,"rgba"))[0],r=t[1],o=t[2];n/=255,r/=255,o/=255;var i,a,l=Math.min(n,r,o),s=Math.max(n,r,o),c=(s+l)/2;return s===l?(i=0,a=Number.NaN):i=c<.5?(s-l)/(s+l):(s-l)/(2-s-l),n==s?a=(r-o)/(s-l):r==s?a=2+(o-n)/(s-l):o==s&&(a=4+(n-r)/(s-l)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,i,c,t[3]]:[a,i,c]},H=U,Y=p.unpack,W=p.last,G=P,q=H,V=Math.round,K=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Y(t,"rgba"),r=W(t)||"rgb";return"hsl"==r.substr(0,3)?G(q(n),r):(n[0]=V(n[0]),n[1]=V(n[1]),n[2]=V(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},X=K,Z=p.unpack,J=Math.round,Q=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,o,i,a=(e=Z(e,"hsl"))[0],l=e[1],s=e[2];if(0===l)r=o=i=255*s;else{var c=[0,0,0],u=[0,0,0],f=s<.5?s*(1+l):s+l-s*l,h=2*s-f,p=a/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?u[d]=h+6*(f-h)*c[d]:2*c[d]<1?u[d]=f:3*c[d]<2?u[d]=h+(f-h)*(2/3-c[d])*6:u[d]=h;r=(t=[J(255*u[0]),J(255*u[1]),J(255*u[2])])[0],o=t[1],i=t[2]}return e.length>3?[r,o,i,e[3]]:[r,o,i,1]},tt=Q,et=tt,nt=d,rt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ot=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,it=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,at=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,lt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,st=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ct=Math.round,ut=function(t){var e;if(t=t.toLowerCase().trim(),nt.format.named)try{return nt.format.named(t)}catch(t){}if(e=t.match(rt)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(ot)){for(var o=e.slice(1,5),i=0;i<4;i++)o[i]=+o[i];return o}if(e=t.match(it)){for(var a=e.slice(1,4),l=0;l<3;l++)a[l]=ct(2.55*a[l]);return a[3]=1,a}if(e=t.match(at)){for(var s=e.slice(1,5),c=0;c<3;c++)s[c]=ct(2.55*s[c]);return s[3]=+s[3],s}if(e=t.match(lt)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var f=et(u);return f[3]=1,f}if(e=t.match(st)){var h=e.slice(1,4);h[1]*=.01,h[2]*=.01;var p=et(h);return p[3]=+e[4],p}};ut.test=function(t){return rt.test(t)||ot.test(t)||it.test(t)||at.test(t)||lt.test(t)||st.test(t)};var ft=ut,ht=k,pt=w,dt=d,gt=p.type,mt=X,bt=ft;pt.prototype.css=function(t){return mt(this._rgb,t)},ht.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(pt,[null].concat(t,["css"])))},dt.format.css=bt,dt.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===gt(t)&&bt.test(t))return"css"}});var yt=w,vt=k,wt=d,xt=p.unpack;wt.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=xt(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},vt.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(yt,[null].concat(t,["gl"])))},yt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var kt=p.unpack,Mt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=kt(t,"rgb"),o=r[0],i=r[1],a=r[2],l=Math.min(o,i,a),s=Math.max(o,i,a),c=s-l,u=100*c/255,f=l/(255-c)*100;return 0===c?n=Number.NaN:(o===s&&(n=(i-a)/c),i===s&&(n=2+(a-o)/c),a===s&&(n=4+(o-i)/c),(n*=60)<0&&(n+=360)),[n,u,f]},At=Mt,Et=p.unpack,Tt=Math.floor,_t=function(){for(var t,e,n,r,o,i,a=[],l=arguments.length;l--;)a[l]=arguments[l];var s,c,u,f=(a=Et(a,"hcg"))[0],h=a[1],p=a[2];p*=255;var d=255*h;if(0===h)s=c=u=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var g=Tt(f/=60),m=f-g,b=p*(1-h),y=b+d*(1-m),v=b+d*m,w=b+d;switch(g){case 0:s=(t=[w,v,b])[0],c=t[1],u=t[2];break;case 1:s=(e=[y,w,b])[0],c=e[1],u=e[2];break;case 2:s=(n=[b,w,v])[0],c=n[1],u=n[2];break;case 3:s=(r=[b,y,w])[0],c=r[1],u=r[2];break;case 4:s=(o=[v,b,w])[0],c=o[1],u=o[2];break;case 5:s=(i=[w,b,y])[0],c=i[1],u=i[2]}}return[s,c,u,a.length>3?a[3]:1]},Ot=_t,Nt=p.unpack,St=p.type,Lt=k,Ct=w,Dt=d,$t=At;Ct.prototype.hcg=function(){return $t(this._rgb)},Lt.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ct,[null].concat(t,["hcg"])))},Dt.format.hcg=Ot,Dt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Nt(t,"hcg"),"array"===St(t)&&3===t.length)return"hcg"}});var jt=p.unpack,Rt=p.last,It=Math.round,zt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=jt(t,"rgba"),r=n[0],o=n[1],i=n[2],a=n[3],l=Rt(t)||"auto";void 0===a&&(a=1),"auto"===l&&(l=a<1?"rgba":"rgb");var s="000000"+((r=It(r))<<16|(o=It(o))<<8|(i=It(i))).toString(16);s=s.substr(s.length-6);var c="0"+It(255*a).toString(16);switch(c=c.substr(c.length-2),l.toLowerCase()){case"rgba":return"#"+s+c;case"argb":return"#"+c+s;default:return"#"+s}},Ft=zt,Pt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Bt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ut=function(t){if(t.match(Pt)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Bt)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},Ht=Ut,Yt=k,Wt=w,Gt=p.type,qt=d,Vt=Ft;Wt.prototype.hex=function(t){return Vt(this._rgb,t)},Yt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Wt,[null].concat(t,["hex"])))},qt.format.hex=Ht,qt.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Gt(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Kt=p.unpack,Xt=p.TWOPI,Zt=Math.min,Jt=Math.sqrt,Qt=Math.acos,te=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Kt(t,"rgb"),o=r[0],i=r[1],a=r[2],l=Zt(o/=255,i/=255,a/=255),s=(o+i+a)/3,c=s>0?1-l/s:0;return 0===c?n=NaN:(n=(o-i+(o-a))/2,n/=Jt((o-i)*(o-i)+(o-a)*(i-a)),n=Qt(n),a>i&&(n=Xt-n),n/=Xt),[360*n,c,s]},ee=te,ne=p.unpack,re=p.limit,oe=p.TWOPI,ie=p.PITHIRD,ae=Math.cos,le=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,i=(t=ne(t,"hsi"))[0],a=t[1],l=t[2];return isNaN(i)&&(i=0),isNaN(a)&&(a=0),i>360&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?r=1-((o=(1-a)/3)+(n=(1+a*ae(oe*i)/ae(ie-oe*i))/3)):i<2/3?o=1-((n=(1-a)/3)+(r=(1+a*ae(oe*(i-=1/3))/ae(ie-oe*i))/3)):n=1-((r=(1-a)/3)+(o=(1+a*ae(oe*(i-=2/3))/ae(ie-oe*i))/3)),[255*(n=re(l*n*3)),255*(r=re(l*r*3)),255*(o=re(l*o*3)),t.length>3?t[3]:1]},se=le,ce=p.unpack,ue=p.type,fe=k,he=w,pe=d,de=ee;he.prototype.hsi=function(){return de(this._rgb)},fe.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(he,[null].concat(t,["hsi"])))},pe.format.hsi=se,pe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ce(t,"hsi"),"array"===ue(t)&&3===t.length)return"hsi"}});var ge=p.unpack,me=p.type,be=k,ye=w,ve=d,we=H;ye.prototype.hsl=function(){return we(this._rgb)},be.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ye,[null].concat(t,["hsl"])))},ve.format.hsl=tt,ve.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ge(t,"hsl"),"array"===me(t)&&3===t.length)return"hsl"}});var xe=p.unpack,ke=Math.min,Me=Math.max,Ae=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,i=(t=xe(t,"rgb"))[0],a=t[1],l=t[2],s=ke(i,a,l),c=Me(i,a,l),u=c-s;return o=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,i===c&&(n=(a-l)/u),a===c&&(n=2+(l-i)/u),l===c&&(n=4+(i-a)/u),(n*=60)<0&&(n+=360)),[n,r,o]},Ee=Ae,Te=p.unpack,_e=Math.floor,Oe=function(){for(var t,e,n,r,o,i,a=[],l=arguments.length;l--;)a[l]=arguments[l];var s,c,u,f=(a=Te(a,"hsv"))[0],h=a[1],p=a[2];if(p*=255,0===h)s=c=u=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=_e(f/=60),g=f-d,m=p*(1-h),b=p*(1-h*g),y=p*(1-h*(1-g));switch(d){case 0:s=(t=[p,y,m])[0],c=t[1],u=t[2];break;case 1:s=(e=[b,p,m])[0],c=e[1],u=e[2];break;case 2:s=(n=[m,p,y])[0],c=n[1],u=n[2];break;case 3:s=(r=[m,b,p])[0],c=r[1],u=r[2];break;case 4:s=(o=[y,m,p])[0],c=o[1],u=o[2];break;case 5:s=(i=[p,m,b])[0],c=i[1],u=i[2]}}return[s,c,u,a.length>3?a[3]:1]},Ne=Oe,Se=p.unpack,Le=p.type,Ce=k,De=w,$e=d,je=Ee;De.prototype.hsv=function(){return je(this._rgb)},Ce.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(De,[null].concat(t,["hsv"])))},$e.format.hsv=Ne,$e.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Se(t,"hsv"),"array"===Le(t)&&3===t.length)return"hsv"}});var Re={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ie=Re,ze=p.unpack,Fe=Math.pow,Pe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ze(t,"rgb"),r=n[0],o=n[1],i=n[2],a=He(r,o,i),l=a[0],s=a[1],c=116*s-16;return[c<0?0:c,500*(l-s),200*(s-a[2])]},Be=function(t){return(t/=255)<=.04045?t/12.92:Fe((t+.055)/1.055,2.4)},Ue=function(t){return t>Ie.t3?Fe(t,1/3):t/Ie.t2+Ie.t0},He=function(t,e,n){return t=Be(t),e=Be(e),n=Be(n),[Ue((.4124564*t+.3575761*e+.1804375*n)/Ie.Xn),Ue((.2126729*t+.7151522*e+.072175*n)/Ie.Yn),Ue((.0193339*t+.119192*e+.9503041*n)/Ie.Zn)]},Ye=Pe,We=Re,Ge=p.unpack,qe=Math.pow,Ve=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,i=(t=Ge(t,"lab"))[0],a=t[1],l=t[2];return r=(i+16)/116,n=isNaN(a)?r:r+a/500,o=isNaN(l)?r:r-l/200,r=We.Yn*Xe(r),n=We.Xn*Xe(n),o=We.Zn*Xe(o),[Ke(3.2404542*n-1.5371385*r-.4985314*o),Ke(-.969266*n+1.8760108*r+.041556*o),Ke(.0556434*n-.2040259*r+1.0572252*o),t.length>3?t[3]:1]},Ke=function(t){return 255*(t<=.00304?12.92*t:1.055*qe(t,1/2.4)-.055)},Xe=function(t){return t>We.t1?t*t*t:We.t2*(t-We.t0)},Ze=Ve,Je=p.unpack,Qe=p.type,tn=k,en=w,nn=d,rn=Ye;en.prototype.lab=function(){return rn(this._rgb)},tn.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(en,[null].concat(t,["lab"])))},nn.format.lab=Ze,nn.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Je(t,"lab"),"array"===Qe(t)&&3===t.length)return"lab"}});var on=p.unpack,an=p.RAD2DEG,ln=Math.sqrt,sn=Math.atan2,cn=Math.round,un=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=on(t,"lab"),r=n[0],o=n[1],i=n[2],a=ln(o*o+i*i),l=(sn(i,o)*an+360)%360;return 0===cn(1e4*a)&&(l=Number.NaN),[r,a,l]},fn=un,hn=p.unpack,pn=Ye,dn=fn,gn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=hn(t,"rgb"),r=n[0],o=n[1],i=n[2],a=pn(r,o,i),l=a[0],s=a[1],c=a[2];return dn(l,s,c)},mn=gn,bn=p.unpack,yn=p.DEG2RAD,vn=Math.sin,wn=Math.cos,xn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=bn(t,"lch"),r=n[0],o=n[1],i=n[2];return isNaN(i)&&(i=0),[r,wn(i*=yn)*o,vn(i)*o]},kn=xn,Mn=p.unpack,An=kn,En=Ze,Tn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Mn(t,"lch"))[0],r=t[1],o=t[2],i=An(n,r,o),a=i[0],l=i[1],s=i[2],c=En(a,l,s);return[c[0],c[1],c[2],t.length>3?t[3]:1]},_n=Tn,On=p.unpack,Nn=_n,Sn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=On(t,"hcl").reverse();return Nn.apply(void 0,n)},Ln=Sn,Cn=p.unpack,Dn=p.type,$n=k,jn=w,Rn=d,In=mn;jn.prototype.lch=function(){return In(this._rgb)},jn.prototype.hcl=function(){return In(this._rgb).reverse()},$n.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(jn,[null].concat(t,["lch"])))},$n.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(jn,[null].concat(t,["hcl"])))},Rn.format.lch=_n,Rn.format.hcl=Ln,["lch","hcl"].forEach((function(t){return Rn.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=Cn(e,t),"array"===Dn(e)&&3===e.length)return t}})}));var zn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Fn=w,Pn=d,Bn=p.type,Un=zn,Hn=Ht,Yn=Ft;Fn.prototype.name=function(){for(var t=Yn(this._rgb,"rgb"),e=0,n=Object.keys(Un);e<n.length;e+=1){var r=n[e];if(Un[r]===t)return r.toLowerCase()}return t},Pn.format.named=function(t){if(t=t.toLowerCase(),Un[t])return Hn(Un[t]);throw new Error("unknown color name: "+t)},Pn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Bn(t)&&Un[t.toLowerCase()])return"named"}});var Wn=p.unpack,Gn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Wn(t,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},qn=Gn,Vn=p.type,Kn=function(t){if("number"==Vn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},Xn=k,Zn=w,Jn=d,Qn=p.type,tr=qn;Zn.prototype.num=function(){return tr(this._rgb)},Xn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Zn,[null].concat(t,["num"])))},Jn.format.num=Kn,Jn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===Qn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var er=k,nr=w,rr=d,or=p.unpack,ir=p.type,ar=Math.round;nr.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ar)},nr.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:ar(e):e}))},er.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(nr,[null].concat(t,["rgb"])))},rr.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=or(t,"rgba");return void 0===n[3]&&(n[3]=1),n},rr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=or(t,"rgba"),"array"===ir(t)&&(3===t.length||4===t.length&&"number"==ir(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var lr=Math.log,sr=function(t){var e,n,r,o=t/100;return o<66?(e=255,n=o<6?0:-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*lr(n),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*lr(r)):(e=351.97690566805693+.114206453784165*(e=o-55)-40.25366309332127*lr(e),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*lr(n),r=255),[e,n,r,1]},cr=sr,ur=p.unpack,fr=Math.round,hr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=ur(t,"rgb"),o=r[0],i=r[2],a=1e3,l=4e4,s=.4;l-a>s;){var c=cr(n=.5*(l+a));c[2]/c[0]>=i/o?l=n:a=n}return fr(n)},pr=k,dr=w,gr=d,mr=hr;dr.prototype.temp=dr.prototype.kelvin=dr.prototype.temperature=function(){return mr(this._rgb)},pr.temp=pr.kelvin=pr.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(dr,[null].concat(t,["temp"])))},gr.format.temp=gr.format.kelvin=gr.format.temperature=sr;var br=p.unpack,yr=Math.cbrt,vr=Math.pow,wr=Math.sign,xr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=br(t,"rgb"),r=n[0],o=n[1],i=n[2],a=[Mr(r/255),Mr(o/255),Mr(i/255)],l=a[0],s=a[1],c=a[2],u=yr(.4122214708*l+.5363325363*s+.0514459929*c),f=yr(.2119034982*l+.6806995451*s+.1073969566*c),h=yr(.0883024619*l+.2817188376*s+.6299787005*c);return[.2104542553*u+.793617785*f-.0040720468*h,1.9779984951*u-2.428592205*f+.4505937099*h,.0259040371*u+.7827717662*f-.808675766*h]},kr=xr;function Mr(t){var e=Math.abs(t);return e<.04045?t/12.92:(wr(t)||1)*vr((e+.055)/1.055,2.4)}var Ar=p.unpack,Er=Math.pow,Tr=Math.sign,_r=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Ar(t,"lab"))[0],r=t[1],o=t[2],i=Er(n+.3963377774*r+.2158037573*o,3),a=Er(n-.1055613458*r-.0638541728*o,3),l=Er(n-.0894841775*r-1.291485548*o,3);return[255*Nr(4.0767416621*i-3.3077115913*a+.2309699292*l),255*Nr(-1.2684380046*i+2.6097574011*a-.3413193965*l),255*Nr(-.0041960863*i-.7034186147*a+1.707614701*l),t.length>3?t[3]:1]},Or=_r;function Nr(t){var e=Math.abs(t);return e>.0031308?(Tr(t)||1)*(1.055*Er(e,1/2.4)-.055):12.92*t}var Sr=p.unpack,Lr=p.type,Cr=k,Dr=w,$r=d,jr=kr;Dr.prototype.oklab=function(){return jr(this._rgb)},Cr.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Dr,[null].concat(t,["oklab"])))},$r.format.oklab=Or,$r.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Sr(t,"oklab"),"array"===Lr(t)&&3===t.length)return"oklab"}});var Rr=p.unpack,Ir=kr,zr=fn,Fr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Rr(t,"rgb"),r=n[0],o=n[1],i=n[2],a=Ir(r,o,i),l=a[0],s=a[1],c=a[2];return zr(l,s,c)},Pr=Fr,Br=p.unpack,Ur=kn,Hr=Or,Yr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Br(t,"lch"))[0],r=t[1],o=t[2],i=Ur(n,r,o),a=i[0],l=i[1],s=i[2],c=Hr(a,l,s);return[c[0],c[1],c[2],t.length>3?t[3]:1]},Wr=Yr,Gr=p.unpack,qr=p.type,Vr=k,Kr=w,Xr=d,Zr=Pr;Kr.prototype.oklch=function(){return Zr(this._rgb)},Vr.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Kr,[null].concat(t,["oklch"])))},Xr.format.oklch=Wr,Xr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Gr(t,"oklch"),"array"===qr(t)&&3===t.length)return"oklch"}});var Jr=w,Qr=p.type;Jr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Qr(t)?e?(this._rgb[3]=t,this):new Jr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1};var to=w,eo=Re;to.prototype.darken=function(t){void 0===t&&(t=1);var e=this,n=e.lab();return n[0]-=eo.Kn*t,new to(n,"lab").alpha(e.alpha(),!0)},to.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},to.prototype.darker=to.prototype.darken,to.prototype.brighter=to.prototype.brighten,w.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],o=this[n]();if(r){var i=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(i>-1)return o[i];throw new Error("unknown channel "+r+" in mode "+n)}return o};var no=w,ro=p.type,oo=Math.pow,io=1e-7,ao=20;no.prototype.luminance=function(t){if(void 0!==t&&"number"===ro(t)){if(0===t)return new no([0,0,0,this._rgb[3]],"rgb");if(1===t)return new no([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",r=ao,o=function(e,i){var a=e.interpolate(i,.5,n),l=a.luminance();return Math.abs(t-l)<io||!r--?a:l>t?o(e,a):o(a,i)},i=(e>t?o(new no([0,0,0]),this):o(this,new no([255,255,255]))).rgb();return new no(i.concat([this._rgb[3]]))}return lo.apply(void 0,this._rgb.slice(0,3))};var lo=function(t,e,n){return.2126*(t=so(t))+.7152*(e=so(e))+.0722*(n=so(n))},so=function(t){return(t/=255)<=.03928?t/12.92:oo((t+.055)/1.055,2.4)},co={},uo=w,fo=p.type,ho=co,po=function(t,e,n){void 0===n&&(n=.5);for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var i=r[0]||"lrgb";if(ho[i]||r.length||(i=Object.keys(ho)[0]),!ho[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==fo(t)&&(t=new uo(t)),"object"!==fo(e)&&(e=new uo(e)),ho[i](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},go=w,mo=po;go.prototype.mix=go.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return mo.apply(void 0,[this,t,e].concat(n))};var bo=w;bo.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new bo([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var yo=w,vo=Re;yo.prototype.saturate=function(t){void 0===t&&(t=1);var e=this,n=e.lch();return n[1]+=vo.Kn*t,n[1]<0&&(n[1]=0),new yo(n,"lch").alpha(e.alpha(),!0)},yo.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var wo=w,xo=p.type;wo.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),o=r[0],i=r[1],a=this[o]();if(i){var l=o.indexOf(i)-("ok"===o.substr(0,2)?2:0);if(l>-1){if("string"==xo(e))switch(e.charAt(0)){case"+":case"-":a[l]+=+e;break;case"*":a[l]*=+e.substr(1);break;case"/":a[l]/=+e.substr(1);break;default:a[l]=+e}else{if("number"!==xo(e))throw new Error("unsupported value for Color.set");a[l]=e}var s=new wo(a,o);return n?(this._rgb=s._rgb,this):s}throw new Error("unknown channel "+i+" in mode "+o)}return a};var ko=w,Mo=function(t,e,n){var r=t._rgb,o=e._rgb;return new ko(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};co.rgb=Mo;var Ao=w,Eo=Math.sqrt,To=Math.pow,_o=function(t,e,n){var r=t._rgb,o=r[0],i=r[1],a=r[2],l=e._rgb,s=l[0],c=l[1],u=l[2];return new Ao(Eo(To(o,2)*(1-n)+To(s,2)*n),Eo(To(i,2)*(1-n)+To(c,2)*n),Eo(To(a,2)*(1-n)+To(u,2)*n),"rgb")};co.lrgb=_o;var Oo=w,No=function(t,e,n){var r=t.lab(),o=e.lab();return new Oo(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};co.lab=No;var So=w,Lo=function(t,e,n,r){var o,i,a,l,s,c,u,f,h,p,d,g,m;return"hsl"===r?(a=t.hsl(),l=e.hsl()):"hsv"===r?(a=t.hsv(),l=e.hsv()):"hcg"===r?(a=t.hcg(),l=e.hcg()):"hsi"===r?(a=t.hsi(),l=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),l=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),l=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(s=(o=a)[0],u=o[1],h=o[2],c=(i=l)[0],f=i[1],p=i[2]),isNaN(s)||isNaN(c)?isNaN(s)?isNaN(c)?g=Number.NaN:(g=c,1!=h&&0!=h||"hsv"==r||(d=f)):(g=s,1!=p&&0!=p||"hsv"==r||(d=u)):g=s+n*(c>s&&c-s>180?c-(s+360):c<s&&s-c>180?c+360-s:c-s),void 0===d&&(d=u+n*(f-u)),m=h+n*(p-h),new So("oklch"===r?[m,d,g]:[g,d,m],r)},Co=Lo,Do=function(t,e,n){return Co(t,e,n,"lch")};co.lch=Do,co.hcl=Do;var $o=w,jo=function(t,e,n){var r=t.num(),o=e.num();return new $o(r+n*(o-r),"num")};co.num=jo;var Ro=Lo,Io=function(t,e,n){return Ro(t,e,n,"hcg")};co.hcg=Io;var zo=Lo,Fo=function(t,e,n){return zo(t,e,n,"hsi")};co.hsi=Fo;var Po=Lo,Bo=function(t,e,n){return Po(t,e,n,"hsl")};co.hsl=Bo;var Uo=Lo,Ho=function(t,e,n){return Uo(t,e,n,"hsv")};co.hsv=Ho;var Yo=w,Wo=function(t,e,n){var r=t.oklab(),o=e.oklab();return new Yo(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")};co.oklab=Wo;var Go=Lo,qo=function(t,e,n){return Go(t,e,n,"oklch")};co.oklch=qo;var Vo=w,Ko=p.clip_rgb,Xo=Math.pow,Zo=Math.sqrt,Jo=Math.PI,Qo=Math.cos,ti=Math.sin,ei=Math.atan2,ni=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var o=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=o})),t=t.map((function(t){return new Vo(t)})),"lrgb"===e)return ri(t,n);for(var i=t.shift(),a=i.get(e),l=[],s=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],l.push(isNaN(a[u])?0:n[0]),"h"===e.charAt(u)&&!isNaN(a[u])){var f=a[u]/180*Jo;s+=Qo(f)*n[0],c+=ti(f)*n[0]}var h=i.alpha()*n[0];t.forEach((function(t,r){var o=t.get(e);h+=t.alpha()*n[r+1];for(var i=0;i<a.length;i++)if(!isNaN(o[i]))if(l[i]+=n[r+1],"h"===e.charAt(i)){var u=o[i]/180*Jo;s+=Qo(u)*n[r+1],c+=ti(u)*n[r+1]}else a[i]+=o[i]*n[r+1]}));for(var p=0;p<a.length;p++)if("h"===e.charAt(p)){for(var d=ei(c/l[p],s/l[p])/Jo*180;d<0;)d+=360;for(;d>=360;)d-=360;a[p]=d}else a[p]=a[p]/l[p];return h/=r,new Vo(a,e).alpha(h>.99999?1:h,!0)},ri=function(t,e){for(var n=t.length,r=[0,0,0,0],o=0;o<t.length;o++){var i=t[o],a=e[o]/n,l=i._rgb;r[0]+=Xo(l[0],2)*a,r[1]+=Xo(l[1],2)*a,r[2]+=Xo(l[2],2)*a,r[3]+=l[3]*a}return r[0]=Zo(r[0]),r[1]=Zo(r[1]),r[2]=Zo(r[2]),r[3]>.9999999&&(r[3]=1),new Vo(Ko(r))},oi=k,ii=p.type,ai=Math.pow,li=function(t){var e="rgb",n=oi("#ccc"),r=0,o=[0,1],i=[],a=[0,0],l=!1,s=[],c=!1,u=0,f=1,h=!1,p={},d=!0,g=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===ii(t)&&oi.brewer&&oi.brewer[t.toLowerCase()]&&(t=oi.brewer[t.toLowerCase()]),"array"===ii(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=oi(t[e]);i.length=0;for(var n=0;n<t.length;n++)i.push(n/(t.length-1))}return x(),s=t},b=function(t){if(null!=l){for(var e=l.length-1,n=0;n<e&&t>=l[n];)n++;return n-1}return 0},y=function(t){return t},v=function(t){return t},w=function(t,r){var o,c;if(null==r&&(r=!1),isNaN(t)||null===t)return n;c=r?t:l&&l.length>2?b(t)/(l.length-2):f!==u?(t-u)/(f-u):1,c=v(c),r||(c=y(c)),1!==g&&(c=ai(c,g)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(d&&p[h])o=p[h];else{if("array"===ii(s))for(var m=0;m<i.length;m++){var w=i[m];if(c<=w){o=s[m];break}if(c>=w&&m===i.length-1){o=s[m];break}if(c>w&&c<i[m+1]){c=(c-w)/(i[m+1]-w),o=oi.interpolate(s[m],s[m+1],c,e);break}}else"function"===ii(s)&&(o=s(c));d&&(p[h]=o)}return o},x=function(){return p={}};m(t);var k=function(t){var e=oi(w(t));return c&&e[c]?e[c]():e};return k.classes=function(t){if(null!=t){if("array"===ii(t))l=t,o=[t[0],t[t.length-1]];else{var e=oi.analyze(o);l=0===t?[e.min,e.max]:oi.limits(e,"e",t)}return k}return l},k.domain=function(t){if(!arguments.length)return o;u=t[0],f=t[t.length-1],i=[];var e=s.length;if(t.length===e&&u!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];i.push((a-u)/(f-u))}else{for(var l=0;l<e;l++)i.push(l/(e-1));if(t.length>2){var c=t.map((function(e,n){return n/(t.length-1)})),h=t.map((function(t){return(t-u)/(f-u)}));h.every((function(t,e){return c[e]===t}))||(v=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]);return c[e]+n*(c[e+1]-c[e])})}}return o=[u,f],k},k.mode=function(t){return arguments.length?(e=t,x(),k):e},k.range=function(t,e){return m(t),k},k.out=function(t){return c=t,k},k.spread=function(t){return arguments.length?(r=t,k):r},k.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),y=h?function(t){for(var e=w(0,!0).lab()[0],n=w(1,!0).lab()[0],r=e>n,o=w(t,!0).lab()[0],i=e+(n-e)*t,a=o-i,l=0,s=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(l=t,t+=.5*(s-t)):(s=t,t+=.5*(l-t)),o=w(t,!0).lab()[0],a=o-i;return t}:function(t){return t},k},k.padding=function(t){return null!=t?("number"===ii(t)&&(t=[t,t]),a=t,k):a},k.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=s.slice(0);else if(1===e)r=[k(.5)];else if(e>1){var i=o[0],a=o[1]-i;r=si(0,e,!1).map((function(t){return k(i+t/(e-1)*a)}))}else{t=[];var c=[];if(l&&l.length>2)for(var u=1,f=l.length,h=1<=f;h?u<f:u>f;h?u++:u--)c.push(.5*(l[u-1]+l[u]));else c=o;r=c.map((function(t){return k(t)}))}return oi[n]&&(r=r.map((function(t){return t[n]()}))),r},k.cache=function(t){return null!=t?(d=t,k):d},k.gamma=function(t){return null!=t?(g=t,k):g},k.nodata=function(t){return null!=t?(n=oi(t),k):n},k};function si(t,e,n){for(var r=[],o=t<e,i=n?o?e+1:e-1:e,a=t;o?a<i:a>i;o?a++:a--)r.push(a);return r}var ci=w,ui=li,fi=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],o=1;o<=e.length;o++)r[o]=(e[o]||0)+e[o-1];e=r}return e},hi=function(t){var e,n,r,o,i,a,l;if(2===(t=t.map((function(t){return new ci(t)}))).length)e=t.map((function(t){return t.lab()})),i=e[0],a=e[1],o=function(t){var e=[0,1,2].map((function(e){return i[e]+t*(a[e]-i[e])}));return new ci(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),i=n[0],a=n[1],l=n[2],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*i[e]+2*(1-t)*t*a[e]+t*t*l[e]}));return new ci(e,"lab")};else if(4===t.length){var s;r=t.map((function(t){return t.lab()})),i=r[0],a=r[1],l=r[2],s=r[3],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*i[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*l[e]+t*t*t*s[e]}));return new ci(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,f;c=t.map((function(t){return t.lab()})),f=t.length-1,u=fi(f),o=function(t){var e=1-t,n=[0,1,2].map((function(n){return c.reduce((function(r,o,i){return r+u[i]*Math.pow(e,f-i)*Math.pow(t,i)*o[n]}),0)}));return new ci(n,"lab")}}return o},pi=function(t){var e=hi(t);return e.scale=function(){return ui(e)},e},di=k,gi=function(t,e,n){if(!gi[n])throw new Error("unknown blend mode "+n);return gi[n](t,e)},mi=function(t){return function(e,n){var r=di(n).rgb(),o=di(e).rgb();return di.rgb(t(r,o))}},bi=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}},yi=function(t){return t},vi=function(t,e){return t*e/255},wi=function(t,e){return t>e?e:t},xi=function(t,e){return t>e?t:e},ki=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},Mi=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},Ai=function(t,e){return 255*(1-(1-e/255)/(t/255))},Ei=function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t};gi.normal=mi(bi(yi)),gi.multiply=mi(bi(vi)),gi.screen=mi(bi(ki)),gi.overlay=mi(bi(Mi)),gi.darken=mi(bi(wi)),gi.lighten=mi(bi(xi)),gi.dodge=mi(bi(Ei)),gi.burn=mi(bi(Ai));for(var Ti=gi,_i=p.type,Oi=p.clip_rgb,Ni=p.TWOPI,Si=Math.pow,Li=Math.sin,Ci=Math.cos,Di=k,$i=function(t,e,n,r,o){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=[0,1]);var i,a=0;"array"===_i(o)?i=o[1]-o[0]:(i=0,o=[o,o]);var l=function(l){var s=Ni*((t+120)/360+e*l),c=Si(o[0]+i*l,r),u=(0!==a?n[0]+l*a:n)*c*(1-c)/2,f=Ci(s),h=Li(s);return Di(Oi([255*(c+u*(-.14861*f+1.78277*h)),255*(c+u*(-.29227*f-.90649*h)),255*(c+u*(1.97294*f)),1]))};return l.start=function(e){return null==e?t:(t=e,l)},l.rotations=function(t){return null==t?e:(e=t,l)},l.gamma=function(t){return null==t?r:(r=t,l)},l.hue=function(t){return null==t?n:("array"===_i(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,l)},l.lightness=function(t){return null==t?o:("array"===_i(t)?(o=t,i=t[1]-t[0]):(o=[t,t],i=0),l)},l.scale=function(){return Di.scale(l)},l.hue(n),l},ji=w,Ri="0123456789abcdef",Ii=Math.floor,zi=Math.random,Fi=function(){for(var t="#",e=0;e<6;e++)t+=Ri.charAt(Ii(16*zi()));return new ji(t,"hex")},Pi=l,Bi=Math.log,Ui=Math.pow,Hi=Math.floor,Yi=Math.abs,Wi=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Pi(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===Pi(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return Gi(n,t,e)},n},Gi=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==Pi(t)&&(t=Wi(t));var r=t.min,o=t.max,i=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,o];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(o)),"e"===e.substr(0,1)){a.push(r);for(var l=1;l<n;l++)a.push(r+l/n*(o-r));a.push(o)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var s=Math.LOG10E*Bi(r),c=Math.LOG10E*Bi(o);a.push(r);for(var u=1;u<n;u++)a.push(Ui(10,s+u/n*(c-s)));a.push(o)}else if("q"===e.substr(0,1)){a.push(r);for(var f=1;f<n;f++){var h=(i.length-1)*f/n,p=Hi(h);if(p===h)a.push(i[p]);else{var d=h-p;a.push(i[p]*(1-d)+i[p+1]*d)}}a.push(o)}else if("k"===e.substr(0,1)){var g,m=i.length,b=new Array(m),y=new Array(n),v=!0,w=0,x=null;(x=[]).push(r);for(var k=1;k<n;k++)x.push(r+k/n*(o-r));for(x.push(o);v;){for(var M=0;M<n;M++)y[M]=0;for(var A=0;A<m;A++)for(var E=i[A],T=Number.MAX_VALUE,_=void 0,O=0;O<n;O++){var N=Yi(x[O]-E);N<T&&(T=N,_=O),y[_]++,b[A]=_}for(var S=new Array(n),L=0;L<n;L++)S[L]=null;for(var C=0;C<m;C++)null===S[g=b[C]]?S[g]=i[C]:S[g]+=i[C];for(var D=0;D<n;D++)S[D]*=1/y[D];v=!1;for(var $=0;$<n;$++)if(S[$]!==x[$]){v=!0;break}x=S,++w>200&&(v=!1)}for(var j={},R=0;R<n;R++)j[R]=[];for(var I=0;I<m;I++)j[g=b[I]].push(i[I]);for(var z=[],F=0;F<n;F++)z.push(j[F][0]),z.push(j[F][j[F].length-1]);z=z.sort((function(t,e){return t-e})),a.push(z[0]);for(var P=1;P<z.length;P+=2){var B=z[P];isNaN(B)||-1!==a.indexOf(B)||a.push(B)}}return a},qi={analyze:Wi,limits:Gi},Vi=w,Ki=function(t,e){t=new Vi(t),e=new Vi(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Xi=w,Zi=Math.sqrt,Ji=Math.pow,Qi=Math.min,ta=Math.max,ea=Math.atan2,na=Math.abs,ra=Math.cos,oa=Math.sin,ia=Math.exp,aa=Math.PI,la=function(t,e,n,r,o){void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=1);var i=function(t){return 360*t/(2*aa)},a=function(t){return 2*aa*t/360};t=new Xi(t),e=new Xi(e);var l=Array.from(t.lab()),s=l[0],c=l[1],u=l[2],f=Array.from(e.lab()),h=f[0],p=f[1],d=f[2],g=(s+h)/2,m=(Zi(Ji(c,2)+Ji(u,2))+Zi(Ji(p,2)+Ji(d,2)))/2,b=.5*(1-Zi(Ji(m,7)/(Ji(m,7)+Ji(25,7)))),y=c*(1+b),v=p*(1+b),w=Zi(Ji(y,2)+Ji(u,2)),x=Zi(Ji(v,2)+Ji(d,2)),k=(w+x)/2,M=i(ea(u,y)),A=i(ea(d,v)),E=M>=0?M:M+360,T=A>=0?A:A+360,_=na(E-T)>180?(E+T+360)/2:(E+T)/2,O=1-.17*ra(a(_-30))+.24*ra(a(2*_))+.32*ra(a(3*_+6))-.2*ra(a(4*_-63)),N=T-E;N=na(N)<=180?N:T<=E?N+360:N-360,N=2*Zi(w*x)*oa(a(N)/2);var S=h-s,L=x-w,C=1+.015*Ji(g-50,2)/Zi(20+Ji(g-50,2)),D=1+.045*k,$=1+.015*k*O,j=30*ia(-Ji((_-275)/25,2)),R=-2*Zi(Ji(k,7)/(Ji(k,7)+Ji(25,7)))*oa(2*a(j)),I=Zi(Ji(S/(n*C),2)+Ji(L/(r*D),2)+Ji(N/(o*$),2)+R*(L/(r*D))*(N/(o*$)));return ta(0,Qi(100,I))},sa=w,ca=function(t,e,n){void 0===n&&(n="lab"),t=new sa(t),e=new sa(e);var r=t.get(n),o=e.get(n),i=0;for(var a in r){var l=(r[a]||0)-(o[a]||0);i+=l*l}return Math.sqrt(i)},ua=w,fa=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(ua,[null].concat(t))),!0}catch(t){return!1}},ha=k,pa=li,da={cool:function(){return pa([ha.hsl(180,1,.9),ha.hsl(250,.7,.4)])},hot:function(){return pa(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ga={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ma=0,ba=Object.keys(ga);ma<ba.length;ma+=1){var ya=ba[ma];ga[ya.toLowerCase()]=ga[ya]}var va=ga,wa=k;wa.average=ni,wa.bezier=pi,wa.blend=Ti,wa.cubehelix=$i,wa.mix=wa.interpolate=po,wa.random=Fi,wa.scale=li,wa.analyze=qi.analyze,wa.contrast=Ki,wa.deltaE=la,wa.distance=ca,wa.limits=qi.limits,wa.valid=fa,wa.scales=da,wa.colors=zn,wa.brewer=va;var xa=wa;return xa}()}(ou);var iu=ou.exports,au=oi(iu);function lu(t){const e=Rc(t,"colors.background","#ffffff"),n=Rc(t,"colors.chartContentBaseColor",au.contrast(e,"#000000")<5.5?"#f1f1f1":"#333333"),r={tickText:{secondary:Rc(t,"colors.bgBlendRatios.tickText.secondary",au(e).luminance()<.5?.6:.4),primary:Rc(t,"colors.bgBlendRatios.tickText.primary",.2)},series:Rc(t,"colors.bgBlendRatios.series",0),value:Rc(t,"colors.bgBlendRatios.value",.2),axis:Rc(t,"colors.bgBlendRatios.axis",0),gridline:Rc(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:au.mix(n,e,r.tickText.secondary).hex(),primary:au.mix(n,e,r.tickText.primary).hex()},series:au.mix(n,e,r.series).hex(),value:au.mix(n,e,r.value).hex(),axis:au.mix(n,e,r.axis).hex(),gridline:au.mix(n,e,r.gridline).hex(),fallbackBaseColor:n}}var su="1.13.1",cu="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},uu=Array.prototype,fu=Object.prototype,hu="undefined"!=typeof Symbol?Symbol.prototype:null,pu=uu.push,du=uu.slice,gu=fu.toString,mu=fu.hasOwnProperty,bu="undefined"!=typeof ArrayBuffer,yu="undefined"!=typeof DataView,vu=Array.isArray,wu=Object.keys,xu=Object.create,ku=bu&&ArrayBuffer.isView,Mu=isNaN,Au=isFinite,Eu=!{toString:null}.propertyIsEnumerable("toString"),Tu=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_u=Math.pow(2,53)-1;function Ou(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function Nu(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function Su(t){return void 0===t}function Lu(t){return!0===t||!1===t||"[object Boolean]"===gu.call(t)}function Cu(t){return!(!t||1!==t.nodeType)}function Du(t){var e="[object "+t+"]";return function(t){return gu.call(t)===e}}var $u=Du("String"),ju=Du("Number"),Ru=Du("Date"),Iu=Du("RegExp"),zu=Du("Error"),Fu=Du("Symbol"),Pu=Du("ArrayBuffer"),Bu=Du("Function"),Uu=cu.document&&cu.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Uu&&(Bu=function(t){return"function"==typeof t||!1});var Hu=Bu,Yu=Du("Object"),Wu=yu&&Yu(new DataView(new ArrayBuffer(8))),Gu="undefined"!=typeof Map&&Yu(new Map),qu=Du("DataView");var Vu=Wu?function(t){return null!=t&&Hu(t.getInt8)&&Pu(t.buffer)}:qu,Ku=vu||Du("Array");function Xu(t,e){return null!=t&&mu.call(t,e)}var Zu=Du("Arguments");!function(){Zu(arguments)||(Zu=function(t){return Xu(t,"callee")})}();var Ju=Zu;function Qu(t){return ju(t)&&Mu(t)}function tf(t){return function(){return t}}function ef(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=_u}}function nf(t){return function(e){return null==e?void 0:e[t]}}var rf=nf("byteLength"),of=ef(rf),af=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var lf=bu?function(t){return ku?ku(t)&&!Vu(t):of(t)&&af.test(gu.call(t))}:tf(!1),sf=nf("length");function cf(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=Tu.length,r=t.constructor,o=Hu(r)&&r.prototype||fu,i="constructor";for(Xu(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=Tu[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function uf(t){if(!Nu(t))return[];if(wu)return wu(t);var e=[];for(var n in t)Xu(t,n)&&e.push(n);return Eu&&cf(t,e),e}function ff(t,e){var n=uf(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}function hf(t){return t instanceof hf?t:this instanceof hf?void(this._wrapped=t):new hf(t)}function pf(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,rf(t))}hf.VERSION=su,hf.prototype.value=function(){return this._wrapped},hf.prototype.valueOf=hf.prototype.toJSON=hf.prototype.value,hf.prototype.toString=function(){return String(this._wrapped)};var df="[object DataView]";function gf(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&mf(t,e,n,r)}function mf(t,e,n,r){t instanceof hf&&(t=t._wrapped),e instanceof hf&&(e=e._wrapped);var o=gu.call(t);if(o!==gu.call(e))return!1;if(Wu&&"[object Object]"==o&&Vu(t)){if(!Vu(e))return!1;o=df}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return hu.valueOf.call(t)===hu.valueOf.call(e);case"[object ArrayBuffer]":case df:return mf(pf(t),pf(e),n,r)}var i="[object Array]"===o;if(!i&&lf(t)){if(rf(t)!==rf(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(Hu(a)&&a instanceof a&&Hu(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var s=(n=n||[]).length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),i){if((s=t.length)!==e.length)return!1;for(;s--;)if(!gf(t[s],e[s],n,r))return!1}else{var c,u=uf(t);if(s=u.length,uf(e).length!==s)return!1;for(;s--;)if(!Xu(e,c=u[s])||!gf(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0}function bf(t){if(!Nu(t))return[];var e=[];for(var n in t)e.push(n);return Eu&&cf(t,e),e}function yf(t){var e=sf(t);return function(n){if(null==n)return!1;var r=bf(n);if(sf(r))return!1;for(var o=0;o<e;o++)if(!Hu(n[t[o]]))return!1;return t!==Mf||!Hu(n[vf])}}var vf="forEach",wf=["clear","delete"],xf=["get","has","set"],kf=wf.concat(vf,xf),Mf=wf.concat(xf),Af=["add"].concat(wf,vf,"has"),Ef=Gu?yf(kf):Du("Map"),Tf=Gu?yf(Mf):Du("WeakMap"),_f=Gu?yf(Af):Du("Set"),Of=Du("WeakSet");function Nf(t){for(var e=uf(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function Sf(t){for(var e={},n=uf(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function Lf(t){var e=[];for(var n in t)Hu(t[n])&&e.push(n);return e.sort()}function Cf(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=t(i),l=a.length,s=0;s<l;s++){var c=a[s];e&&void 0!==n[c]||(n[c]=i[c])}return n}}var Df=Cf(bf),$f=Cf(uf),jf=Cf(bf,!0);function Rf(t){if(!Nu(t))return{};if(xu)return xu(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function If(t){return Nu(t)?Ku(t)?t.slice():Df({},t):t}function zf(t){return Ku(t)?t:[t]}function Ff(t){return hf.toPath(t)}function Pf(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Bf(t,e,n){var r=Pf(t,Ff(e));return Su(r)?n:r}function Uf(t){return t}function Hf(t){return t=$f({},t),function(e){return ff(e,t)}}function Yf(t){return t=Ff(t),function(e){return Pf(e,t)}}function Wf(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Gf(t,e,n){return null==t?Uf:Hu(t)?Wf(t,e,n):Nu(t)&&!Ku(t)?Hf(t):Yf(t)}function qf(t,e){return Gf(t,e,1/0)}function Vf(t,e,n){return hf.iteratee!==qf?hf.iteratee(t,e):Gf(t,e,n)}function Kf(){}function Xf(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}hf.toPath=zf,hf.iteratee=qf;var Zf=Date.now||function(){return(new Date).getTime()};function Jf(t){var e=function(e){return t[e]},n="(?:"+uf(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var Qf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},th=Jf(Qf),eh=Jf(Sf(Qf)),nh=hf.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},rh=/(.)^/,oh={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ih=/\\|'|\r|\n|\u2028|\u2029/g;function ah(t){return"\\"+oh[t]}var lh=/^\s*(\w|\$)+\s*$/;var sh=0;function ch(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=Rf(t.prototype),a=t.apply(i,o);return Nu(a)?a:i}var uh=Ou((function(t,e){var n=uh.placeholder,r=function(){for(var o=0,i=e.length,a=Array(i),l=0;l<i;l++)a[l]=e[l]===n?arguments[o++]:e[l];for(;o<arguments.length;)a.push(arguments[o++]);return ch(t,r,this,this,a)};return r}));uh.placeholder=hf;var fh=Ou((function(t,e,n){if(!Hu(t))throw new TypeError("Bind must be called on a function");var r=Ou((function(o){return ch(t,r,e,this,n.concat(o))}));return r})),hh=ef(sf);function ph(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,a=sf(t);i<a;i++){var l=t[i];if(hh(l)&&(Ku(l)||Ju(l)))if(e>1)ph(l,e-1,n,r),o=r.length;else for(var s=0,c=l.length;s<c;)r[o++]=l[s++];else n||(r[o++]=l)}return r}var dh=Ou((function(t,e){var n=(e=ph(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=fh(t[r],t)}return t}));var gh=Ou((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),mh=uh(gh,hf,1);function bh(t){return function(){return!t.apply(this,arguments)}}function yh(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var vh=uh(yh,2);function wh(t,e,n){e=Vf(e,n);for(var r,o=uf(t),i=0,a=o.length;i<a;i++)if(e(t[r=o[i]],r,t))return r}function xh(t){return function(e,n,r){n=Vf(n,r);for(var o=sf(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}var kh=xh(1),Mh=xh(-1);function Ah(t,e,n,r){for(var o=(n=Vf(n,r,1))(e),i=0,a=sf(t);i<a;){var l=Math.floor((i+a)/2);n(t[l])<o?i=l+1:a=l}return i}function Eh(t,e,n){return function(r,o,i){var a=0,l=sf(r);if("number"==typeof i)t>0?a=i>=0?i:Math.max(i+l,a):l=i>=0?Math.min(i+1,l):i+l+1;else if(n&&i&&l)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(du.call(r,a,l),Qu))>=0?i+a:-1;for(i=t>0?a:l-1;i>=0&&i<l;i+=t)if(r[i]===o)return i;return-1}}var Th=Eh(1,kh,Ah),_h=Eh(-1,Mh);function Oh(t,e,n){var r=(hh(t)?kh:wh)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Nh(t,e,n){var r,o;if(e=Wf(e,n),hh(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=uf(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function Sh(t,e,n){e=Vf(e,n);for(var r=!hh(t)&&uf(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var l=r?r[a]:a;i[a]=e(t[l],l,t)}return i}function Lh(t){return function(e,n,r,o){var i=arguments.length>=3;return function(e,n,r,o){var i=!hh(e)&&uf(e),a=(i||e).length,l=t>0?0:a-1;for(o||(r=e[i?i[l]:l],l+=t);l>=0&&l<a;l+=t){var s=i?i[l]:l;r=n(r,e[s],s,e)}return r}(e,Wf(n,o,4),r,i)}}var Ch=Lh(1),Dh=Lh(-1);function $h(t,e,n){var r=[];return e=Vf(e,n),Nh(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function jh(t,e,n){e=Vf(e,n);for(var r=!hh(t)&&uf(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0}function Rh(t,e,n){e=Vf(e,n);for(var r=!hh(t)&&uf(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1}function Ih(t,e,n,r){return hh(t)||(t=Nf(t)),("number"!=typeof n||r)&&(n=0),Th(t,e,n)>=0}var zh=Ou((function(t,e,n){var r,o;return Hu(e)?o=e:(e=Ff(e),r=e.slice(0,-1),e=e[e.length-1]),Sh(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=Pf(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function Fh(t,e){return Sh(t,Yf(e))}function Ph(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var l=0,s=(t=hh(t)?t:Nf(t)).length;l<s;l++)null!=(r=t[l])&&r>i&&(i=r);else e=Vf(e,n),Nh(t,(function(t,n,r){((o=e(t,n,r))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)}));return i}function Bh(t,e,n){if(null==e||n)return hh(t)||(t=Nf(t)),t[Xf(t.length-1)];var r=hh(t)?If(t):Nf(t),o=sf(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,a=0;a<e;a++){var l=Xf(a,i),s=r[a];r[a]=r[l],r[l]=s}return r.slice(0,e)}function Uh(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=Vf(r,o),Nh(n,(function(e,o){var a=r(e,o,n);t(i,e,a)})),i}}var Hh=Uh((function(t,e,n){Xu(t,n)?t[n].push(e):t[n]=[e]})),Yh=Uh((function(t,e,n){t[n]=e})),Wh=Uh((function(t,e,n){Xu(t,n)?t[n]++:t[n]=1})),Gh=Uh((function(t,e,n){t[n?0:1].push(e)}),!0),qh=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Vh(t,e,n){return e in n}var Kh=Ou((function(t,e){var n={},r=e[0];if(null==t)return n;Hu(r)?(e.length>1&&(r=Wf(r,e[1])),e=bf(t)):(r=Vh,e=ph(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],l=t[a];r(l,a,t)&&(n[a]=l)}return n})),Xh=Ou((function(t,e){var n,r=e[0];return Hu(r)?(r=bh(r),e.length>1&&(n=e[1])):(e=Sh(ph(e,!1,!1),String),r=function(t,n){return!Ih(e,n)}),Kh(t,r,n)}));function Zh(t,e,n){return du.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Jh(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Zh(t,t.length-e)}function Qh(t,e,n){return du.call(t,null==e||n?1:e)}var tp=Ou((function(t,e){return e=ph(e,!0,!0),$h(t,(function(t){return!Ih(e,t)}))})),ep=Ou((function(t,e){return tp(t,e)}));function np(t,e,n,r){Lu(e)||(r=n,n=e,e=!1),null!=n&&(n=Vf(n,r));for(var o=[],i=[],a=0,l=sf(t);a<l;a++){var s=t[a],c=n?n(s,a,t):s;e&&!n?(a&&i===c||o.push(s),i=c):n?Ih(i,c)||(i.push(c),o.push(s)):Ih(o,s)||o.push(s)}return o}var rp=Ou((function(t){return np(ph(t,!0,!0))}));function op(t){for(var e=t&&Ph(t,sf).length||0,n=Array(e),r=0;r<e;r++)n[r]=Fh(t,r);return n}var ip=Ou(op);function ap(t,e){return t._chain?hf(e).chain():e}function lp(t){return Nh(Lf(t),(function(e){var n=hf[e]=t[e];hf.prototype[e]=function(){var t=[this._wrapped];return pu.apply(t,arguments),ap(this,n.apply(hf,t))}})),hf}Nh(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=uu[t];hf.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),ap(this,n)}})),Nh(["concat","join","slice"],(function(t){var e=uu[t];hf.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),ap(this,t)}}));var sp=Object.freeze({__proto__:null,VERSION:su,restArguments:Ou,isObject:Nu,isNull:function(t){return null===t},isUndefined:Su,isBoolean:Lu,isElement:Cu,isString:$u,isNumber:ju,isDate:Ru,isRegExp:Iu,isError:zu,isSymbol:Fu,isArrayBuffer:Pu,isDataView:Vu,isArray:Ku,isFunction:Hu,isArguments:Ju,isFinite:function(t){return!Fu(t)&&Au(t)&&!isNaN(parseFloat(t))},isNaN:Qu,isTypedArray:lf,isEmpty:function(t){if(null==t)return!0;var e=sf(t);return"number"==typeof e&&(Ku(t)||$u(t)||Ju(t))?0===e:0===sf(uf(t))},isMatch:ff,isEqual:function(t,e){return gf(t,e)},isMap:Ef,isWeakMap:Tf,isSet:_f,isWeakSet:Of,keys:uf,allKeys:bf,values:Nf,pairs:function(t){for(var e=uf(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},invert:Sf,functions:Lf,methods:Lf,extend:Df,extendOwn:$f,assign:$f,defaults:jf,create:function(t,e){var n=Rf(t);return e&&$f(n,e),n},clone:If,tap:function(t,e){return e(t),t},get:Bf,has:function(t,e){for(var n=(e=Ff(e)).length,r=0;r<n;r++){var o=e[r];if(!Xu(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=Vf(e,n);for(var r=uf(t),o=r.length,i={},a=0;a<o;a++){var l=r[a];i[l]=e(t[l],l,t)}return i},identity:Uf,constant:tf,noop:Kf,toPath:zf,property:Yf,propertyOf:function(t){return null==t?Kf:function(e){return Bf(t,e)}},matcher:Hf,matches:Hf,times:function(t,e,n){var r=Array(Math.max(0,t));e=Wf(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},random:Xf,now:Zf,escape:th,unescape:eh,templateSettings:nh,template:function(t,e,n){!e&&n&&(e=n),e=jf({},e,hf.templateSettings);var r=RegExp([(e.escape||rh).source,(e.interpolate||rh).source,(e.evaluate||rh).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,a,l){return i+=t.slice(o,l).replace(ih,ah),o=l+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e})),i+="';\n";var a,l=e.variable;if(l){if(!lh.test(l))throw new Error("variable is not a bare identifier: "+l)}else i="with(obj||{}){\n"+i+"}\n",l="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(l,"_",i)}catch(t){throw t.source=i,t}var s=function(t){return a.call(this,t,hf)};return s.source="function("+l+"){\n"+i+"}",s},result:function(t,e,n){var r=(e=Ff(e)).length;if(!r)return Hu(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=Hu(i)?i.call(t):i}return t},uniqueId:function(t){var e=++sh+"";return t?t+e:e},chain:function(t){var e=hf(t);return e._chain=!0,e},iteratee:qf,partial:uh,bind:fh,bindAll:dh,memoize:function(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return Xu(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},delay:gh,defer:mh,throttle:function(t,e,n){var r,o,i,a,l=0;n||(n={});var s=function(){l=!1===n.leading?0:Zf(),r=null,a=t.apply(o,i),r||(o=i=null)},c=function(){var c=Zf();l||!1!==n.leading||(l=c);var u=e-(c-l);return o=this,i=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),l=c,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(s,u)),a};return c.cancel=function(){clearTimeout(r),l=0,r=o=i=null},c},debounce:function(t,e,n){var r,o,i,a,l,s=function(){var c=Zf()-o;e>c?r=setTimeout(s,e-c):(r=null,n||(a=t.apply(l,i)),r||(i=l=null))},c=Ou((function(c){return l=this,i=c,o=Zf(),r||(r=setTimeout(s,e),n&&(a=t.apply(l,i))),a}));return c.cancel=function(){clearTimeout(r),r=i=l=null},c},wrap:function(t,e){return uh(e,t)},negate:bh,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:yh,once:vh,findKey:wh,findIndex:kh,findLastIndex:Mh,sortedIndex:Ah,indexOf:Th,lastIndexOf:_h,find:Oh,detect:Oh,findWhere:function(t,e){return Oh(t,Hf(e))},each:Nh,forEach:Nh,map:Sh,collect:Sh,reduce:Ch,foldl:Ch,inject:Ch,reduceRight:Dh,foldr:Dh,filter:$h,select:$h,reject:function(t,e,n){return $h(t,bh(Vf(e)),n)},every:jh,all:jh,some:Rh,any:Rh,contains:Ih,includes:Ih,include:Ih,invoke:zh,pluck:Fh,where:function(t,e){return $h(t,Hf(e))},max:Ph,min:function(t,e,n){var r,o,i=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var l=0,s=(t=hh(t)?t:Nf(t)).length;l<s;l++)null!=(r=t[l])&&r<i&&(i=r);else e=Vf(e,n),Nh(t,(function(t,n,r){((o=e(t,n,r))<a||o===1/0&&i===1/0)&&(i=t,a=o)}));return i},shuffle:function(t){return Bh(t,1/0)},sample:Bh,sortBy:function(t,e,n){var r=0;return e=Vf(e,n),Fh(Sh(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:Hh,indexBy:Yh,countBy:Wh,partition:Gh,toArray:function(t){return t?Ku(t)?du.call(t):$u(t)?t.match(qh):hh(t)?Sh(t,Uf):Nf(t):[]},size:function(t){return null==t?0:hh(t)?t.length:uf(t).length},pick:Kh,omit:Xh,first:Jh,head:Jh,take:Jh,initial:Zh,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Qh(t,Math.max(0,t.length-e))},rest:Qh,tail:Qh,drop:Qh,compact:function(t){return $h(t,Boolean)},flatten:function(t,e){return ph(t,e,!1)},without:ep,uniq:np,unique:np,union:rp,intersection:function(t){for(var e=[],n=arguments.length,r=0,o=sf(t);r<o;r++){var i=t[r];if(!Ih(e,i)){var a;for(a=1;a<n&&Ih(arguments[a],i);a++);a===n&&e.push(i)}}return e},difference:tp,unzip:op,transpose:op,zip:ip,object:function(t,e){for(var n={},r=0,o=sf(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(du.call(t,r,r+=e));return n},mixin:lp,default:hf}),cp=lp(sp);cp._=cp;var up=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===fp}(t)}(t)};var fp="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function hp(t,e){return!1!==e.clone&&e.isMergeableObject(t)?bp((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function pp(t,e,n){return t.concat(e).map((function(t){return hp(t,n)}))}function dp(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function gp(t,e){try{return e in t}catch(t){return!1}}function mp(t,e,n){var r={};return n.isMergeableObject(t)&&dp(t).forEach((function(e){r[e]=hp(t[e],n)})),dp(e).forEach((function(o){(function(t,e){return gp(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(gp(t,o)&&n.isMergeableObject(e[o])?r[o]=function(t,e){if(!e.customMerge)return bp;var n=e.customMerge(t);return"function"==typeof n?n:bp}(o,n)(t[o],e[o],n):r[o]=hp(e[o],n))})),r}function bp(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||pp,n.isMergeableObject=n.isMergeableObject||up,n.cloneUnlessOtherwiseSpecified=hp;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):mp(t,e,n):hp(e,n)}bp.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return bp(t,n,e)}),{})};var yp=oi(bp);function vp(t,e){if(!(e={tickPosition:"x"===t?"bottom":"left",gridLines:!0,tickLines:!1,tickLabels:!0,baseLine:["zero"],fitLabels:[],tickLabelsInside:!1,tickLabelFormat:"auto",tickLabelUnit:["",""],tickLabelMultiply:1,secondary:!1,className:!1,minusChar:"−",plusMinusChar:"±",translate:t=>t,rtl:!1,...e}).scale)throw new Error("you need to provide a D3 scale for the grid");if(!e.scaleType)throw new Error("you need to specify the scale type");if(!e.aboveChart||!e.belowChart)throw new Error("you need to provide container elements for the axis");if(!e.plotSize||!Ku(e.plotSize))throw new Error("you need to provide the plot size");if(!e.theme)throw new Error("you need to pass theme data");if(!Ku(e.tickLabelUnit)||2!==e.tickLabelUnit.length)throw new Error("tickLabelUnit must be an array of 2 strings (prepend/append)");e.baseLine&&"string"==typeof e.baseLine&&(e.baseLine=[e.baseLine]),e.baseLine&&"boolean"==typeof e.baseLine&&(e.baseLine=e.baseLine?["zero"]:[]),e.baseLine||(e.baseLine=[]),e.customFormatFunction&&(e.baseLine=e.baseLine.filter((t=>"zero"!==t)));const n=new Set(["zero",..."x"===t?["left","right"]:["top","bottom"]]);e.baseLine&&Ku(e.baseLine)&&(e.baseLine.forEach((t=>{if(!n.has(t))throw new Error("baseLine only accepts: ".concat(Array.from(n).join(", ")))})),e.baseLine=np(e.baseLine)),e.aboveChart=xp(e.aboveChart),e.belowChart=xp(e.belowChart);const r=wp("x"===t?"horizontal":"vertical",e);return Rc(r,"tickLines.forceOn")&&e.gridLines&&!e.tickLines&&(e.tickLines=!0),{options:e,themeOpts:r}}function wp(t,e){const{theme:n,secondary:r}=e,{fallbackBaseColor:o}=lu(n),i=Rc(n,"colors.background","#ffffff"),a=Rc(n,"vis.base.grid",{}),l=[Rc(a,"general"),Rc(a,t)];r?l.push(Rc(a,"secondary")):l.push(Rc(a,"primary"));let s=l.reduce((function(t,e){return e?yp(t,e):t}),{});return s=yp(function(t,e,n){let{secondary:r}=n;const o=Rc(t,"colors.background","#ffffff"),i=(l=o,ru(Bc(l))[0]<50),{fallbackBaseColor:a}=lu(t);var l;return{tickLines:{aboveChart:!0,color:a,blendBaseColorWithBg:r?i?.95:.82:0,width:1,length:5,lengthInside:20,distance:0},gridLines:{aboveChart:!1,major:{blendBaseColorWithBg:i?.95:.82,width:1},minor:{opacity:.5,width:1}},baseLine:{aboveChart:!0,blendBaseColorWithBg:0,width:1,strokeLinecap:"square"},tickLabels:{buffer:10,aboveChart:!0,blendBaseColorWithBg:r?i?.7:.4:.2,distance:5}}}(n,0,{secondary:r,horizontal:"horizontal"===t}),s),Ic(s,"gridLines.minor",yp(Rc(s,"gridLines.major",{}),Rc(s,"gridLines.minor",{}))),["gridLines.major","gridLines.minor","baseLine","tickLines","tickLabels"].forEach((t=>{const{color:n,blendBaseColorWithBg:r}=Rc(s,t);n||Ic(s,"".concat(t,".color"),e.chroma.mix(o,i,r))})),s}function xp(t){if(Cu(t))return at(t);if("function"==typeof t.node)return at(t.node());throw new Error("provided container element needs to be DOM element or D3 selection")}var kp=function(t,e,n){const r=(t=>Array.isArray(t))(e)?[...e]:e.split(".");if(!r.length)throw new Error("Key should not be empty");const o=r.pop();let i=t;return r.forEach((t=>{void 0!==i[t]&&null!==i[t]||(i[t]={}),i=i[t]})),JSON.stringify(i[o])!==JSON.stringify(n)&&(i[o]=n,!0)},Mp=oi(kp);const Ap=Pc,Ep=nu;var Tp=oi((function(t){return Ep(Ap(t))[0]})),_p={},Op={exports:{}};!function(t,e){t.exports=function(){var t="1.13.1",e="object"==typeof self&&self.self===self&&self||"object"==typeof ri&&ri.global===ri&&ri||Function("return this")()||{},n=Array.prototype,r=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,i=n.push,a=n.slice,l=r.toString,s=r.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,u="undefined"!=typeof DataView,f=Array.isArray,h=Object.keys,p=Object.create,d=c&&ArrayBuffer.isView,g=isNaN,m=isFinite,b=!{toString:null}.propertyIsEnumerable("toString"),y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],v=Math.pow(2,53)-1;function w(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function x(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function k(t){return null===t}function M(t){return void 0===t}function A(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)}function E(t){return!(!t||1!==t.nodeType)}function T(t){var e="[object "+t+"]";return function(t){return l.call(t)===e}}var _=T("String"),O=T("Number"),N=T("Date"),S=T("RegExp"),L=T("Error"),C=T("Symbol"),D=T("ArrayBuffer"),$=T("Function"),j=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof j&&($=function(t){return"function"==typeof t||!1});var R=$,I=T("Object"),z=u&&I(new DataView(new ArrayBuffer(8))),F="undefined"!=typeof Map&&I(new Map),P=T("DataView");function B(t){return null!=t&&R(t.getInt8)&&D(t.buffer)}var U=z?B:P,H=f||T("Array");function Y(t,e){return null!=t&&s.call(t,e)}var W=T("Arguments");!function(){W(arguments)||(W=function(t){return Y(t,"callee")})}();var G=W;function q(t){return!C(t)&&m(t)&&!isNaN(parseFloat(t))}function V(t){return O(t)&&g(t)}function K(t){return function(){return t}}function X(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=v}}function Z(t){return function(e){return null==e?void 0:e[t]}}var J=Z("byteLength"),Q=X(J),tt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function et(t){return d?d(t)&&!U(t):Q(t)&&tt.test(l.call(t))}var nt=c?et:K(!1),rt=Z("length");function ot(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}function it(t,e){e=ot(e);var n=y.length,o=t.constructor,i=R(o)&&o.prototype||r,a="constructor";for(Y(t,a)&&!e.contains(a)&&e.push(a);n--;)(a=y[n])in t&&t[a]!==i[a]&&!e.contains(a)&&e.push(a)}function at(t){if(!x(t))return[];if(h)return h(t);var e=[];for(var n in t)Y(t,n)&&e.push(n);return b&&it(t,e),e}function lt(t){if(null==t)return!0;var e=rt(t);return"number"==typeof e&&(H(t)||_(t)||G(t))?0===e:0===rt(at(t))}function st(t,e){var n=at(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}function ct(t){return t instanceof ct?t:this instanceof ct?void(this._wrapped=t):new ct(t)}function ut(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,J(t))}ct.VERSION=t,ct.prototype.value=function(){return this._wrapped},ct.prototype.valueOf=ct.prototype.toJSON=ct.prototype.value,ct.prototype.toString=function(){return String(this._wrapped)};var ft="[object DataView]";function ht(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&pt(t,e,n,r)}function pt(t,e,n,r){t instanceof ct&&(t=t._wrapped),e instanceof ct&&(e=e._wrapped);var i=l.call(t);if(i!==l.call(e))return!1;if(z&&"[object Object]"==i&&U(t)){if(!U(e))return!1;i=ft}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return o.valueOf.call(t)===o.valueOf.call(e);case"[object ArrayBuffer]":case ft:return pt(ut(t),ut(e),n,r)}var a="[object Array]"===i;if(!a&&nt(t)){if(J(t)!==J(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,c=e.constructor;if(s!==c&&!(R(s)&&s instanceof s&&R(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),a){if((u=t.length)!==e.length)return!1;for(;u--;)if(!ht(t[u],e[u],n,r))return!1}else{var f,h=at(t);if(u=h.length,at(e).length!==u)return!1;for(;u--;)if(!Y(e,f=h[u])||!ht(t[f],e[f],n,r))return!1}return n.pop(),r.pop(),!0}function dt(t,e){return ht(t,e)}function gt(t){if(!x(t))return[];var e=[];for(var n in t)e.push(n);return b&&it(t,e),e}function mt(t){var e=rt(t);return function(n){if(null==n)return!1;var r=gt(n);if(rt(r))return!1;for(var o=0;o<e;o++)if(!R(n[t[o]]))return!1;return t!==kt||!R(n[bt])}}var bt="forEach",yt="has",vt=["clear","delete"],wt=["get",yt,"set"],xt=vt.concat(bt,wt),kt=vt.concat(wt),Mt=["add"].concat(vt,bt,yt),At=F?mt(xt):T("Map"),Et=F?mt(kt):T("WeakMap"),Tt=F?mt(Mt):T("Set"),_t=T("WeakSet");function Ot(t){for(var e=at(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function Nt(t){for(var e=at(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r}function St(t){for(var e={},n=at(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function Lt(t){var e=[];for(var n in t)R(t[n])&&e.push(n);return e.sort()}function Ct(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=t(i),l=a.length,s=0;s<l;s++){var c=a[s];e&&void 0!==n[c]||(n[c]=i[c])}return n}}var Dt=Ct(gt),$t=Ct(at),jt=Ct(gt,!0);function Rt(){return function(){}}function It(t){if(!x(t))return{};if(p)return p(t);var e=Rt();e.prototype=t;var n=new e;return e.prototype=null,n}function zt(t,e){var n=It(t);return e&&$t(n,e),n}function Ft(t){return x(t)?H(t)?t.slice():Dt({},t):t}function Pt(t,e){return e(t),t}function Bt(t){return H(t)?t:[t]}function Ut(t){return ct.toPath(t)}function Ht(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Yt(t,e,n){var r=Ht(t,Ut(e));return M(r)?n:r}function Wt(t,e){for(var n=(e=Ut(e)).length,r=0;r<n;r++){var o=e[r];if(!Y(t,o))return!1;t=t[o]}return!!n}function Gt(t){return t}function qt(t){return t=$t({},t),function(e){return st(e,t)}}function Vt(t){return t=Ut(t),function(e){return Ht(e,t)}}function Kt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return null==t?Gt:R(t)?Kt(t,e,n):x(t)&&!H(t)?qt(t):Vt(t)}function Zt(t,e){return Xt(t,e,1/0)}function Jt(t,e,n){return ct.iteratee!==Zt?ct.iteratee(t,e):Xt(t,e,n)}function Qt(t,e,n){e=Jt(e,n);for(var r=at(t),o=r.length,i={},a=0;a<o;a++){var l=r[a];i[l]=e(t[l],l,t)}return i}function te(){}function ee(t){return null==t?te:function(e){return Yt(t,e)}}function ne(t,e,n){var r=Array(Math.max(0,t));e=Kt(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r}function re(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}ct.toPath=Bt,ct.iteratee=Zt;var oe=Date.now||function(){return(new Date).getTime()};function ie(t){var e=function(e){return t[e]},n="(?:"+at(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},le=ie(ae),se=St(ae),ce=ie(se),ue=ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},fe=/(.)^/,he={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},pe=/\\|'|\r|\n|\u2028|\u2029/g;function de(t){return"\\"+he[t]}var ge=/^\s*(\w|\$)+\s*$/;function me(t,e,n){!e&&n&&(e=n),e=jt({},e,ct.templateSettings);var r=RegExp([(e.escape||fe).source,(e.interpolate||fe).source,(e.evaluate||fe).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,a,l){return i+=t.slice(o,l).replace(pe,de),o=l+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e})),i+="';\n";var a,l=e.variable;if(l){if(!ge.test(l))throw new Error("variable is not a bare identifier: "+l)}else i="with(obj||{}){\n"+i+"}\n",l="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(l,"_",i)}catch(t){throw t.source=i,t}var s=function(t){return a.call(this,t,ct)};return s.source="function("+l+"){\n"+i+"}",s}function be(t,e,n){var r=(e=Ut(e)).length;if(!r)return R(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=R(i)?i.call(t):i}return t}var ye=0;function ve(t){var e=++ye+"";return t?t+e:e}function we(t){var e=ct(t);return e._chain=!0,e}function xe(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=It(t.prototype),a=t.apply(i,o);return x(a)?a:i}var ke=w((function(t,e){var n=ke.placeholder,r=function(){for(var o=0,i=e.length,a=Array(i),l=0;l<i;l++)a[l]=e[l]===n?arguments[o++]:e[l];for(;o<arguments.length;)a.push(arguments[o++]);return xe(t,r,this,this,a)};return r}));ke.placeholder=ct;var Me=w((function(t,e,n){if(!R(t))throw new TypeError("Bind must be called on a function");var r=w((function(o){return xe(t,r,e,this,n.concat(o))}));return r})),Ae=X(rt);function Ee(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,a=rt(t);i<a;i++){var l=t[i];if(Ae(l)&&(H(l)||G(l)))if(e>1)Ee(l,e-1,n,r),o=r.length;else for(var s=0,c=l.length;s<c;)r[o++]=l[s++];else n||(r[o++]=l)}return r}var Te=w((function(t,e){var n=(e=Ee(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Me(t[r],t)}return t}));function _e(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return Y(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n}var Oe=w((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Ne=ke(Oe,ct,1);function Se(t,e,n){var r,o,i,a,l=0;n||(n={});var s=function(){l=!1===n.leading?0:oe(),r=null,a=t.apply(o,i),r||(o=i=null)},c=function(){var c=oe();l||!1!==n.leading||(l=c);var u=e-(c-l);return o=this,i=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),l=c,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(s,u)),a};return c.cancel=function(){clearTimeout(r),l=0,r=o=i=null},c}function Le(t,e,n){var r,o,i,a,l,s=function(){var c=oe()-o;e>c?r=setTimeout(s,e-c):(r=null,n||(a=t.apply(l,i)),r||(i=l=null))},c=w((function(c){return l=this,i=c,o=oe(),r||(r=setTimeout(s,e),n&&(a=t.apply(l,i))),a}));return c.cancel=function(){clearTimeout(r),r=i=l=null},c}function Ce(t,e){return ke(e,t)}function De(t){return function(){return!t.apply(this,arguments)}}function $e(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function je(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Re(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Ie=ke(Re,2);function ze(t,e,n){e=Jt(e,n);for(var r,o=at(t),i=0,a=o.length;i<a;i++)if(e(t[r=o[i]],r,t))return r}function Fe(t){return function(e,n,r){n=Jt(n,r);for(var o=rt(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}var Pe=Fe(1),Be=Fe(-1);function Ue(t,e,n,r){for(var o=(n=Jt(n,r,1))(e),i=0,a=rt(t);i<a;){var l=Math.floor((i+a)/2);n(t[l])<o?i=l+1:a=l}return i}function He(t,e,n){return function(r,o,i){var l=0,s=rt(r);if("number"==typeof i)t>0?l=i>=0?i:Math.max(i+s,l):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(a.call(r,l,s),V))>=0?i+l:-1;for(i=t>0?l:s-1;i>=0&&i<s;i+=t)if(r[i]===o)return i;return-1}}var Ye=He(1,Pe,Ue),We=He(-1,Be);function Ge(t,e,n){var r=(Ae(t)?Pe:ze)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function qe(t,e){return Ge(t,qt(e))}function Ve(t,e,n){var r,o;if(e=Kt(e,n),Ae(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=at(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function Ke(t,e,n){e=Jt(e,n);for(var r=!Ae(t)&&at(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var l=r?r[a]:a;i[a]=e(t[l],l,t)}return i}function Xe(t){var e=function(e,n,r,o){var i=!Ae(e)&&at(e),a=(i||e).length,l=t>0?0:a-1;for(o||(r=e[i?i[l]:l],l+=t);l>=0&&l<a;l+=t){var s=i?i[l]:l;r=n(r,e[s],s,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,Kt(n,o,4),r,i)}}var Ze=Xe(1),Je=Xe(-1);function Qe(t,e,n){var r=[];return e=Jt(e,n),Ve(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function tn(t,e,n){return Qe(t,De(Jt(e)),n)}function en(t,e,n){e=Jt(e,n);for(var r=!Ae(t)&&at(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0}function nn(t,e,n){e=Jt(e,n);for(var r=!Ae(t)&&at(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1}function rn(t,e,n,r){return Ae(t)||(t=Ot(t)),("number"!=typeof n||r)&&(n=0),Ye(t,e,n)>=0}var on=w((function(t,e,n){var r,o;return R(e)?o=e:(e=Ut(e),r=e.slice(0,-1),e=e[e.length-1]),Ke(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=Ht(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function an(t,e){return Ke(t,Vt(e))}function ln(t,e){return Qe(t,qt(e))}function sn(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var l=0,s=(t=Ae(t)?t:Ot(t)).length;l<s;l++)null!=(r=t[l])&&r>i&&(i=r);else e=Jt(e,n),Ve(t,(function(t,n,r){((o=e(t,n,r))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)}));return i}function cn(t,e,n){var r,o,i=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var l=0,s=(t=Ae(t)?t:Ot(t)).length;l<s;l++)null!=(r=t[l])&&r<i&&(i=r);else e=Jt(e,n),Ve(t,(function(t,n,r){((o=e(t,n,r))<a||o===1/0&&i===1/0)&&(i=t,a=o)}));return i}function un(t,e,n){if(null==e||n)return Ae(t)||(t=Ot(t)),t[re(t.length-1)];var r=Ae(t)?Ft(t):Ot(t),o=rt(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,a=0;a<e;a++){var l=re(a,i),s=r[a];r[a]=r[l],r[l]=s}return r.slice(0,e)}function fn(t){return un(t,1/0)}function hn(t,e,n){var r=0;return e=Jt(e,n),an(Ke(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function pn(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=Jt(r,o),Ve(n,(function(e,o){var a=r(e,o,n);t(i,e,a)})),i}}var dn=pn((function(t,e,n){Y(t,n)?t[n].push(e):t[n]=[e]})),gn=pn((function(t,e,n){t[n]=e})),mn=pn((function(t,e,n){Y(t,n)?t[n]++:t[n]=1})),bn=pn((function(t,e,n){t[n?0:1].push(e)}),!0),yn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function vn(t){return t?H(t)?a.call(t):_(t)?t.match(yn):Ae(t)?Ke(t,Gt):Ot(t):[]}function wn(t){return null==t?0:Ae(t)?t.length:at(t).length}function xn(t,e,n){return e in n}var kn=w((function(t,e){var n={},r=e[0];if(null==t)return n;R(r)?(e.length>1&&(r=Kt(r,e[1])),e=gt(t)):(r=xn,e=Ee(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],l=t[a];r(l,a,t)&&(n[a]=l)}return n})),Mn=w((function(t,e){var n,r=e[0];return R(r)?(r=De(r),e.length>1&&(n=e[1])):(e=Ke(Ee(e,!1,!1),String),r=function(t,n){return!rn(e,n)}),kn(t,r,n)}));function An(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function En(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:An(t,t.length-e)}function Tn(t,e,n){return a.call(t,null==e||n?1:e)}function _n(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Tn(t,Math.max(0,t.length-e))}function On(t){return Qe(t,Boolean)}function Nn(t,e){return Ee(t,e,!1)}var Sn=w((function(t,e){return e=Ee(e,!0,!0),Qe(t,(function(t){return!rn(e,t)}))})),Ln=w((function(t,e){return Sn(t,e)}));function Cn(t,e,n,r){A(e)||(r=n,n=e,e=!1),null!=n&&(n=Jt(n,r));for(var o=[],i=[],a=0,l=rt(t);a<l;a++){var s=t[a],c=n?n(s,a,t):s;e&&!n?(a&&i===c||o.push(s),i=c):n?rn(i,c)||(i.push(c),o.push(s)):rn(o,s)||o.push(s)}return o}var Dn=w((function(t){return Cn(Ee(t,!0,!0))}));function $n(t){for(var e=[],n=arguments.length,r=0,o=rt(t);r<o;r++){var i=t[r];if(!rn(e,i)){var a;for(a=1;a<n&&rn(arguments[a],i);a++);a===n&&e.push(i)}}return e}function jn(t){for(var e=t&&sn(t,rt).length||0,n=Array(e),r=0;r<e;r++)n[r]=an(t,r);return n}var Rn=w(jn);function In(t,e){for(var n={},r=0,o=rt(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function zn(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o}function Fn(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(a.call(t,r,r+=e));return n}function Pn(t,e){return t._chain?ct(e).chain():e}function Bn(t){return Ve(Lt(t),(function(e){var n=ct[e]=t[e];ct.prototype[e]=function(){var t=[this._wrapped];return i.apply(t,arguments),Pn(this,n.apply(ct,t))}})),ct}Ve(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=n[t];ct.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Pn(this,n)}})),Ve(["concat","join","slice"],(function(t){var e=n[t];ct.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Pn(this,t)}}));var Un={__proto__:null,VERSION:t,restArguments:w,isObject:x,isNull:k,isUndefined:M,isBoolean:A,isElement:E,isString:_,isNumber:O,isDate:N,isRegExp:S,isError:L,isSymbol:C,isArrayBuffer:D,isDataView:U,isArray:H,isFunction:R,isArguments:G,isFinite:q,isNaN:V,isTypedArray:nt,isEmpty:lt,isMatch:st,isEqual:dt,isMap:At,isWeakMap:Et,isSet:Tt,isWeakSet:_t,keys:at,allKeys:gt,values:Ot,pairs:Nt,invert:St,functions:Lt,methods:Lt,extend:Dt,extendOwn:$t,assign:$t,defaults:jt,create:zt,clone:Ft,tap:Pt,get:Yt,has:Wt,mapObject:Qt,identity:Gt,constant:K,noop:te,toPath:Bt,property:Vt,propertyOf:ee,matcher:qt,matches:qt,times:ne,random:re,now:oe,escape:le,unescape:ce,templateSettings:ue,template:me,result:be,uniqueId:ve,chain:we,iteratee:Zt,partial:ke,bind:Me,bindAll:Te,memoize:_e,delay:Oe,defer:Ne,throttle:Se,debounce:Le,wrap:Ce,negate:De,compose:$e,after:je,before:Re,once:Ie,findKey:ze,findIndex:Pe,findLastIndex:Be,sortedIndex:Ue,indexOf:Ye,lastIndexOf:We,find:Ge,detect:Ge,findWhere:qe,each:Ve,forEach:Ve,map:Ke,collect:Ke,reduce:Ze,foldl:Ze,inject:Ze,reduceRight:Je,foldr:Je,filter:Qe,select:Qe,reject:tn,every:en,all:en,some:nn,any:nn,contains:rn,includes:rn,include:rn,invoke:on,pluck:an,where:ln,max:sn,min:cn,shuffle:fn,sample:un,sortBy:hn,groupBy:dn,indexBy:gn,countBy:mn,partition:bn,toArray:vn,size:wn,pick:kn,omit:Mn,first:En,head:En,take:En,initial:An,last:_n,rest:Tn,tail:Tn,drop:Tn,compact:On,flatten:Nn,without:Ln,uniq:Cn,unique:Cn,union:Dn,intersection:$n,difference:Sn,unzip:jn,transpose:jn,zip:Rn,object:In,range:zn,chunk:Fn,mixin:Bn,default:ct},Hn=Bn(Un);return Hn._=Hn,Hn}()}(Op);var Np=Op.exports,Sp=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const Lp=Np,Cp=Sp(Ci),Dp=t=>(e,n)=>(0,Lp.isDate)(e)?t(e,n):e;var $p=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const jp=$p(Oc),Rp=$p((function(t,e){return Math.abs(t-e)<1e-6}));var Ip=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_p,"__esModule",{value:!0});var zp=_p.columnFormatter=void 0;const Fp=Ip((function(t){let{normalizeDatesToEn:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.format())return Lp.identity;const n=(t,n)=>{if(!e)return(0,Cp.default)(t).format(n);const r=Cp.default.locale();Cp.default.locale("en");const o=(0,Cp.default)(t).format(n);return Cp.default.locale(r),o};switch(t.precision()){case"year":return Dp((t=>t.getFullYear()));case"half":return Dp((t=>t.getFullYear()+" H"+(t.getMonth()/6+1)));case"quarter":return Dp((t=>t.getFullYear()+" Q"+(t.getMonth()/3+1)));case"month":return Dp((t=>n(t,"MMM YY")));case"week":return Dp((t=>function(t){const e=t.getUTCDay(),n=new Date(t.valueOf());n.setDate(n.getDate()-(e+6)%7+3);const r=n.getUTCFullYear(),o=Math.floor((n.getTime()-new Date(r,0,1,-6).getTime())/864e5);return[r,1+Math.floor(o/7),e>0?e:7]}(t).slice(0,2).join(" W")));case"day":return Dp(((t,e)=>n(t,e?"dddd, MMMM DD, YYYY":"l")));case"day-minutes":return Dp(((t,e)=>n(t,"MMM DD"+(e?", YYYY":"")).replace(/ /g,"&nbsp;")+" - "+n(t,"LT").replace(" ","&nbsp;")));case"day-seconds":return Dp(((t,e)=>(e?n(t,"MMM DD, YYYY").replace(/ /g,"&nbsp;")+" - ":"")+n(t,"LTS").replace(" ","&nbsp;")))}})),Pp=Ip((function(t,e){const n=e["number-format"]||"-",r=Number(e["number-divisor"]||0),o=(e["number-append"]||"").replace(/ /g," "),i=(e["number-prepend"]||"").replace(/ /g," ");return function(e,a,l){if(isNaN(e))return e;const s=n;let c=0;var u,f;0!==r&&"-"===s&&(c=1),"s"===s.substr(0,1)&&(c=Math.max(0,(u=e,f=+s.substr(1),0===u?0:Math.round(f-Math.ceil(Math.log(Math.abs(u))/Math.LN10))))),l&&(c=0),"-"===s&&(c=(0,Rp.default)(e,Math.round(e))?0:(0,Rp.default)(e,.1*Math.round(10*e))?1:(0,Rp.default)(e,.01*Math.round(100*e))?2:(0,Rp.default)(e,.001*Math.round(1e3*e))?3:(0,Rp.default)(e,1e-4*Math.round(1e4*e))?4:(0,Rp.default)(e,1e-5*Math.round(1e5*e))?5:6),"n"===s[0]&&(c=Number(s.substr(1,s.length)));let h="0,0";for(let t=0;t<c;t++)0===t&&(h+="."),h+="0";return(0,jp.default)(t,e,{format:h,prepend:a?i:"",append:a?o:"",multiply:Math.pow(10,-1*r)})}})),Bp=Ip(cc),Up=t=>t;zp=_p.columnFormatter=function(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"date"===e.type()?(0,Fp.default)(e.type(!0),o):"number"===e.type()?(0,Pp.default)(t,(0,Bp.default)(n,"data.column-format.".concat(r),{})):Up};var Hp=function(t,e,n){return e===n?"0":t.dataset.hasColumn(e)?t.dataset.column(e).title():""},Yp=oi(Hp);function Wp(t){return e=>t?ma(e):Bi(e)}function Gp(t){return Object.keys(t).filter((t=>"_row"!==t&&"rowIndex"!==t)).map((e=>t[e])).filter(Bi).reduce(((t,e)=>t+e),0)}function qp(t){return Vp(t.map((t=>({...t,data:[t.data]}))))}function Vp(t){t=t.sort(((t,e)=>t.start-e.start));for(const[e,n]of t.entries()){const r=t.slice(e+1).find((t=>t.start<n.end));if(r){if(r.start===n.start){const[o,i]=[n,r].sort(((t,e)=>t.end-e.end)),a=[{...o,data:[...n.data,...r.data]},{...i,start:o.end}];t.splice(e,2,...a)}else{const o=[{...n,end:r.start},{...n,start:r.start}];t.splice(e,1,...o)}return Vp(t)}}return t.sort(((t,e)=>t.start-e.start))}function Kp(t){let{overlays:e,barData:n,labelData:{padding:r,width:o},labelColor:i,getElementBounds:a,themeBackground:l,invertLuminance:s,labelAlign:c,outsidePositions:u,cm:f,chroma:h}=t;const p=function(t){let{overlays:e,barData:{color:n,bbox:{left:r,right:o}},labelColor:i,invertLuminance:a,themeBackground:l,getElementBounds:s,cm:c,chroma:u}=t;const f=e.map(((t,e)=>{const n=s(t);return{start:n.left,end:n.right,data:{color:at(t).datum().color,i:e}}})),h={start:r,end:o,data:{color:n,bar:!0,i:-1}};return qp([...f,h]).map((t=>{const e=t.data.slice(0).sort(((t,e)=>t.i-e.i)),n=e[0].bar;let r=l;for(;e.length;){const t=e.shift(),n=u(c(t.color)),o=n.alpha(),i=n.alpha(1).hex();r=u.mix(r,i,o,"rgb").hex()}return{start:t.start,end:t.end,inside:n,requireInvert:ye(r).l<a,labelContrast:u.contrast(r,i)}}))}({overlays:e,barData:n,labelColor:i,themeBackground:l,invertLuminance:s,getElementBounds:a,cm:f,chroma:h}),d={labelPadding:r,labelWidth:o,barData:n};if(o+2*r<=n.bbox.width){const t=p.filter((t=>t.inside));"right"===c&&t.reverse();const e=Xp({segments:t,inside:!0,side:c},d);if(e)return e}const g={left:p.filter((t=>t.start<=n.bbox.left)).reverse(),right:p.filter((t=>t.end>=n.bbox.right))};for(const t of u){const e=Xp({segments:g[t],side:t},d);if(e)return e}}function Xp(t,e){let{segments:n,inside:r,side:o}=t,{labelPadding:i,labelWidth:a,barData:l}=e;for(const t of n){const e=t["left"===o?"start":"end"],s=e+("right"===(r?"left"===o?"right":"left":o)?i:-(i+a)),c={start:s,end:s+a},u=l[r?"bbox":"barbgBbox"];if(c.end+i>u.right)continue;if(c.start-i<u.left)continue;const f=n.filter((t=>Math.max(c.start,t.start)<Math.min(c.end,t.end)));if(r?!f.find((t=>t.requireInvert!==f[0].requireInvert)):!f.find((t=>t.end-t.start>2&&t.labelContrast<4.5)))return{inside:r,outsidePosition:!r&&o,requireInvert:r&&f[0].requireInvert,buffer:!r&&!!f.length,labelOffset:Math.abs(e-l.bbox[o])}}}var Zp,Jp={exports:{}};
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function Qp(){return Zp||(Zp=1,function(t,e){t.exports=function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function r(t,o,i){return r=n()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(t,o));return r&&e(i,r.prototype),i},r.apply(null,arguments)}function o(t){return i(t)||a(t)||l(t)||c()}function i(t){if(Array.isArray(t))return s(t)}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,f=Object.setPrototypeOf,h=Object.isFrozen,p=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,g=Object.freeze,m=Object.seal,b=Object.create,y="undefined"!=typeof Reflect&&Reflect,v=y.apply,w=y.construct;v||(v=function(t,e,n){return t.apply(e,n)}),g||(g=function(t){return t}),m||(m=function(t){return t}),w||(w=function(t,e){return r(t,o(e))});var x=L(Array.prototype.forEach),k=L(Array.prototype.pop),M=L(Array.prototype.push),A=L(String.prototype.toLowerCase),E=L(String.prototype.match),T=L(String.prototype.replace),_=L(String.prototype.indexOf),O=L(String.prototype.trim),N=L(RegExp.prototype.test),S=C(TypeError);function L(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return v(t,e,r)}}function C(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(t,n)}}function D(t,e,n){n=n||A,f&&f(t,null);for(var r=e.length;r--;){var o=e[r];if("string"==typeof o){var i=n(o);i!==o&&(h(e)||(e[r]=i),o=i)}t[o]=!0}return t}function $(t){var e,n=b(null);for(e in t)v(u,t,[e])&&(n[e]=t[e]);return n}function j(t,e){for(;null!==t;){var n=d(t,e);if(n){if(n.get)return L(n.get);if("function"==typeof n.value)return L(n.value)}t=p(t)}function r(t){return console.warn("fallback value for",t),null}return r}var R=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),F=g(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=g(["#text"]),H=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Y=g(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),W=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=m(/<%[\w\W]*|[\w\W]*%>/gm),K=m(/^data-[\-\w.\u00B7-\uFFFF]/),X=m(/^aria-[\-\w]+$/),Z=m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J=m(/^(?:\w+script|data):/i),Q=m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tt=m(/^html$/i),et=function(){return"undefined"==typeof window?null:window},nt=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et(),n=function(t){return rt(t)};if(n.version="2.4.0",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,i=e.document,a=e.DocumentFragment,l=e.HTMLTemplateElement,s=e.Node,c=e.Element,u=e.NodeFilter,f=e.NamedNodeMap,h=void 0===f?e.NamedNodeMap||e.MozNamedAttrMap:f,p=e.HTMLFormElement,d=e.DOMParser,m=e.trustedTypes,b=c.prototype,y=j(b,"cloneNode"),v=j(b,"nextSibling"),w=j(b,"childNodes"),L=j(b,"parentNode");if("function"==typeof l){var C=i.createElement("template");C.content&&C.content.ownerDocument&&(i=C.content.ownerDocument)}var ot=nt(m,r),it=ot?ot.createHTML(""):"",at=i,lt=at.implementation,st=at.createNodeIterator,ct=at.createDocumentFragment,ut=at.getElementsByTagName,ft=r.importNode,ht={};try{ht=$(i).documentMode?i.documentMode:{}}catch(t){}var pt={};n.isSupported="function"==typeof L&&lt&&void 0!==lt.createHTMLDocument&&9!==ht;var dt,gt,mt=q,bt=V,yt=K,vt=X,wt=J,xt=Q,kt=Z,Mt=null,At=D({},[].concat(o(R),o(I),o(z),o(P),o(U))),Et=null,Tt=D({},[].concat(o(H),o(Y),o(W),o(G))),_t=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ot=null,Nt=null,St=!0,Lt=!0,Ct=!1,Dt=!1,$t=!1,jt=!1,Rt=!1,It=!1,zt=!1,Ft=!1,Pt=!0,Bt=!1,Ut="user-content-",Ht=!0,Yt=!1,Wt={},Gt=null,qt=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Vt=null,Kt=D({},["audio","video","img","source","image","track"]),Xt=null,Zt=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ee=te,ne=!1,re=["application/xhtml+xml","text/html"],oe="text/html",ie=null,ae=i.createElement("form"),le=function(t){return t instanceof RegExp||t instanceof Function},se=function(e){ie&&ie===e||(e&&"object"===t(e)||(e={}),e=$(e),dt=dt=-1===re.indexOf(e.PARSER_MEDIA_TYPE)?oe:e.PARSER_MEDIA_TYPE,gt="application/xhtml+xml"===dt?function(t){return t}:A,Mt="ALLOWED_TAGS"in e?D({},e.ALLOWED_TAGS,gt):At,Et="ALLOWED_ATTR"in e?D({},e.ALLOWED_ATTR,gt):Tt,Xt="ADD_URI_SAFE_ATTR"in e?D($(Zt),e.ADD_URI_SAFE_ATTR,gt):Zt,Vt="ADD_DATA_URI_TAGS"in e?D($(Kt),e.ADD_DATA_URI_TAGS,gt):Kt,Gt="FORBID_CONTENTS"in e?D({},e.FORBID_CONTENTS,gt):qt,Ot="FORBID_TAGS"in e?D({},e.FORBID_TAGS,gt):{},Nt="FORBID_ATTR"in e?D({},e.FORBID_ATTR,gt):{},Wt="USE_PROFILES"in e&&e.USE_PROFILES,St=!1!==e.ALLOW_ARIA_ATTR,Lt=!1!==e.ALLOW_DATA_ATTR,Ct=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Dt=e.SAFE_FOR_TEMPLATES||!1,$t=e.WHOLE_DOCUMENT||!1,It=e.RETURN_DOM||!1,zt=e.RETURN_DOM_FRAGMENT||!1,Ft=e.RETURN_TRUSTED_TYPE||!1,Rt=e.FORCE_BODY||!1,Pt=!1!==e.SANITIZE_DOM,Bt=e.SANITIZE_NAMED_PROPS||!1,Ht=!1!==e.KEEP_CONTENT,Yt=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,ee=e.NAMESPACE||te,e.CUSTOM_ELEMENT_HANDLING&&le(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_t.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&le(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_t.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(_t.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Dt&&(Lt=!1),zt&&(It=!0),Wt&&(Mt=D({},o(U)),Et=[],!0===Wt.html&&(D(Mt,R),D(Et,H)),!0===Wt.svg&&(D(Mt,I),D(Et,Y),D(Et,G)),!0===Wt.svgFilters&&(D(Mt,z),D(Et,Y),D(Et,G)),!0===Wt.mathMl&&(D(Mt,P),D(Et,W),D(Et,G))),e.ADD_TAGS&&(Mt===At&&(Mt=$(Mt)),D(Mt,e.ADD_TAGS,gt)),e.ADD_ATTR&&(Et===Tt&&(Et=$(Et)),D(Et,e.ADD_ATTR,gt)),e.ADD_URI_SAFE_ATTR&&D(Xt,e.ADD_URI_SAFE_ATTR,gt),e.FORBID_CONTENTS&&(Gt===qt&&(Gt=$(Gt)),D(Gt,e.FORBID_CONTENTS,gt)),Ht&&(Mt["#text"]=!0),$t&&D(Mt,["html","head","body"]),Mt.table&&(D(Mt,["tbody"]),delete Ot.tbody),g&&g(e),ie=e)},ce=D({},["mi","mo","mn","ms","mtext"]),ue=D({},["foreignobject","desc","title","annotation-xml"]),fe=D({},["title","style","font","a","script"]),he=D({},I);D(he,z),D(he,F);var pe=D({},P);D(pe,B);var de=function(t){var e=L(t);e&&e.tagName||(e={namespaceURI:te,tagName:"template"});var n=A(t.tagName),r=A(e.tagName);return t.namespaceURI===Qt?e.namespaceURI===te?"svg"===n:e.namespaceURI===Jt?"svg"===n&&("annotation-xml"===r||ce[r]):Boolean(he[n]):t.namespaceURI===Jt?e.namespaceURI===te?"math"===n:e.namespaceURI===Qt?"math"===n&&ue[r]:Boolean(pe[n]):t.namespaceURI===te&&!(e.namespaceURI===Qt&&!ue[r])&&!(e.namespaceURI===Jt&&!ce[r])&&!pe[n]&&(fe[n]||!he[n])},ge=function(t){M(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=it}catch(e){t.remove()}}},me=function(t,e){try{M(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){M(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Et[t])if(It||zt)try{ge(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},be=function(t){var e,n;if(Rt)t="<remove></remove>"+t;else{var r=E(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===dt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=ot?ot.createHTML(t):t;if(ee===te)try{e=(new d).parseFromString(o,dt)}catch(t){}if(!e||!e.documentElement){e=lt.createDocument(ee,"template",null);try{e.documentElement.innerHTML=ne?"":o}catch(t){}}var a=e.body||e.documentElement;return t&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),ee===te?ut.call(e,$t?"html":"body")[0]:$t?e.documentElement:a},ye=function(t){return st.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},ve=function(t){return t instanceof p&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof h)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},we=function(e){return"object"===t(s)?e instanceof s:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},xe=function(t,e,r){pt[t]&&x(pt[t],(function(t){t.call(n,e,r,ie)}))},ke=function(t){var e;if(xe("beforeSanitizeElements",t,null),ve(t))return ge(t),!0;if(N(/[\u0080-\uFFFF]/,t.nodeName))return ge(t),!0;var r=gt(t.nodeName);if(xe("uponSanitizeElement",t,{tagName:r,allowedTags:Mt}),t.hasChildNodes()&&!we(t.firstElementChild)&&(!we(t.content)||!we(t.content.firstElementChild))&&N(/<[/\w]/g,t.innerHTML)&&N(/<[/\w]/g,t.textContent))return ge(t),!0;if("select"===r&&N(/<template/i,t.innerHTML))return ge(t),!0;if(!Mt[r]||Ot[r]){if(!Ot[r]&&Ae(r)){if(_t.tagNameCheck instanceof RegExp&&N(_t.tagNameCheck,r))return!1;if(_t.tagNameCheck instanceof Function&&_t.tagNameCheck(r))return!1}if(Ht&&!Gt[r]){var o=L(t)||t.parentNode,i=w(t)||t.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(y(i[a],!0),v(t))}return ge(t),!0}return t instanceof c&&!de(t)?(ge(t),!0):"noscript"!==r&&"noembed"!==r||!N(/<\/no(script|embed)/i,t.innerHTML)?(Dt&&3===t.nodeType&&(e=t.textContent,e=T(e,mt," "),e=T(e,bt," "),t.textContent!==e&&(M(n.removed,{element:t.cloneNode()}),t.textContent=e)),xe("afterSanitizeElements",t,null),!1):(ge(t),!0)},Me=function(t,e,n){if(Pt&&("id"===e||"name"===e)&&(n in i||n in ae))return!1;if(Lt&&!Nt[e]&&N(yt,e));else if(St&&N(vt,e));else if(!Et[e]||Nt[e]){if(!(Ae(t)&&(_t.tagNameCheck instanceof RegExp&&N(_t.tagNameCheck,t)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(t))&&(_t.attributeNameCheck instanceof RegExp&&N(_t.attributeNameCheck,e)||_t.attributeNameCheck instanceof Function&&_t.attributeNameCheck(e))||"is"===e&&_t.allowCustomizedBuiltInElements&&(_t.tagNameCheck instanceof RegExp&&N(_t.tagNameCheck,n)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(n))))return!1}else if(Xt[e]);else if(N(kt,T(n,xt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==_(n,"data:")||!Vt[t])if(Ct&&!N(wt,T(n,xt,"")));else if(n)return!1;return!0},Ae=function(t){return t.indexOf("-")>0},Ee=function(e){var r,o,i,a;xe("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Et};for(a=l.length;a--;){var c=r=l[a],u=c.name,f=c.namespaceURI;if(o="value"===u?r.value:O(r.value),i=gt(u),s.attrName=i,s.attrValue=o,s.keepAttr=!0,s.forceKeepAttr=void 0,xe("uponSanitizeAttribute",e,s),o=s.attrValue,!s.forceKeepAttr&&(me(u,e),s.keepAttr))if(N(/\/>/i,o))me(u,e);else{Dt&&(o=T(o,mt," "),o=T(o,bt," "));var h=gt(e.nodeName);if(Me(h,i,o)){if(!Bt||"id"!==i&&"name"!==i||(me(u,e),o=Ut+o),ot&&"object"===t(m)&&"function"==typeof m.getAttributeType)if(f);else switch(m.getAttributeType(h,i)){case"TrustedHTML":o=ot.createHTML(o);break;case"TrustedScriptURL":o=ot.createScriptURL(o)}try{f?e.setAttributeNS(f,u,o):e.setAttribute(u,o),k(n.removed)}catch(t){}}}}xe("afterSanitizeAttributes",e,null)}},Te=function t(e){var n,r=ye(e);for(xe("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)xe("uponSanitizeShadowNode",n,null),ke(n)||(n.content instanceof a&&t(n.content),Ee(n));xe("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(o){var i,l,c,u,f,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ne=!o)&&(o="\x3c!--\x3e"),"string"!=typeof o&&!we(o)){if("function"!=typeof o.toString)throw S("toString is not a function");if("string"!=typeof(o=o.toString()))throw S("dirty is not a string, aborting")}if(!n.isSupported){if("object"===t(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof o)return e.toStaticHTML(o);if(we(o))return e.toStaticHTML(o.outerHTML)}return o}if(jt||se(h),n.removed=[],"string"==typeof o&&(Yt=!1),Yt){if(o.nodeName){var p=gt(o.nodeName);if(!Mt[p]||Ot[p])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof s)1===(l=(i=be("\x3c!----\x3e")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?i=l:i.appendChild(l);else{if(!It&&!Dt&&!$t&&-1===o.indexOf("<"))return ot&&Ft?ot.createHTML(o):o;if(!(i=be(o)))return It?null:Ft?it:""}i&&Rt&&ge(i.firstChild);for(var d=ye(Yt?o:i);c=d.nextNode();)3===c.nodeType&&c===u||ke(c)||(c.content instanceof a&&Te(c.content),Ee(c),u=c);if(u=null,Yt)return o;if(It){if(zt)for(f=ct.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return Et.shadowroot&&(f=ft.call(r,f,!0)),f}var g=$t?i.outerHTML:i.innerHTML;return $t&&Mt["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&N(tt,i.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+g),Dt&&(g=T(g,mt," "),g=T(g,bt," ")),ot&&Ft?ot.createHTML(g):g},n.setConfig=function(t){se(t),jt=!0},n.clearConfig=function(){ie=null,jt=!1},n.isValidAttribute=function(t,e,n){ie||se({});var r=gt(t),o=gt(e);return Me(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(pt[t]=pt[t]||[],M(pt[t],e))},n.removeHook=function(t){if(pt[t])return k(pt[t])},n.removeHooks=function(t){pt[t]&&(pt[t]=[])},n.removeAllHooks=function(){pt={}},n}var ot=rt();return ot}()}(Jp)),Jp.exports}var td=window.DOMPurify||(window.DOMPurify=Qp().default||Qp()),ed={};Object.defineProperty(ed,"__esModule",{value:!0}),ed.createPermanentMemoizer=void 0;ed.createPermanentMemoizer=function(t,e){let{maxsize:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Map;return{get:o=>{const i=t(o);if(r.has(i))return r.get(i);const a=e(o);return n&&r.size>=n&&(r=new Map),r.set(i,a),a}}};var nd=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const rd=nd(td),od=ed,id=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),ad=1e5;rd.default.addHook("afterSanitizeElements",(function(t){"a"===t.nodeName.toLowerCase()&&("_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank"),t.setAttribute("rel","nofollow noopener noreferrer"))})),(0,od.createPermanentMemoizer)((t=>String(t)),(t=>{const e={ALLOWED_TAGS:void 0===t?id:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,od.createPermanentMemoizer)((t=>t),(t=>rd.default.sanitize(t,e)),{maxsize:ad})}),{maxsize:ad});var ld=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o},sd=oi(ld),cd={};Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=function(t){const e=new Set;return t.map((t=>{let n=t,r=0;for(;e.has(n);)n="".concat(t,"_").concat(++r);return e.add(n),n}))};var ud=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===fd}(t)}(t)};var fd="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function hd(t,e){return!1!==e.clone&&e.isMergeableObject(t)?bd((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function pd(t,e,n){return t.concat(e).map((function(t){return hd(t,n)}))}function dd(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function gd(t,e){try{return e in t}catch(t){return!1}}function md(t,e,n){var r={};return n.isMergeableObject(t)&&dd(t).forEach((function(e){r[e]=hd(t[e],n)})),dd(e).forEach((function(o){(function(t,e){return gd(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(gd(t,o)&&n.isMergeableObject(e[o])?r[o]=function(t,e){if(!e.customMerge)return bd;var n=e.customMerge(t);return"function"==typeof n?n:bd}(o,n)(t[o],e[o],n):r[o]=hd(e[o],n))})),r}function bd(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||pd,n.isMergeableObject=n.isMergeableObject||ud,n.cloneUnlessOtherwiseSpecified=hd;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):md(t,e,n):hd(e,n)}bd.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return bd(t,n,e)}),{})};var yd="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},vd=Object.prototype,wd=vd.toString,xd=vd.hasOwnProperty,kd=Array.isArray,Md=Object.keys,Ad=!{toString:null}.propertyIsEnumerable("toString"),Ed=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Td(t){return t instanceof Td?t:this instanceof Td?void(this._wrapped=t):new Td(t)}function _d(t){return t}function Od(t){var e="[object "+t+"]";return function(t){return wd.call(t)===e}}Td.VERSION="1.13.6",Td.prototype.value=function(){return this._wrapped},Td.prototype.valueOf=Td.prototype.toJSON=Td.prototype.value,Td.prototype.toString=function(){return String(this._wrapped)};var Nd=Od("Function"),Sd=yd.document&&yd.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Sd&&(Nd=function(t){return"function"==typeof t||!1});var Ld=Nd;function Cd(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var Dd=kd||Od("Array");function $d(t,e){return null!=t&&xd.call(t,e)}function jd(t){if(!Cd(t))return[];if(Md)return Md(t);var e=[];for(var n in t)$d(t,n)&&e.push(n);return Ad&&function(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=Ed.length,r=t.constructor,o=Ld(r)&&r.prototype||vd,i="constructor";for($d(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=Ed[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}(t,e),e}var Rd=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=t(i),l=a.length,s=0;s<l;s++){var c=a[s];e&&void 0!==n[c]||(n[c]=i[c])}return n}}(jd);function Id(t){return t=Rd({},t),function(e){return function(t,e){var n=jd(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}(e,t)}}function zd(t){return Td.toPath(t)}function Fd(t,e,n){return null==t?_d:Ld(t)?function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}(t,e,n):Cd(t)&&!Dd(t)?Id(t):(r=zd(r=t),function(t){return function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}(t,r)});var r}function Pd(t,e){for(var n=(e=zd(e)).length,r=0;r<n;r++){var o=e[r];if(!$d(t,o))return!1;t=t[o]}return!!n}Td.toPath=function(t){return Dd(t)?t:[t]},Td.iteratee=function(t,e){return Fd(t,e,1/0)};var Bd="TEOF",Ud="TOP",Hd="TNUMBER",Yd="TSTRING",Wd="TPAREN",Gd="TBRACKET",qd="TCOMMA",Vd="TNAME",Kd="TSEMICOLON";function Xd(t,e,n){this.type=t,this.value=e,this.index=n}function Zd(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Xd.prototype.toString=function(){return this.type+": "+this.value},Zd.prototype.newToken=function(t,e,n){return new Xd(t,e,null!=n?n:this.pos)},Zd.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Zd.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Zd.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Bd,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Zd.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var o=this.expression.substring(e+1,r);this.current=this.newToken(Yd,this.unescape(o),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},Zd.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Wd,t),this.pos++,!0)},Zd.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(Gd,t),this.pos++,!0)},Zd.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(qd,","),this.pos++,!0)},Zd.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(Kd,";"),this.pos++,!0)},Zd.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Hd,this.consts[r]),this.pos+=r.length,!0}return!1},Zd.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Ud,r),this.pos+=r.length,!0}return!1},Zd.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var o=this.expression.substring(t,e);return this.current=this.newToken(Vd,o),this.pos+=o.length,!0}return!1},Zd.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Jd=/^[0-9a-f]{4}$/i;Zd.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var o=t.substring(e+1,e+5);Jd.test(o)||this.parseError("Illegal escape sequence: \\u"+o),n+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var i=t.indexOf("\\",e);n+=t.substring(e,i<0?t.length:i),e=i}return n},Zd.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Zd.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,o=n;n<this.expression.length;){var i=this.expression.charAt(n);if(!e.test(i))break;n++,r=!0}return r&&(this.current=this.newToken(Hd,parseInt(this.expression.substring(o,n),t)),this.pos=n),r},Zd.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,o=n,i=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:a=!0,n++,e=a;if(e&&(o=n),"e"===t||"E"===t){n++;for(var l=!0,s=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!l||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,l=!1}else l=!1;n++}s||(n=o)}return e?(this.current=this.newToken(Hd,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=o,e},Zd.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Ud,e);else if("∙"===e||"•"===e)this.current=this.newToken(Ud,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ud,">="),this.pos++):this.current=this.newToken(Ud,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ud,"<="),this.pos++):this.current=this.newToken(Ud,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Ud,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ud,"=="),this.pos++):this.current=this.newToken(Ud,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ud,"!="),this.pos++):this.current=this.newToken(Ud,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Zd.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Zd.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},Zd.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var Qd="INUMBER",tg="IOP1",eg="IOP2",ng="IOP3",rg="IVAR",og="IVARNAME",ig="IFUNCALL",ag="IFUNDEF",lg="IEXPR",sg="IEXPREVAL",cg="IMEMBER",ug="IENDSTATEMENT",fg="IARRAY";function hg(t,e){this.type=t,this.value=null!=e?e:0}function pg(t){return new hg(tg,t)}function dg(t){return new hg(eg,t)}function gg(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}hg.prototype.toString=function(){switch(this.type){case Qd:case tg:case eg:case ng:case rg:case og:case ug:return this.value;case ig:return"CALL "+this.value;case ag:return"DEF "+this.value;case fg:return"ARRAY "+this.value;case cg:return"."+this.value;default:return"Invalid Instruction"}},gg.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},gg.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}(e,t.value):"function"==typeof e?e(t):t.value===e)},gg.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},gg.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},gg.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},gg.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},gg.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Vd)||this.accept(Ud,(function(t){return t.value in e})))t.push(new hg(rg,this.current.value));else if(this.accept(Hd))t.push(new hg(Qd,this.current.value));else if(this.accept(Yd))t.push(new hg(Qd,this.current.value));else if(this.accept(Wd,"("))this.parseExpression(t),this.expect(Wd,")");else{if(!this.accept(Gd,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Gd,"]"))t.push(new hg(fg,0));else{var n=this.parseArrayList(t);t.push(new hg(fg,n))}}},gg.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},gg.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},gg.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(Kd)&&(!this.nextToken||this.nextToken.type===Bd||this.nextToken.type===Wd&&")"===this.nextToken.value||e.push(new hg(ug)),this.nextToken.type!==Bd&&this.parseExpression(e),t.push(new hg(lg,e)),!0)},gg.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Gd,"]");)for(this.parseExpression(t),++e;this.accept(qd);)this.parseExpression(t),++e;return e},gg.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Ud,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==ig){if(e.type!==rg&&e.type!==cg)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new hg(og,e.value)),t.push(new hg(lg,n)),t.push(dg("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var a=r-o;t[a].type===rg&&(t[a]=new hg(og,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new hg(lg,n)),t.push(new hg(ag,e.value))}}},gg.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Ud,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Ud,":"),this.parseConditionalExpression(n),t.push(new hg(lg,e)),t.push(new hg(lg,n)),t.push(new hg(ng,"?"))}},gg.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Ud,"or");){var e=[];this.parseAndExpression(e),t.push(new hg(lg,e)),t.push(dg("or"))}},gg.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Ud,"and");){var e=[];this.parseComparison(e),t.push(new hg(lg,e)),t.push(dg("and"))}};var mg=["==","!=","<","<=",">=",">","in"];gg.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Ud,mg);){var e=this.current;this.parseAddSub(t),t.push(dg(e.value))}};var bg=["+","-","||"];gg.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Ud,bg);){var e=this.current;this.parseTerm(t),t.push(dg(e.value))}};var yg=["*","/","%"];function vg(t,e){return Number(t)+Number(e)}function wg(t,e){return t-e}function xg(t,e){return t*e}function kg(t,e){return t/e}function Mg(t,e){return t%e}function Ag(t,e){return t===e}function Eg(t,e){return t!==e}function Tg(t,e){return t>e}function _g(t,e){return t<e}function Og(t,e){return t>=e}function Ng(t,e){return t<=e}function Sg(t,e){return Boolean(t&&e)}function Lg(t,e){return Boolean(t||e)}function Cg(t){return Math.log(t)*Math.LOG10E}function Dg(t){return-t}function $g(t){return!t}function jg(t){return t<0?Math.ceil(t):Math.floor(t)}function Rg(t){return Math.random()*(t||1)}function Ig(t){return Array.isArray(t)?t.length:String(t).length}function zg(t,e,n){return t?e:n}function Fg(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Pg(t,e){return t[0|e]}function Bg(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function Ug(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)}function Hg(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function Yg(t){return(t>0)-(t<0)||+t}function Wg(t){return Math.log(1+t)}function Gg(t){return Math.log(t)/Math.LN2}function qg(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function Vg(t,e,n){var r,o,i,a,l,s,c=[];if(Xg(t))return Zg(t,n);for(var u=t.length,f=0;f<u;f++){var h=t[f],p=h.type;if(p===Qd||p===og)c.push(h.value);else if(p===eg)o=c.pop(),r=c.pop(),"and"===h.value?c.push(!!r&&!!Vg(o,e,n)):"or"===h.value?c.push(!!r||!!Vg(o,e,n)):"="===h.value?(a=e.binaryOps[h.value],c.push(a(r,Vg(o,e,n),n))):(a=e.binaryOps[h.value],c.push(a(Zg(r,n),Zg(o,n))));else if(p===ng)i=c.pop(),o=c.pop(),r=c.pop(),"?"===h.value?c.push(Vg(r?o:i,e,n)):(a=e.ternaryOps[h.value],c.push(a(Zg(r,n),Zg(o,n),Zg(i,n))));else if(p===rg){if(/^__proto__|prototype|constructor$/.test(h.value))throw new Error("prototype access detected");if(h.value in e.functions)c.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))c.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);c.push(d)}}else if(p===tg)r=c.pop(),a=e.unaryOps[h.value],c.push(a(Zg(r,n)));else if(p===ig){for(s=h.value,l=[];s-- >0;)l.unshift(Zg(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,l))}else if(p===ag)c.push(function(){for(var t=c.pop(),r=[],o=h.value;o-- >0;)r.unshift(c.pop());var i=c.pop(),a=function(){for(var o=Object.assign({},n),i=0,a=r.length;i<a;i++)o[r[i]]=arguments[i];return Vg(t,e,o)};return Object.defineProperty(a,"name",{value:i,writable:!1}),n[i]=a,a}());else if(p===lg)c.push(Kg(h,e));else if(p===sg)c.push(h);else if(p===cg)r=c.pop(),c.push(r[h.value]);else if(p===ug)c.pop();else{if(p!==fg)throw new Error("invalid Expression");for(s=h.value,l=[];s-- >0;)l.unshift(c.pop());c.push(l)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Zg(c[0],n)}function Kg(t,e,n){return Xg(t)?t:{type:sg,value:function(n){return Vg(t.value,e,n)}}}function Xg(t){return t&&t.type===sg}function Zg(t,e){return Xg(t)?t.value(e):t}function Jg(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Qg(t){return t.trim()}gg.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Ud,yg);){var e=this.current;this.parseFactor(t),t.push(dg(e.value))}},gg.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Ud,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Wd&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===Kd||this.nextToken.type===qd||this.nextToken.type===Bd||this.nextToken.type===Wd&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(pg(n.value))}else this.parseExponential(t)},gg.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Ud,"^");)this.parseFactor(t),t.push(dg("^"))},gg.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Ud,"!");)t.push(pg("!"))},gg.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Ud,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(pg(n.value))}else for(this.parseMemberExpression(t);this.accept(Wd,"(");)if(this.accept(Wd,")"))t.push(new hg(ig,0));else{var r=this.parseArgumentList(t);t.push(new hg(ig,r))}},gg.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Wd,")");)for(this.parseExpression(t),++e;this.accept(qd);)this.parseExpression(t),++e;return e},gg.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Ud,".")||this.accept(Gd,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(Vd),t.push(new hg(cg,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Gd,"]"),t.push(dg("["))}}},Jg.prototype.evaluate=function(t){return t=t||{},Vg(this.tokens,this,t)},Jg.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const tm=new Set(["__proto__","prototype","constructor"]);function em(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Gg,LN:Math.log,LOG10:Math.log10||Cg,LG:Math.log10||Cg,LOG1P:Math.log1p||Wg,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||jg,"-":Dg,"+":Number,EXP:Math.exp,NOT:$g,LENGTH:Ig,"!":$g,SIGN:Math.sign||Yg,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":vg,"-":wg,"*":xg,"/":kg,"%":Mg,"^":Math.pow,"==":Ag,"!=":Eg,">":Tg,"<":_g,">=":Og,"<=":Ng,and:Sg,or:Lg,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Pg},this.ternaryOps={"?":zg};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let o=/\w*/g,i=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),i=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:zg,RANDOM:Rg,MIN(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}(r.apply(this,arguments))},MAX(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}(r.apply(this,arguments))},SUM(){return qg(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return qg(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Fg,CONCAT(){return Array.from(arguments).join("")},TRIM:Qg,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(i,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t,e=!0,n=null){if(tm.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e,n=null){if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Bg,FOLD:Ug,FILTER:Hg,PLUCK(t,e){if(tm.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let o=0;o<n;o++)if(r=r&&e(t[o]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let o=0;o<n;o++)if(r=r||e(t[o]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}em.prototype.parse=function(t){var e=[],n=new gg(this,new Zd(this,t),{allowMemberAccess:!0,restrictMemberAccess:tm});return n.parseExpression(e),n.expect(Bd,"EOF"),new Jg(e,this)},em.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var nm=new em;em.parse=function(t){return nm.parse(t)},em.evaluate=function(t,e){return nm.parse(t).evaluate(e)},em.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var rm={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};em.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(rm,t)?rm[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const om="%UNDEFINED%",im={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>am(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>am(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===om?e:e>3?`${e}px`:String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function am(t){return t===om?t:Number.isFinite(t)?`${t}px`:t}function lm(t,e,n){if(2===t.version){for(const n of["chart","bodyCenter","bodyTop","body"])if(Pd(t,["blocks",n,"styles","typography",e]))return sd(t,["blocks",n,"styles","typography",e]);return n}return sd(t,`typography.chart.${e}`,n)}const sm={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4};const cm=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);var um=Math.sqrt(50),fm=Math.sqrt(10),hm=Math.sqrt(2);function pm(t,e,n){var r,o,i,a,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=function(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=um?10:i>=fm?5:i>=hm?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=um?10:i>=fm?5:i>=hm?2:1)}(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++l<o;)i[l]=(n+l)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++l<o;)i[l]=(n+l)/a}return r&&i.reverse(),i}var dm={exports:{}};!function(t,e){t.exports=function(t,e,n){var r=e.prototype,o=r.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},r.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return o.bind(this)(t);var r=this.$utils(),i=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return r.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return o.bind(this)(i)}}}(dm);var gm=oi(dm.exports),mm={exports:{}};!function(t,e){var n;t.exports=(n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,r){var o=e.prototype,i=o.format;r.en.formats=n,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,o){var i=o&&o.toUpperCase();return r||e[o]||n[o]||e[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(t,void 0===e?{}:e);return i.call(this,r)}})}(mm);var bm=oi(mm.exports),ym={exports:{}};!function(t,e){var n,r;t.exports=(n="week",r="year",function(t,e,o){var i=e.prototype;i.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=o(this).startOf(r).add(1,r).date(e),a=o(this).endOf(n);if(i.isBefore(a))return 1}var l=o(this).startOf(r).date(e).startOf(n).subtract(1,"millisecond"),s=this.diff(l,n,!0);return s<0?o(this).startOf("week").week():Math.ceil(s)},i.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})}(ym);var vm=oi(ym.exports);function wm(t,e,n,r){const o=Rc(e,"ticks.major",{}),i=Rc(e,"ticks.minor",{});let a=o.values;const l=e.scale.domain(),s=e.scale.range(),c=o.spacing||80,u=Math.abs(s[1]-s[0])/c,{scale:f,scaleType:h}=e;if("text"===h&&e.customFormatFunction){const t=pm(0,l[1],l[1]),e=Math.max(1,Math.round(t.length/u)),n=t.filter((t=>t%e==0));return{ticksMajor:r?n:t,ticksMinor:[]}}a&&a.length||(a=r?function(t,e,n,r){const{scale:o,theme:i,scaleType:a}=e,l=Rc(n,"tickLabels.fontSize",lm(i,"fontSize",12)),s=Rc(n,"tickLabels.buffer",10),c=u(t,r);return c;function u(t,r,i){const c=xm(a,o,o.domain(),r).sort(((t,e)=>o(t)-o(e)));if(Math.round(r)>1&&c.length>1){if(i&&c.length===i.length)return u(t,r-1,c);{const{tickFormat:i,multiFormat:a}=Tm(t,e,c,n),f=c.map(((t,e)=>{let n=i(t,0===e,e===c.length-1);return a||(n=[n]),Math.max(...n.map((t=>function(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:14)/14;return t.split("").reduce(((t,e)=>t+(sm[e]||sm.a)),0)*e}(t,l))))}));let h=s,p=null;if(c.forEach(((t,e)=>{const n=o(t);p&&(h=Math.min(n-f[e]/2-p,h)),p=n+f[e]/2})),h<s)return u(t,r-1,c)}}return c}}(t,e,n,u):xm(h,f,l,u),"number"!==e.scaleType&&"log"!==e.scaleType||"0o"!==e.tickLabelFormat||(a=a.filter((t=>t%1==0)))),"text"!==e.scaleType&&(a=a.filter("date"===e.scaleType?t=>t.getTime()>=Math.min(l[0].getTime(),l[1].getTime())&&t.getTime()<=Math.max(l[0].getTime(),l[1].getTime()):t=>t>=Math.min(l[0],l[1])&&t<=Math.max(l[0],l[1])));let p=!!Ku(i.values)&&i.values;if(!p&&i.count){p=[];for(let t=0;t<a.length-1;t++){const e=Math.min(a[t],a[t+1]),n=Math.max(a[t],a[t+1]),r=pm(e,n,i.count).filter((t=>t>e&&t<n));p.push.apply(p,r)}}return{ticksMajor:a,ticksMinor:p}}function xm(t,e,n,r){const o=Math.round(r);switch(t){case"text":{const t=e.domain(),n=Math.max(1,Math.round(t.length/r));return t.filter(((t,e)=>e%n==0))}case"log":{const t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const n=t[0]<0&&t[1]<0;n&&(t=[-1*t[0],-1*t[1]]);const r=t[1]<t[0];r&&(t=t.slice(0).reverse());if(t[0]<0||t[1]<0)return[];let o=1;e+=2;let i=Mm(t,o);if(i[0].num>e)for(;i[0].num>e;)o*=10,i=Mm(t,o);else if(i[i.length-1].num<e){const n=pm(t[0],t[1],e-2);return r&&n.reverse(),n}e-=2;const a=i.map((e=>({...e,ticks:e.ticks.filter((e=>e>=t[0]&&e<=t[1]))}))).map((t=>({...t,diff:Math.abs(t.ticks.length-e)}))).sort(((t,e)=>t.diff-e.diff))[0].ticks;r&&a.reverse();return n?a.map((t=>-1*t)):a}(n,o);return t.length>1?t:e.ticks(o)}default:return e.ticks(o)}}Di.extend(gm),Di.extend(vm),Di.extend(bm),Di.extend(((t,e)=>{const n=e.prototype,r=n.format;n.format=function(t){const e=t||"YYYY-MM-DDTHH:mm:ssZ",n=this.$locale().seasonSeparator||"-",o=e.replace(/(\[[^\]]+])|BB|B/g,((t,e)=>{const r=this.$y,o=r+1,i="B"===t,a=i?[String(r).slice(-2),2]:[r,4],l=[String(o).slice(-2),2];return e||"".concat(i?"'":"").concat(this.$utils().s(...a,"0")).concat(n).concat(i?"'":"").concat(this.$utils().s(...l,"0"))}));return r.bind(this)(o)}}));const km=[[10],[5,4,5],[3,10/3],[2,2.5,2],[1.5,2,5/3,2]];function Mm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return km.map((n=>{let r=Math.pow(10,Math.floor(Math.log(t[0])/Math.LN10)),o=0;const i=[r];for(;r<t[1];)r*=n[o]*e,i.push(r),o=(o+1)%n.length;return{ticks:i,num:i.length}}))}const Am=/^[^0-9 .,|-]+$/;function Em(t,e,n){let r=null;t.each((function(){if(this){const i=this.getBoundingClientRect();t=i,o=this,r&&e(r,t)?n?(at(o).selectAll("tspan").each((function(t){o.innerHTML===t.line&&t.line.length>5&&t.line&&Am.test(t.line)&&(o.innerHTML=t.line.substr(0,3)+"…")})),t=o.getBoundingClientRect(),e(r,t)?at(o).style("display","none"):t.width>0&&t.height>0&&(r=t)):at(o).style("display","none"):t.width>0&&t.height>0&&(r=t)}var t,o}))}function Tm(t,e){let{scale:n,scaleType:r,tickLabelFormat:o,tickLabelUnit:i,tickLabelMultiply:a,minusChar:l,plusMinusChar:s,customFormatFunction:c}=e,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],f=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(o&&"auto"!==o||("date"===r?o=function(t,e){const n=Math.abs(t[1].getTime()-t[0].getTime()),r=e&&e.length>0;let o=r,i=r,a=r,l=r,s=r,c=r;r&&e.forEach((t=>{o=o&&0===t.getMonth()&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),i=i&&Lm.has(t.getMonth())&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),a=a&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),l=l&&0===t.getDay()&&0===t.getHours()&&0===t.getMinutes(),s=s&&0===t.getHours()&&0===t.getMinutes(),c=c&&0===t.getMinutes()}));return o?"YYYY":i||a?n>5*Sm?"YY|MMM":"YYYY|MMM":l?n>2*Nm?"MMM|D":"MMMM|D":s?n>Sm?"MMM YYYY|D":n>Nm?"MMM|D":"D.M.":c?n<Om?"h a":"MMM D|h a":n<Om?"LT":"MMM D|LT"}(n.domain(),u):"number"!==r&&"log"!==r||(o=function(t){const e=Math.abs(t[1]-t[0]);return e<1?"0,0.00[0]":e<3?"0,0.0[0]":e<1e4?"0,0.[0]":e>1e6||Math.abs(t[0])>1e5||Math.abs(t[1])>1e5?"0,0.[0]a":"0,0"}(n.domain()))),"number"===r||"log"===r){const e=Rc(f,"tickLabels.units","all");return{multiFormat:!1,tickFormat(n,r,c){const u=h||"all"===e||"first"===e&&r||"last"===e&&c;return function(t,e,n){if(n={format:"0.[00]",prepend:"",append:"",minusChar:"−",plusMinusChar:"±",multiply:1,...n},void 0===e||isNaN(e)||""===e||null===e)return"";const{append:r,prepend:o,minusChar:i,plusMinusChar:a,multiply:l}=n;let{format:s}=n;s.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=l;const c=s.indexOf("(")>-1,u=s.indexOf(";")>-1;s=s.replace(/;/g,",");let f=t(c?e:Math.abs(e)).format(s);if(u){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,o=s.includes("%")?e/.01:e;f=Math.abs(o)<1e4?f.replace(r,""):f}return o&&!c&&e<0&&cm.has(o.trim().toLowerCase())?"".concat(i).concat(o).concat(f.replace("+","")).concat(r):o&&e>=0&&cm.has(o.trim().toLowerCase())&&s.includes("+")?"".concat(0===e?a:"+").concat(o).concat(f.replace("+","")).concat(r):0===e&&s.includes("+")?"".concat(o).concat(f.replace("+",a)).concat(r):e<0&&!c?"".concat(o).concat(i).concat(f.replace("+","")).concat(r):"".concat(o).concat(f).concat(r)}(t,n,{multiply:a,format:u?o:o.replace(/[%$]/g,""),prepend:u?i[0]:"",append:u?i[1]:"",minusChar:l,plusMinusChar:s})}}}if("date"===r){let t;if(h&&(o=o.replace(/\w+/g,(t=>_m[t]||t))),o.indexOf("~~")>-1){const e=o.split("~~");t=t=>Di(t).format(e[0]),o=e[1]}const e=o.split("|"),n=e.length>1,r=n?function(t,e){const n=new Array(t.length);return t=t.filter(((t,n)=>!n||np(e.map(t)).length>1)),e=>{let r;const o=[];for(let i=0,a=t.length;i<a;i++)if(r=t[i](e),r!==n[i]){n[i]=r;for(let t=i+1;t<a;t++)n[t]=void 0;o.unshift(r)}return o}}(e.map((t=>e=>Di(e).format(t))),u):t=>Di(t).format(o);return{multiFormat:n,tickFormat:function(e,o,i){return t&&o?n?[t(e)]:t(e):r(e,o,i)}}}return{multiFormat:!0,keepOrder:!0,tickFormat:t=>("number"==typeof t&&c&&(t=c(t)),(t||"").split(/(?:\n|<br>|<br\/>)/i))}}const _m={YY:"YYYY",M:"MMMM",MM:"MMMM",MMM:"MMMM",DD:"D",dd:"dddd",ddd:"dddd"};const Om=864e5,Nm=30*Om,Sm=365*Om,Lm=new Set([0,3,6,9]);function Cm(t,e,n,r,o,i){const{scale:a,scaleType:l,translate:s}=r,{tickFormat:c}=Tm(t,r,i,o,!0),u=c(a.domain()[0]),f=c(a.domain()[1]),h="text"===l?"category":"date"===l?"datetime":"number";e.at({role:"graphics-axis","aria-orientation":"x"===n?"horizontal":"vertical","aria-valuemin":u,"aria-valuemax":f,"aria-datatype":h,"aria-label":s("accessibility / xy-grid / axis-".concat(n,"-").concat(l)).replace("%from%",u).replace("%to%",f)+("log"===l?" ".concat(s("accessibility / xy-grid / axis-log")):"")})}function Dm(t,e){let{gridLines:n}=t,{css:r}=e;return r("\n    line.major {\n        ".concat(Rm(n.major),"\n    }\n    line.minor {\n        ").concat(Rm(n.minor),"\n    }\n"))}function $m(t,e){let{tickLines:n}=t,{css:r}=e;return r("\n    line {\n        ".concat(Rm(n),"\n    }\n    ").concat(n.hideZero?"line.is-zero { display: none }":"","\n"))}function jm(t,e){let{baseLine:n}=t,{css:r}=e;return r("\n    line {\n        ".concat(Rm(n),"\n    }\n"))}function Rm(t){return"dotted"===t.strokeDasharray&&(t.strokeDasharray="".concat(t.width," ").concat(t.width)),zm(t,[["color","stroke"],["opacity","opacity"],["width","stroke-width"],["strokeLinecap","stroke-linecap"],["strokeDasharray","stroke-dasharray"]])+(!1!==t.crisp?"\nshape-rendering: crispEdges;":"")}function Im(t){return zm(t,[["color","fill"],["opacity","opacity"],["fontSize","font-size",void 0,"px"],["letterSpacing","letter-spacing"],["fontWeight","font-weight"],["fontStyle","font-style"],["typeface","font-family"],["textTransform","text-transform"]])}function zm(t,e){return e.filter((e=>{const n=e[0],r=e[2];return void 0!==t[n]||r})).map((e=>{let[n,r,o,i]=e;return"".concat(r,": ").concat(void 0===t[n]?o:t[n]).concat(i||"",";")})).join("\n")}function Fm(t){let{options:e,themeOpts:n,ticksMajor:r}=t;const{tickPosition:o,plotSize:i,scale:a,tickLines:l,aboveChart:s,belowChart:c,className:u,rtl:f}=e,h=(Rc(n,"tickLines.aboveChart")?s:c).attr("dir",f?"rtl":"ltr").selectAppend("g.x-tick-lines".concat(u?"."+u:"")).html("").translate("bottom"===o?[0,i[1]]:[0,0]);if(!l)return h.remove();h.node().classList.add($m(n,e.emotion)),h.selectAll("line").remove();const p="bottom"===o?1:-1,d=Rc(n,"tickLines.distance"),g=Rc(n,"tickLines.length"),m=Rc(n,"tickLines.strokeLinecap"),b=Rc(n,"tickLines.width");return h.appendMany("line.x-tick-line",r).translate((t=>[a(t),d*p])).classed("is-zero",(t=>0===t)).attr("y1",(()=>g*p)),{left:.5*b,right:.5*b,height:d+g+("square"===m||"round"===m?.5*b:0)}}function Pm(t){let{options:e,themeOpts:n,ticksMajor:r,numeral:o}=t;const{tickPosition:i,plotSize:a,scale:l,tickLines:s,tickLabels:c,aboveChart:u,belowChart:f,className:h,fitLabels:p,scaleType:d,theme:g,rtl:m}=e,b=(Rc(n,"tickLabels.aboveChart")?u:f).selectAppend("g.x-tick-labels".concat(h?"."+h:"",".").concat(d,"-axis")).html("");if(!c)return b.remove();b.node().classList.add(function(t,e){let{tickLabels:n}=t,{css:r}=e;return r("\n    text {\n        text-anchor: middle;\n    }\n    ".concat(n.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(Im(n),"\n    }\n"))}(n,e.emotion)),b.selectAll("text").remove();const y=(s?Rc(n,"tickLines.distance")+Rc(n,"tickLines.length"):0)+Rc(n,"tickLabels.distance");b.translate("bottom"===i?[0,a[1]+y]:[0,-y-3]);const v=Rc(n,"tickLabels.fontSize",lm(g,"fontSize",12));r=r.sort(((t,e)=>l(t)-l(e)));const{tickFormat:w,multiFormat:x,keepOrder:k}=Tm(o,e,r,n);Cm(o,b,"x",e,n,r);const M=b.appendMany("text.x-tick-label.".concat(i),r).translate((t=>[l(t),"bottom"===i?v:0])).attr("y",0).attr("aria-hidden","true").classed("dw-bold","bold"===Rc(n,"tickLabels.fontWeight")).classed("dw-italic","italic"===Rc(n,"tickLabels.fontStyle")).classed("is-zero",(t=>0===t)).classed("first",((t,e)=>0===e)).classed("last",((t,e)=>e===r.length-1)).tspans(((t,e)=>{const n=0===e,o=e===r.length-1,a=x?w(t,n,o):[w(t,n,o)];return k||"top"!==i||a.reverse(),a.map(eh)}),v+3).parent().attr("y",((t,e,n)=>{const r=at(n[0]).selectAll("tspan").size();return"top"===i?(r-1)*(v+3)*-1:0}));if(p.length){const t=u.parent().node().getBoundingClientRect();p.forEach((e=>{const n=b.select(".x-tick-label.".concat(e)),r=n.node();if(!r)return;const o=r.getBoundingClientRect();"first"===e&&o.x<t.x&&n.style("text-anchor",m?"end":"start"),"last"===e&&t.x+t.width<o.x+o.width&&n.style("text-anchor",m?"start":"end")}))}Em(M,((t,e)=>t.x+t.width+4>e.x),!0);const A=b.node().getBBox(),E=Math.max(-1*A.x,0);return{left:E,right:A.width+(E>0?0:A.x)-e.plotSize[0]-E,height:b.node().getBoundingClientRect().height+y+Rc(n,"tickLabels.extraSpace",1)}}function Bm(t){let{options:e,themeOpts:n,ticksMajor:r,ticksMinor:o}=t;const{plotSize:i,scale:a,baseLine:l,gridLines:s,aboveChart:c,belowChart:u,className:f}=e,h=(Rc(n,"gridLines.aboveChart")?c:u).selectAppend("g.x-grid-lines".concat(f?"."+f:"")).html("");if(!s)return h.remove();h.node().classList.add(Dm(n,e.emotion)),h.selectAll("line").remove(),o.length&&h.appendMany("line.x-grid-line.minor",o).translate((t=>[a(t),0])).attr("y1",i[1]),r.length&&h.appendMany("line.x-grid-line.major",r.filter((t=>!l.includes("zero")||0!==t))).classed("is-zero",(t=>0===t)).translate((t=>[a(t),0])).attr("y1",i[1])}function Um(t){let{options:e,themeOpts:n,ticksMajor:r}=t;const{plotSize:o,scale:i,aboveChart:a,belowChart:l,baseLine:s,className:c}=e,u=(Rc(n,"baseLine.aboveChart")?a:l).selectAppend("g.x-base-lines".concat(c?"."+c:"")).html("");u.node().classList.add(jm(n,e.emotion)),u.selectAll("line").remove(),u.appendMany("line",s.filter((t=>"zero"!==t||r.includes(0)))).translate((t=>["zero"===t?i(0):"left"===t?0:o[0],0])).attr("y1",o[1]);const f=Rc(n,"baseLine.width");return{left:s.includes("left")?f:0,right:s.includes("right")?f:0}}function Hm(t){let{options:e,themeOpts:n,ticksMajor:r}=t;const{tickPosition:o,plotSize:i,scale:a,tickLines:l,aboveChart:s,belowChart:c,className:u,tickLabelsInside:f}=e,h=(Rc(n,"tickLines.aboveChart")?s:c).selectAppend("g.y-tick-lines".concat(u?"."+u:"")).html("").translate("right"===o?[i[0],0]:[0,0]);if(!l)return h.remove();h.node().classList.add($m(n,e.emotion)),h.selectAll("line").remove();const p="right"===o?1:-1,d=Rc(n,"tickLines.length".concat(f?"Inside":""),Rc(n,"tickLines.length")),g=f?-d:Rc(n,"tickLines.distance"),m=Rc(n,"tickLines.strokeLinecap"),b=Rc(n,"tickLines.width");return h.appendMany("line.y-tick-line",r).classed("is-zero",(t=>0===t)).translate((t=>[g*p,a(t)])).attr("x2",(()=>d*p)),{top:.5*b,bottom:.5*b,width:g+d+("square"===m||"round"===m?.5*b:0)}}function Ym(t){let{options:e,themeOpts:n,ticksMajor:r,numeral:o}=t;const{tickPosition:i,plotSize:a,scale:l,tickLines:s,tickLabels:c,aboveChart:u,belowChart:f,className:h,tickLabelsInside:p,scaleType:d,theme:g,rtl:m}=e,b=(Rc(n,"tickLabels.aboveChart")?u:f).attr("dir",m?"rtl":"ltr").selectAppend("g.y-tick-labels".concat(h?"."+h:"",".").concat(d,"-axis")).html("");if(b.selectAll("text").remove(),!c)return b.remove();b.node().classList.add(function(t,e){let{tickLabels:n,rtl:r}=t,{css:o}=e;return o("\n    text {}\n    ".concat(n.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(Im(n),"\n    }\n    text.right {\n        text-anchor: ").concat(r?"end":"start",";\n    }\n    text.right.inside {\n        text-anchor: ").concat(r?"start":"end",";\n    }\n    text.left {\n        text-anchor: ").concat(r?"start":"end",";\n    }\n    text.left.inside {\n        text-anchor: ").concat(r?"end":"start",";\n    }\n"))}({...n,rtl:m},e.emotion));const y=p?0:(s?Rc(n,"tickLines.distance")+Rc(n,"tickLines.length"):0)+Rc(n,"tickLabels.distance");b.translate("right"===i?[a[0]+y,0]:[-y,0]);const v=Rc(n,"tickLabels.fontSize",lm(g,"fontSize",12));r=r.sort(((t,e)=>l(e)-l(t)));const{tickFormat:w,multiFormat:x,keepOrder:k}=Tm(o,e,r,n),M=n.tickLabels.hideZero&&0===r[r.length-1],A=n.tickLabels.hideZero&&0===r[0];Cm(o,b,"y",e,n,r);const E=b.appendMany("text.y-tick-label.".concat(i),r).classed("inside",!!p).attr("aria-hidden",!0).translate((t=>[0,l(t)+Math.floor(v*(p?0:.4))-(p?5:0)])).classed("dw-bold","bold"===Rc(n,"tickLabels.fontWeight")).classed("dw-italic","italic"===Rc(n,"tickLabels.fontStyle")).classed("is-zero",(t=>0===t)).tspans((function(t,e){const n=e===(A?1:0),o=e===r.length-(M?2:1),a=x?w(t,o,n):[w(t,o,n)];return k||"top"!==i||a.reverse(),a.map(eh)}),v+3).attr("x","left"===i&&p?0:-1).parent().attr("y",((t,e,n)=>{const r=at(n[0]).selectAll("tspan").size();return p?(r-1)*(v+3)*-1:(r-1)*(v+3)*-.5}));Em(E,((t,e)=>t.y<e.y+e.height));const T=b.node().getBBox(),_=Math.max(-1*T.y,0),O=T.height+(_>0?0:T.y)-e.plotSize[1]-_,N=b.node().getBoundingClientRect().width;return{top:_,bottom:O,width:p?0:N+y+Rc(n,"tickLabels.extraSpace",1),labelWidth:p?N:0}}function Wm(t){let{options:e,themeOpts:n,ticksMajor:r,ticksMinor:o}=t;const{plotSize:i,scale:a,baseLine:l,gridLines:s,aboveChart:c,belowChart:u,className:f}=e,h=(Rc(n,"gridLines.aboveChart")?c:u).selectAppend("g.y-grid-lines".concat(f?"."+f:"")).html("");if(!s)return h.remove();h.node().classList.add(Dm(n,e.emotion)),h.selectAll("line").remove(),o.length&&h.appendMany("line.y-grid-line.minor",o).translate((t=>[0,a(t)])).attr("x2",i[0]),r.length&&h.appendMany("line.y-grid-line.major",r.filter((t=>!l.includes("zero")||0!==t))).classed("is-zero",(t=>0===t)).translate((t=>[0,a(t)])).attr("x2",i[0])}function Gm(t){let{options:e,themeOpts:n,ticksMajor:r}=t;const{plotSize:o,scale:i,scaleType:a,aboveChart:l,belowChart:s,baseLine:c,className:u}=e,f=(Rc(n,"baseLine.aboveChart")?l:s).selectAppend("g.y-base-lines".concat(u?"."+u:"")).html("");f.node().classList.add(jm(n,e.emotion)),f.selectAll("line").remove();let h=!1;if(["number","log"].includes(a)&&c.includes("zero")&&!r.includes(0)){const[t,n]=e.scale.domain();Math.min(t,n)<=0&&Math.max(t,n)>=0&&(h=!0)}f.appendMany("line",c.filter((t=>"zero"!==t||r.includes(0)||h))).translate((t=>[0,"zero"===t?i(0):"top"===t?0:o[1]])).attr("x1",o[0]);const p=Rc(n,"baseLine.width");return{top:c.includes("top")?p:0,bottom:c.includes("bottom")?p:0}}function qm(t){const{scaleType:e,barScale:n,justBaseline:r,colFmt:o,theme:i,xTicks:a,plotSize:l,numeral:s,stackPercentages:c}=t,u=!c&&o["number-divisor"]||0;return function(t){let{numeral:e,...n}=t;const{options:r,themeOpts:o}=vp("x",n),{ticksMinor:i,ticksMajor:a}=wm(e,r,o,!0),l=[Fm,Pm,Bm,Um],s={top:0,left:0,right:0,bottom:0},c=r.tickPosition;return l.forEach((t=>{const n=t({options:r,themeOpts:o,ticksMajor:a,ticksMinor:i,numeral:e});n&&n.height>s[c]&&(s[c]=n.height),n&&n.left>s.left&&(s.left=n.left),n&&n.right>s.right&&(s.right=n.right)})),s}({...t,scale:("date"===e?qo:Ln)().domain(n.domain()).range(n.range().map((t=>l[0]/100*t))),className:"grid-x",gridLines:!r&&"lines",tickLabels:!r,tickLines:!1,secondary:!0,tickLabelUnit:[o["number-prepend"]||"",o["number-append"]||""],tickLabelMultiply:Math.pow(10,-u),minusChar:uc(i,"vis.base.format.minusCharacter","−"),plusMinusChar:uc(i,"vis.base.format.plusMinusCharacter","±"),baseLine:["zero"],ticks:{major:{values:!r&&a.length?a:void 0}},numeral:s})}function Vm(t){const{yTicks:e,plotSize:n,visId:r,numeral:o}=t;if(!r.includes("bar"))return function(t){let{numeral:e,...n}=t;const{options:r,themeOpts:o}=vp("y",n),{ticksMinor:i,ticksMajor:a}=wm(e,r),l=[Hm,Ym,Wm,Gm],s={top:0,left:0,right:0,bottom:0,labelWidth:0},c=r.tickPosition;return l.forEach((t=>{const n=t({options:r,themeOpts:o,ticksMajor:a,ticksMinor:i,numeral:e});n&&n.width>s[c]&&(s[c]=n.width),n&&n.top>s.top&&(s.top=n.top),n&&n.bottom>s.bottom&&(s.bottom=n.bottom),n&&n.labelWidth>s.labelWidth&&(s.labelWidth=n.labelWidth)})),s}({...t,scale:Ln().range([0,n[1]]).domain([0,n[1]]),className:"grid-y",gridLines:"lines",scaleType:"number",tickLabels:!1,tickLines:!1,baseLine:!1,tickLabelFormat:"0",ticks:{major:{values:e}},numeral:o})}var Km={"bars-grouped":function(){const{themeStyleHelpers:t,visTheme:e}=this,{getObjProp:n,UNDEFINED_STYLE:r}=t,o=uc(e,"labels.rowLabels.verticalAlignment");return"\n    &:not(.bc-label-block) .bc-row {\n        align-items: ".concat("top"===o?"flex-start":r,";\n    }\n    .bc-bar-bg + .bc-bar-bg {\n        margin-top: ").concat(am(n(e,"bars.barSpacing")),";\n    }\n    ")},"bars-split":function(){const{themeStyleHelpers:t,visTheme:e}=this,{typography:n}=t;return"\n    .label.bc-split, .label.bc-split span {\n        ".concat(n(uc(e,"labels.splitLabels")),"\n    }\n    &.bc-dir-rtl .bc-mirror-bars .bc-split:first-child .bc-bar-label {\n        padding-left: ").concat(am(e.labels.rowLabels.padding),";\n    }\n    &:not(.bc-dir-rtl) .bc-mirror-bars .bc-split:first-child .bc-bar-label {\n        padding-right: ").concat(am(e.labels.rowLabels.padding),";\n    }")},"bars-stacked":function(){const{themeStyleHelpers:t,visTheme:e,themeBackground:n}=this,{typography:r,getObjProp:o}=t,i=uc(e,"bars.borders",{}),a=uc(e,"labels.totalLabels",{}),l=uc(e,"labels.totalLabels.absoluteValues",{});return"\n    .bc-bar-total, .bc-bar-total span {\n        ".concat(r(a),"\n    }\n    .label.bc-bar-label > span > span.absolute {\n        ").concat(r(l),"\n        opacity: ").concat(l.opacity,";\n        margin-left: ").concat(o(l,"paddingLeft"),";\n    }\n    .bc-bar-total.before.left {\n        padding-left: ").concat(am(a.before.paddingLeft),";\n        padding-right: ").concat(am(a.before.paddingRight),";\n    }\n    .bc-bar-total.before.right {\n        padding-right: ").concat(am(a.before.paddingLeft),";\n        padding-left: ").concat(am(a.before.paddingRight),";\n    }\n    .bc-bar-total.after.right, .bc-bar-total.after.force-padding {\n        padding-left: ").concat(am(a.after.paddingLeft),";\n    }\n    .bc-bar-total.after.left, .bc-bar-total.after.force-padding {\n        padding-right: ").concat(am(a.after.paddingLeft),";\n    }\n    .bc-bar-inner.border-right, .bc-bar-inner.border-left {\n        border-color: ").concat(n,";\n    }\n    .bc-bar-inner.border-right {\n        border-width: 0px ").concat(am(o(i,"width"))," 0px 0px;\n    }\n    .bc-bar-inner.border-left {\n        border-width: 0px 0px 0px ").concat(am(o(i,"width")),";\n    }\n    ")},"arrow-plot":function(){const{visTheme:t,vis:e}=this,n=e.get("thick-arrows"),{arrowHeadSize:r,width:o,borderRadius:i}=t.arrows[n?"thick":"default"];return"\n    .bc-arrow:not(.bc-arrow-none) {\n        height: ".concat(am(o),";\n        top: ").concat(am(-.5*o),";\n        border-radius: ").concat(am(i),";\n    }\n\n    .bc-arrow:not(.bc-arrow-none) > div {\n        height: ").concat(am(r),";\n        width: ").concat(am(r),";\n        border-top-width: ").concat(am(o),";\n        border-right-width: ").concat(am(o),";\n        border-radius: ").concat(am(i),";\n    }\n\n    .bc-arrow-right > div, .bc-arrow-left > div {\n        top: ").concat(am(-.5*r),";\n    }\n\n    .bc-arrow-none {\n        top: ").concat(am(-5*r/6),";\n    }\n\n    .bc-arrow-none > div {\n        height: ").concat(am(5*r/3),";\n        border-right-width: ").concat(am(o),";\n        left: ").concat(am(-.5*o),";\n    }\n    ")},"dot-plot":function(){const{visTheme:t,themeStyleHelpers:e}=this,{typography:n}=e,r=t.circles.size,o=t.rangeBar;return"\n    .label.bc-bar-label, .label.bc-bar-label span {\n        ".concat(n(t.labels.barLabels),"\n    }\n    .bc-bar-inner {\n        width: ").concat(am(r),";\n        height: ").concat(am(r),";\n        top: ").concat(am(-.5*r),";\n        margin-left: ").concat(am(-.5*r),";\n    }\n    .bc-row {\n        min-height: ").concat(am(r),";\n    }\n    .label.bc-bar-label {\n        line-height: ").concat(am(r),";\n        left: ").concat(am(r+5),";\n    }\n    &.bc-dir-rtl .label.bc-bar-label {\n        left: ").concat(am(-r-5),";\n    }\n    .bc-dot-diff {\n        background: ").concat(o.color,";\n        opacity: ").concat(o.opacity,";\n        height: ").concat(am(o.height),";\n        top: ").concat(am(-.5*o.height),";\n    }\n    ")},"range-plot":function(){const{themeStyleHelpers:t,vis:e,themeBackground:n,visTheme:r}=this,{getObjProp:o,UNDEFINED_STYLE:i}=t,a=e.get("range-ends",{enabled:!0,shape:"circle"}),l=r.rangeEnds.circles.size,{width:s,height:c}=r.rangeEnds.lines,u=r.rangeEnds.circles.outline||{},f="line"===a.shape?s:l,h="line"===a.shape?c:l,p=5+(a.enabled?f/2:0);return"\n    .bc-bar-inner {\n        top: ".concat(am(-h/2),";\n        width: ").concat(am(f),";\n        height: ").concat(am(h),";\n        margin-left: ").concat(am(.5*-f),";\n    }\n    .bc-bar-inner.dw-circle {\n        border-style: ").concat(u.width?"solid":"none",";\n        border-width: ").concat(am(o(u,"width")),";\n        border-color: ").concat(o(u,"color"),";\n        background: ").concat(o(u,"fill",n),";\n    }\n    .bc-row {\n        min-height: ").concat(a.enabled?am(h):i,";\n    }\n    .bc-range-label.bc-lbl-left {\n        padding-right: ").concat(am(p),";\n    }\n    .bc-range-label.bc-lbl-right {\n        padding-left: ").concat(am(p),";\n    }\n    .bc-range.dw-rect {\n        opacity: ").concat(r.rangeBar.opacity,";\n        height: ").concat(am(r.rangeBar.height),";\n        top: ").concat(am(-r.rangeBar.height/2),";\n    }\n    ")}};function Xm(){const{themeStyleHelpers:t,visTheme:e,theme:n}=this,{typography:r}=t,o=n.colors.background;return"\n    .label.bc-group-title,\n    .label.bc-group-title span,\n    .bc-compact-group-label,\n    .bc-compact-group-label span {\n        ".concat(r(uc(e,"labels.groupTitles")),"\n    }\n    .label.bc-row-label,\n    .label.bc-row-label span {\n        ").concat(r(uc(e,"labels.rowLabels")),"\n    }\n    .bc-direct-key-col span {\n        ").concat(r(uc(e,"labels.directKeyLabels")),"\n    }\n\n    &.bc-labels-left .bc-row-label {\n        padding-right: ").concat(am(e.labels.rowLabels.padding),";\n    }\n    &.bc-labels-right .bc-row-label {\n        padding-left: ").concat(am(e.labels.rowLabels.padding),";\n    }\n\n    .bc-bar-label.label.value.buffer span {\n        text-shadow: ").concat(o," 1px 1px 0px, ").concat(o," 0px 1px 0px, ").concat(o," -1px 1px 0px, ").concat(o," 1px -1px 0px, ").concat(o," 0px -1px 0px, ").concat(o," -1px -1px 0px, ").concat(o," 1px 0px 0px, ").concat(o," 0px 0px 0px, ").concat(o," -1px 0px 0px;\n    }\n")}function Zm(){const{themeStyleHelpers:t,visTheme:e,vis:n,chroma:r}=this,o=n.get("thick"),{typography:i,getObjProp:a}=t,l=uc(e,"labels",{}),s=uc(e,"labels.rowLabels",{}),c=uc(e,"rowDivider",{}),u=uc(e,"bars",{}),f=u.barThickness[o?"thick":"default"],h=u.rowSpacing[o?"thick":"default"],p=a(e,"axes.gridlines.extendGrid"),d=u.barBackground.opacity,g=u.barBackground.color,m="rgba(".concat([...r(g).rgb(),d].join(","),")");return"\n    .label.bc-bar-label,\n    .label.bc-bar-label > span {\n        ".concat(i(l.barLabels),"\n    }\n    .label.bc-bar-label {\n        padding: 0 ").concat(am(l.barLabels.padding),";\n    }\n    .label.bc-bar-label, .label.bc-bar-total {\n        line-height: ").concat(am(f),";\n    }\n\n    .bc-bar-bg {\n        height: ").concat(am(f),";\n    }\n\n    &.bc-color-bg .bc-bar-bg {\n        background: ").concat(m,";\n    }\n\n    &:not(.bc-hr) .bc-row + .bc-row {\n        margin-top: ").concat(am(h),";\n    }\n\n    &.bc-hr .bc-row + .bc-row {\n        border-top: ").concat(am(c.width),";\n        margin-top: ").concat(am(c.margin),";\n        padding-top: ").concat(am(c.margin),";\n        border-top-style: ").concat(c.style,";\n        border-top-color: ").concat(c.color,";\n    }\n\n    &.bc-label-block .bc-row + .bc-row {\n        margin-top: ").concat(am(a(s,"block.marginTop")),";\n    }\n\n    &.bc-label-block .bc-row-label {\n        margin-bottom: ").concat(am(s.block.marginBottom),";\n    }\n\n    .bc-groups.grid .bc-row.first-row {\n        padding-top: ").concat(am(p),";\n    }\n    .bc-groups.grid .bc-row.last-row {\n        padding-bottom: ").concat(am(p),";\n    }\n    ")}function Jm(){return"\n    &:not(.bc-hr) .bc-row + .bc-row {\n        margin-top: ".concat(am(this.visTheme.spacings.rowHeight),";\n    }")}function Qm(){const{visTheme:t}=this;return"\n    .bc-range-label.bc-lbl-left .bc-direct-lbl {\n        padding-right: ".concat(am(t.labels.barLabels.padding),";\n    }\n    .bc-range-label.bc-lbl-right .bc-direct-lbl {\n        padding-left: ").concat(am(t.labels.barLabels.padding),";\n    }\n    .label.bc-direct-lbl + .bc-range-value {\n        padding-left: ").concat(am(t.labels.barLabels.padding),";\n    }")}var tb={},eb={},nb=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eb,"__esModule",{value:!0}),eb.defaultColors=void 0;const rb=nb(cc);eb.defaultColors=function(t,e){const n=(0,rb.default)(t,"colors.background","#ffffff"),r=(0,rb.default)(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),o=e(n).luminance()<.5,i={tickText:{secondary:(0,rb.default)(t,"colors.bgBlendRatios.tickText.secondary",o?.6:.4),primary:(0,rb.default)(t,"colors.bgBlendRatios.tickText.primary",.2)},series:(0,rb.default)(t,"colors.bgBlendRatios.series",0),value:(0,rb.default)(t,"colors.bgBlendRatios.value",.2),axis:(0,rb.default)(t,"colors.bgBlendRatios.axis",0),gridline:(0,rb.default)(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}};var ob=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tb,"__esModule",{value:!0});var ib=tb.defaultColors=void 0;const ab=ob(iu),lb=eb;function sb(t,e,n){const r=function(t){const e=uc(t,"colors.background","#ffffff"),n=Tp(e),r=ib(t),{axis:o,fallbackBaseColor:i}=r,a=4,l=10,s=6;return{"d3-bars":{rowDivider:{width:1,margin:5,style:"dotted",color:Qe(e,i)(n<30?.2:.15)},bars:{barThickness:{default:20,thick:27},rowSpacing:{default:a,thick:a},barBackground:{opacity:n<30?.1:.05,color:o}},labels:{groupTitles:{fontWeight:700},rowLabels:{padding:5,lineHeight:1.2,block:{marginBottom:a}},barLabels:{padding:5}}},"d3-bars-stacked":{labels:{totalLabels:{absoluteValues:{opacity:.75},fontWeight:700,before:{paddingLeft:10,paddingRight:5},after:{paddingLeft:5}}}},"d3-dot-plot":{circles:{size:l},spacings:{rowHeight:a},rangeBar:{height:s,opacity:n<60?.5:.2,color:Qe(e,i)(n<30?.5:.6)}},"d3-range-plot":{rangeBar:{height:s,opacity:n<60?.8:.5},rangeEnds:{circles:{size:l},lines:{height:l,width:2}}},"d3-arrow-plot":{arrows:{default:{width:2,borderRadius:2,arrowHeadSize:6},thick:{width:3,borderRadius:2,arrowHeadSize:8}}}}}(t),o=[yp(r["d3-bars"],uc(t,"vis.d3-bars",{}))];if(["range-plot","arrow-plot"].includes(e)){const e=yp(r["d3-dot-plot"],uc(t,"vis.d3-dot-plot",{}));o.push({labels:{rowLabels:uc(e,"labels.rowLabels",{})},spacings:uc(e,"spacings",{})})}return"bars"!==e&&o.push(yp(uc(r,n,{}),uc(t,"vis.".concat(n),{}))),o.reduce((function(t,e){return yp(t,e)}),{})}var cb;ib=tb.defaultColors=function(t){return(0,lb.defaultColors)(t,ab.default)};class ub{constructor(t){this.target=t,this.previousStyle=void 0}update(t){let{vis:e,theme:n}=t;this.vis=e,this.theme=n,this.type=e.type(),this.emotion=e.chart().emotion,this.chroma=e.libraries().chroma,this.themeStyleHelpers=function(t,e){const n=(t,...e)=>{let n="";for(const r of t)n+=r+(e.length?e.shift():"");return n.split("\n").filter((t=>t)).filter((t=>!t.includes(om))).join("\n")};function r(t,e,n){return sd(t,e,void 0===n?om:n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(t={},e={}){return Object.entries(im).filter((([n])=>Pd(t,n)||Pd(e,n))).map((([n,{prop:r,tsf:o=_d}])=>`${r}: ${o(sd(t,n,e[n]))};`)).join("\n")},css:(...e)=>t.css(n(...e)),cssTemplate:n,UNDEFINED_STYLE:om}}(this.emotion,n),this.isBarType=!["dot-plot","range-plot","arrow-plot"].includes(this.type),this.themeBackground=uc(n,"colors.background","#ffffff"),this.visTheme=sb(n,this.type,this.vis.id);const r=this.styles;this.previousStyle!==r&&(this.previousStyle&&this.target.classList.remove(this.previousStyle),this.target.classList.add(r),this.previousStyle=r)}get styles(){const{type:t,themeStyleHelpers:e}=this,{css:n}=e,r=Km[t]||(()=>"");return n(cb||(o=["\n            ","\n        "],i||(i=o.slice(0)),cb=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),[this.commonStyles,r.bind(this)()].join("\n"));var o,i}get commonStyles(){const t=[Xm.bind(this)];return this.isBarType?t.push(Zm.bind(this)):t.push(Jm.bind(this)),["range-plot","arrow-plot"].includes(this.type)&&t.push(Qm.bind(this)),t.map((t=>t())).join("\n")}}var fb=(t,e)=>{const n=e.prototype,r=n.format;n.format=function(t){const e=t||"YYYY-MM-DDTHH:mm:ssZ",n=this.$locale().seasonSeparator||"-",o=e.replace(/(\[[^\]]+])|BB|B/g,((t,e)=>{const r=this.$y,o=r+1,i="B"===t,a=i?[String(r).slice(-2),2]:[r,4],l=[String(o).slice(-2),2];return e||"".concat(i?"'":"").concat(this.$utils().s(...a,"0")).concat(n).concat(i?"'":"").concat(this.$utils().s(...l,"0"))}));return r.bind(this)(o)}},hb=oi(fb);function pb(t){let{row:e,barColumns:n,timeScale:r,barScale:o,mode:i}=t;const a=Wp(r),l=[e[n[0]],e[n[1]]],s=!l.find((t=>!a(t))),c=!a(l[0])&&a(l[1])?l[1]:l[0],u=a(l[0])&&!a(l[1])?l[0]:l[1],f=o(c),h=o(u);return{_v1:c,_v2:u,_diff:s?u-c:null,_change:s?(u-c)/c:null,_min:Math.min(f,h)+"%",_max:100-Math.max(f,h)+"%",_bar0min:f<h,_direction:"range-plot"===i?f<h?"end":"start":f<h?"right":f>h?"left":"none"}}function db(t){let{axes:e,metadata:n,dataset:r}=t;return e.colors?function(t){let{metadata:e,dataset:n,colorBy:r}=t;const o=n.column(r),i=zp(null,o,e,r),a=[];return o.each((t=>{a.push(String(i(t)))})),lc(a)}({metadata:n,dataset:r,colorBy:e.colors}):[]}const gb=/:([a-z]{2}(?:-[a-z]{2,3})?):/gi;dw.visualization.register("d3-bars","base",(function(t){let{target:e}=t;Di.extend(gm),Di.extend(vm),Di.extend(bm),Di.extend(hb);const n=new ub(e);let r=!0;return{type:function(){return"bars"},render:function(t){const e=this,o=e.chart(),i=e.size(),a=e.dataset,l=e.theme(),s=uc(l,"colors.palette",[]),{numeral:c}=e.libraries(),u=o.flags();e.__keyLabelMap={},function(t,e){let{visualize:n={},axes:r={}}=e;if(void 0!==n["color-bars"]&&(n["base-color"]=n["color-bars"],delete n["color-bars"]),void 0!==n["color-bars2"]&&void 0===n["base-color2"]&&(n["base-color2"]=n["color-bars2"],delete n["color-bars2"]),"d3-range-plot"===t&&(void 0!==n["range-start-color"]&&(n["base-color"]=n["range-start-color"],delete n["range-start-color"]),void 0!==n["range-end-color"]&&void 0===n["base-color2"]&&(n["base-color2"]=n["range-end-color"],delete n["range-end-color"])),void 0!==n["hide-value-labels"]&&(n["show-value-labels"]=!n["hide-value-labels"],delete n["hide-value-labels"]),"hide"!==n["value-label-visibility"]||"d3-bars-stacked"!==t&&"d3-bars-grouped"!==t||(n["show-value-labels"]=!1,n["value-label-visibility"]="always"),"show"!==n["value-label-visibility"]||"d3-bars-stacked"!==t&&"d3-bars-grouped"!==t||(n["show-value-labels"]=!0,n["value-label-visibility"]="always"),"hide"===n["value-label-visibility"]&&"d3-dot-plot"===t&&(n["show-value-labels"]=!1,n["value-label-visibility"]="hover"),void 0!==n["hide-category-labels"]&&(n["show-category-labels"]=!n["hide-category-labels"],delete n["hide-category-labels"]),void 0!==n["hide-group-labels"]&&(n["show-group-labels"]=!n["hide-group-labels"],delete n["hide-group-labels"]),void 0===n["group-by-column"]&&r.groups&&"--"!==r.groups&&(n["group-by-column"]=!0),void 0!==n["resort-bars"]&&(n["sort-bars"]=n["resort-bars"],!0===n["resort-bars"]&&void 0!==n["sort-asc"]&&(n["reverse-order"]=n["sort-asc"]),delete n["resort-bars"],delete n["sort-asc"]),"string"==typeof n["sort-bars"]&&"d3-bars"===t)switch(n["sort-bars"]){case"keep":n["sort-bars"]=!1,n["reverse-order"]=!1;break;case"desc":n["sort-bars"]=!0,n["reverse-order"]=!1;break;case"asc":n["sort-bars"]=!0,n["reverse-order"]=!0}if("none"!==n["range-value-labels"]||"d3-range-plot"!==t&&"d3-arrow-plot"!==t||(n["show-value-labels"]=!1,n["range-value-labels"]="start"),"string"==typeof n["sort-arrows"]&&("keep"===n["sort-arrows"]?n["sort-range"]={enabled:!1,by:"start"}:n["sort-range"]={enabled:!0,by:n["sort-arrows"]},delete n["sort-arrows"]),"string"==typeof n["range-ends"]&&("line"===n["range-ends"]||"circle"===n["range-ends"]?n["range-ends"]={enabled:!0,shape:n["range-ends"]}:n["range-ends"]={enabled:!1,shape:"circle"}),n["custom-colors"]&&(n["color-category"]=n["color-category"]||{categoryLabels:{},categoryOrder:[],excludeFromKey:[],map:{},palette:[]},Object.keys(n["custom-colors"]).length&&void 0===n["color-by-column"]&&(n["color-category"].map=n["custom-colors"],n["color-by-column"]=!0),delete n["custom-colors"]),n["color-category"]&&(n["color-category"].categoryLabels||(n["color-category"].categoryLabels={}),n["color-category"].map||(n["color-category"].map={})),n["color-key"]&&Object.keys(n["color-key"]).length&&(!n["color-category"]||"object"!=typeof n["color-category"].categoryLabels||!Object.keys(n["color-category"].categoryLabels).length)){void 0===n["color-by-column"]&&(n["color-by-column"]=!0),n["color-category"]=n["color-category"]||{categoryOrder:[],excludeFromKey:[],map:{},palette:[]};const t=Object.keys(n["color-key"]);n["color-category"].categoryLabels=t.reduce(((t,e)=>(t[e]=n["color-key"][e].label,t)),{}),delete n["color-key"]}Array.isArray(n.overlays)||(n.overlays=[]),"highlight-range"in n&&"boolean"!=typeof n["highlight-range"]&&("string"==typeof n["highlight-range"]&&(n["custom-lines"]=n["highlight-range"]),delete n["highlight-range"])}(o.get("type"),o.get("metadata"));const f=o.createPostEvent(),{chroma:h}=e.libraries();var p=e.colorMap();if(e.get("replace-flags.enabled")&&at(t).append("link").at({type:"text/css","data-uid":"flags-css",rel:"stylesheet",href:"//static.dwcdn.net/css/flag-icons/flag-icon.min.css"}),!0===r){const t=o.locales.dayjs;t&&Di.locale(t),r=!1}const d="rtl"===e.textDirection,g={left:d?"right":"left",right:d?"left":"right"},m=e.type();let b=!1;const y=e.axes(!0).labels.type(),v=function(t,e,n){const r=uc(e,t);return r?n.reduce(((t,e)=>(r.accepts.includes(e.type())&&t.push(e),t)),[]):[]}("groups",e.meta.axes,a.columns()).length,w=v>("date"===y?0:1),x=e.get("group-by-column",!1)&&w?e.axes().groups:null,k="range-plot"===m||"arrow-plot"===m,M="bars-split"===m?e.axes().colors:e.axes().colors||e.axes().labels,A=e.axes().colors?zp(c,e.axes(!0).colors,e.chart().getMetadata(),e.axes().colors):t=>t;let E="bars"===m?e.axes().bars:"bars-bullet"===m?[e.axes().bars,e.axes().bars2]:k?[e.axes().start,e.axes().end]:"dot-plot"===m?e.axes()["dots-multiple"]:e.axes()["bars-multiple"];if(ji(E)||(E=[E]),!e.dataset.hasColumn(E[0])||(k||"bars-bullet"===m)&&!e.dataset.hasColumn(E[1]))return e.showError(e.chart().translate("insufficient-data".concat("dot-plot"===m?"-dot-plot":k?"-range-arrow":"-bars")).replace("%chartid%",o.get("id"))),void e.renderingComplete();const T=e.get("show-value-labels",!0)&&"bars-bullet"!==m,_=e.get("value-label-visibility");var O=e.axes().labels,N=e.dataset.column(O),S=e.get("rules")&&"dot-plot"!==m&&"range-plot"!==m&&"arrow-plot"!==m,L=e.get("background")&&("bars"===m||"bars-split"===m||"bars-grouped"===m),C=e.get("thick")&&"dot-plot"!==m&&!k;const D=e.get("thick-arrows",!1)&&"arrow-plot"===m;var $="bars-stacked"===m&&e.get("stack-percentages",!1),j=$?function(t){return null===t?"":c(.01*t).format(t<5?"0.[0]%":"0%")}:"bars"===m||"dot-plot"===m||k||"bars-bullet"===m?jc(e,"value-label-format",e.dataset.column(E[0])):null;const R=e.get("stack-show-absolute"),I=jc(e,"value-label-format",e.dataset.column(E[0]));var z=function(){if($)return function(t){const e=c(.01*t.value).format(t.value<5?"0.[0]%":"0%");if(R){const n=I(t.valueOriginal);return"".concat(e,' <span class="absolute">(').concat(n,")</span>")}return e};if(T||"dot-plot"===m||k||"bars-bullet"===m){var t={};return E.forEach((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t[n]=jc(e,"value-label-format",e.dataset.column(n))})),function(e,n){let r="bars"===m?e[x]:e.row[x];r=null===r?"":r;const o=!x||0===St.map((t=>t.key)).indexOf(r),i="bars-stacked"===m||"bars-grouped"===m?0===e.row.rowIndex&&0===n:"bars-split"===m?0===e.row.rowIndex:0===n;return t[e.column||E[0]](e.value,!!bt&&(!i&&o||!o),bt)}}return function(t){return t.value}}(),F=e.get("label-alignment","left"),P=k&&"direct"===F,B=e.get("block-labels",!1)&&("bars"===m||"bars-stacked"===m||"bars-grouped"===m),U=e.get("mirror-bars",!1)&&"bars-split"===m&&2===E.length,H=e.get("independent-scales")&&!U&&"bars-split"===m,Y=e.get("compact-group-labels")&&("bars-split"===m||"dot-plot"===m),W=e.get("show-group-labels",!0),G=e.get("custom-range",[]).filter((function(t){return""!==t}));const q="date"===N.type()?jc(e,"date-label-format",N):e.get("replace-flags.enabled")?t=>ae(t,e.get("replace-flags.style","4x3")):$i;var V="bars-split"!==m&&e.get("show-color-key",!0)?e.get("color-key",{}):null;const K=e.get("color-by-column",!1),X=uc(l,"vis.base.legend.position","top");var Z="bars-stacked"===m||"dot-plot"===m||"bars-grouped"===m,J=("bars-stacked"===m||"bars"===m||"bars-grouped"===m)&&e.get("force-grid",!1)&&!B||"dot-plot"===m||"bars-bullet"===m||k,Q=(e.get("custom-grid-lines")||"").trim(),tt="bars"===m&&e.get("swap-labels"),et="bars"===m&&!e.get("show-category-labels",!0),nt=e.get("value-label-alignment","left"),rt=e.get("tick-position",k||"dot-plot"===m?"bottom":"top");const ot="bars"===m&&e.get("overlays",[]).some((t=>"value"===t.type&&t.labelDirectly))||k&&e.get("show-".concat("range-plot"===m?"color":"arrow","-key"));ot&&(rt="bottom");const it=e.get("overlays",[]).filter((t=>!t.invisible&&"value"===t.type)).reverse(),lt=e.get("overlays",[]).filter((t=>!t.invisible&&"range"===t.type)).reverse();!function(t,e,n){const r=uc(t,"colors.background","#ffffff"),o=wp("horizontal",{theme:t,visId:e,chroma:n});"d3-bars-stacked"===e&&o.gridLines.aboveChart&&["gridLines.major","baseLine"].forEach((e=>{Mp(t,"vis.base.grid.horizontal.".concat(e,".color"),r),Mp(t,"vis.base.grid.horizontal.".concat(e,".opacity"),.4),Mp(t,"vis.base.grid.horizontal.".concat(e,".style.strokeDasharray"),"none")}))}(l,e.id,h);const ct=uc(l,"vis.d3-bars.axes.showBaseline",!1),ut=uc(l,"vis.d3-bars.axes.gridlines.extendGrid",0),ft=uc(l,"vis.d3-bars.groups.spaceBetween",25),pt=uc(l,"vis.d3-bars.labels.groupTitles.paddingBottom",5),dt=uc(l,"vis.d3-bars.labels.barLabels.outside",!1)&&T&&"right"===nt&&!tt&&("bars"===m||"bars-grouped"===m),gt=uc(l,"vis.d3-bars.labels.barLabels.padding",5),mt=uc(l,"vis.d3-bars.labels.rowLabels.padding",5),bt=m.includes("bars")&&"firstOnly"===uc(l,"vis.d3-bars.labels.barLabels.units","all"),yt=uc(l,"vis.d3-bars-grouped.labels.rowLabels.verticalAlignment","middle"),vt=Number(C?uc(l,"vis.d3-bars.bars.barThickness.thick",27):uc(l,"vis.d3-bars.bars.barThickness.default",20)),wt=Tp(l.colors.background)<60,xt=uc(l,"vis.base.labels.invertLuminance",70);("bars-stacked"===m||"bars-grouped"===m||"bars-split"===m||"dot-plot"===m)&&function(){const t=e.get("base-color",0),n=e.get("color-category.map",{}),r=e.get("color-by-column",!1),o={selectedColor:t,keys:e.colorKeys(),customColors:r?n:{}};e.getAutoColor=Ko(l,o)}();var Mt=Q.length?Q.split(",").map(Number):[];if(k){var At=e.axes(!0);"date"===At.start.type()&&"date"===At.end.type()&&(b=!0,Mt=Q.length?dw.column("end",Q.split(","),"date").values().filter(ma):[],G=dw.column("end",G,"date").values())}if("dot-plot"===m){const t=(At=e.axes(!0))["dots-multiple"].filter((t=>"number"===t.type())).length;At["dots-multiple"].filter((t=>"date"===t.type())).length>t&&(b=!0,Mt=Q.length?dw.column("dots-multiple",Q.split(","),"date").values():[],G=dw.column("dots-multiple",G,"date").values())}const Et=Wp(b);if(b||(G=G.map((t=>+t)).filter(Bi)),"dot-plot"===m||k||(G=G.concat(0)),e.get("show-color-key",!0))if(V={},Z)E.forEach((function(t,n){V[t]={color:ie(e.dataset.column(t).name(),n),label:e.dataset.column(t).title()}}));else{const t=e.get("color-category",{}),n=Object.keys(e.get("color-category.categoryLabels",{})),r=e.get("color-key.bars.color",Te("base-color",0));n.forEach((e=>{V[e]={color:t.map[e]||r,label:t.categoryLabels[e]}}))}const Tt=at(t),_t=e.dataset.list(),St=x?ht().key(Ni(x)).entries(_t):[{key:"",values:_t}];St.forEach((t=>{"null"===t.key&&(t.key="")})),_t.forEach((function(t,e){t._row=e}));const Lt=e.get("sort-bars",!1),Ct="bars"===m?e.axes().bars:e.get("sort-by"),Dt=e.get("sort-range",!1),$t=function(t,e,n){switch(t){case"start":return n[0];case"end":return n[1];case"diff":return e.forEach((t=>{t.__diff=t[n[1]]-t[n[0]]})),"__diff";case"change":return e.forEach((t=>{t.__change=(t[n[1]]-t[n[0]])/t[n[0]]})),"__change"}}(Dt.by,_t,E),jt=e.get("reverse-order",!1),Rt=t=>isNaN(t[Ct])?-Number.MAX_VALUE:t[Ct];St.forEach((function(t){var e;k?Dt.enabled&&t.values.sort(Si((t=>t[$t]))):Lt&&t.values.sort("function"==typeof(e=Rt)?function(t,n){return e(n)<e(t)?-1:e(n)>e(t)?1:e(n)>=e(t)?0:NaN}:function(t,n){return n[e]<t[e]?-1:n[e]>t[e]?1:n[e]>=t[e]?0:NaN}),jt&&t.values.reverse(),t.values.forEach(((t,e)=>{t.rowIndex=e}))})),$&&_t.forEach((function(t){var e=0;E.forEach((function(n){e+=t[n]})),t.__origValues={},E.forEach((function(n){t.__origValues[n]=t[n],t[n]*=100/e}))}));let It=ca(E.map((function(t){return Qs(_t,t)}))).filter(Et),zt=!1,Ft=!1;"bars-stacked"===m&&(It=[Nt(_t.map((t=>E.reduce(((e,n)=>t[n]<0?t[n]+e:e),0)))),Ot(_t.map((t=>E.reduce(((e,n)=>t[n]>0?t[n]+e:e),0))))],Ft=Ot(It)<=0,zt=!_t.every((t=>E.map((e=>Math.sign(t[e]))).filter((t=>0!==t)).every(((t,e,n)=>t===n[0])))));const Pt=e.get("totals-labels",!1)&&"bars-stacked"===m;let Bt=!1;Pt&&!zt&&(Bt=e.get("totals-labels-position","before"));const Ut="diverging"===e.get("value-label-mode","left"),Ht="range-plot"===m?e.get("range-ends",{enabled:!0,shape:"circle"}):{};n.update({vis:e,theme:l}),Tt.classed("bc-hr",S).classed("bc-dir-rtl",d).classed("bc-color-bg",L).classed("bc-label-block",B).classed("stack-totals-before","before"===Bt).classed("stack-totals-after","after"===Bt).classed("bc-label-align-left",F===g.left).classed("bc-label-align-right",F===g.right).classed("bc-mirror-bars",U).classed("bc-stacked-diverging",Ut).classed("bc-grid-lines",J).classed("bc-hide-dots",!Ht.enabled||"line"===Ht.shape).classed("bc-range-end-lines","line"===Ht.shape).classed("bc-range-end-none",!1===Ht.enabled).classed("bc-thick",C).classed("bc-thicker-arrows",D).classed("bc-direct-labels",P).classed("bc-grid-bottom","bottom"===rt).classed("bc-grid-top","top"===rt).classed("hidden-labels",et).classed("mixed-positive-negative",zt).classed("all-negative",Ft).classed("bc-labels-left",d?Ft:!Ft).classed("bc-labels-right",d?!Ft:Ft),Ut&&Tt.classed("bc-stacked-diverging-"+E.length,!0);const Yt="ontouchstart"in window||navigator.msMaxTouchPoints,Wt=Ei.highlightTimer((t=>{t?(Tt.selectAll(".bc-bar-inner").classed("focus",(e=>t&&e.column===t)).classed("unfocus",(e=>t&&e.column!==t)),Tt.selectAll(".bc-dot-diff").classed("unfocus",!0),Tt.selectAll(".bc-bar-total.after").classed("focus",!1),Tt.selectAll(".bc-bar-total.after").classed("unfocus",!0),Ee&&Ee.highlight(t),f("highlight.set",{column:t})):(Tt.selectAll(".bc-bar-inner").classed("focus",!1).classed("unfocus",!1),Ee&&Ee.highlight(),Tt.selectAll(".bc-dot-diff").classed("unfocus",!1),Tt.selectAll(".bc-bar-total.after").classed("unfocus",!1),f("highlight.clear"))}),Yt?0:300);var Gt;"bars-bullet"===m&&(Gt={inner:Te("base-color2",1),outer:Te("base-color",0)}),It=It.filter(Et);var qt=It.concat(Mt);("dot-plot"!==m&&!k||"custom"===e.get("range-extent","nice"))&&(qt=qt.concat(G)),"bars"===m&&it.concat(lt).forEach((t=>{("value"===t.type?["from"]:["from","to"]).forEach((n=>{if(t[n]===mc&&(qt=qt.concat(0)),!e.dataset.hasColumn(t[n]))return;const r=e.dataset.column(t[n]);"number"===r.type()&&(qt=qt.concat(r.range()))}))}));var Vt=b?qo():Ln();Vt.domain(kt(qt)).range([0,100]);const Kt=zp(c,e.axes(!0).labels,e.chart().getMetadata(),e.axes().labels);("dot-plot"===m||k)&&(Vt.range([800/i[0],100-800/i[0]]),"nice"===e.get("range-extent","nice")&&Vt.nice());const Xt={series:[],rows:[]},Zt=e.get("highlighted-series",[]);_t.forEach((t=>{const e=""+Kt(t[O]);Zt.includes(e)&&Xt.rows.push(e)})),a.columns().forEach((t=>{Zt.includes(t.name())&&Xt.series.push(t.name())})),Tt.classed("bc-with-row-highlight",Xt.rows.length);var Qt=Tt.append("div.bc-groups").selectAll("div.bc-group").data(St).enter().append("div.bc-group");Qt.filter(((t,e)=>e>0)).style("margin-top",ft+"px"),Tt.selectAll("div.bc-groups").classed(St.length>1?"grouped-bars":"","bc-groups"),H?(Vt={},E.forEach((function(t){Vt[t]=Ln().domain(kt(Qs(_t,t).concat(G))).range(d?[100,0]:[0,100])}))):d&&Vt.range(Vt.range().reverse()),Y||Qt.filter(((t,e)=>ot&&!e||!!t.key)).append("div.bc-group-title.group-title.chart-text.label").attr("data-column",x).attr("data-row",(function(t){return Qs(t.values,"_row").join(",")})).style("margin-bottom",W&&x?pt+"px":"0px").append("span").html(W?t=>e.get("replace-flags.enabled")?ae(t.key,e.get("replace-flags.style","4x3")):t.key:"");var te=Qt.append("div.bc-group-content").classed("overlay-marker",it.length);if(te.on("mouseleave",(()=>{Wt.clear()})),"bars-split"===m){const t=uc(l,"vis.d3-bars-split.labels.splitLabels.useBarColor");var ee=te.append("div.bc-split-label");Y?ee.append("div.bc-row-label.label.bc-compact-group-label.row-label.chart-text").attr("data-column",x).attr("data-row",(function(t){return Qs(t.values,"_row").join(",")})).append("span").html(Ni("key")):ee.append("div.bc-row-label.row-label.chart-text.label").append("span"),ee.append("div.bc-bars").selectAll("div.bc-split").data(E).enter().append("div.bc-split.label").style("width",100/E.length+"%").classed("highlighted-series",(function(t){return e.get("highlighted-series",[]).indexOf(t)>-1})).attr("data-column",(function(t){return t})).attr("data-row","-1").append("span").html((function(t){return e.dataset.column(t).title()})).style("color",t&&!M?function(t,e){return p(ie(t,e))}:null)}var ne,re,oe=te.selectAll("div.bc-row").data(Ni("values")).enter().append("div.bc-row").each((t=>{Bt&&(t.value=Gp(t))})).classed("bc-row-highlight",(function(t){var e=""+Kt(t[O]);return Xt.rows.indexOf(e)>-1})).classed("first-row",((t,e)=>0===e)).classed("last-row",(function(t,e){return e===at(this.parentElement).data()[0].values.length-1})).classed("row-divider",(function(t,e){if(0!==e)return"bars-split"===m||"bars-stacked"===m||"bars-grouped"===m||"bars-bullet"===m||"bars"===m}));if(tt)T&&oe.append("div.bc-row-label.row-label.chart-text.label").append("span").html(Ni(E[0],j));else if(!et&&(oe.append("div.bc-row-label.row-label.chart-text.label").classed("dw-bold",B&&"bars-grouped"===m).attr("data-column",O).attr("data-row",Ni("_row")).append("span").html((function(t,e,n){O&&(t=t[O]);const r=Array.from(n.slice(0,e)).map((t=>t.innerText)),o=q(t,0===e,!1);return r.includes(o)?q(t,0===e,!0):o})),"bars-grouped"===m&&"top"===yt)){const t=(vt-parseFloat(getComputedStyle(oe.select(".bc-row-label").node()).lineHeight))/2;oe.select(".bc-row-label").style("margin-top","".concat(t,"px"))}function ie(t,n){const r=Ri(t),o=e.getAutoColor(r?t.column:t,n);return r&&(t._color=e.getAutoColor(t.column,n)),o}function ae(t,e){const n=t.match(gb),r=["flag-icon"];return"4x3"!==e&&r.push("flag-icon-squared"),"circle"===e&&r.push("flag-icon-circle"),n&&n.forEach((function(e){let n=e.substr(1,e.length-2).toLowerCase();"uk"===n&&(n="gb"),t=t.replace(e,'<span class="'+r.join(" ")+" flag-icon-"+n+'"></span>')})),t}function le(t){const n=e.type(),r=a.column(M),o="bars"===n||"arrow-plot"===n?t._row:t.row._row,i="text"===r.type()?r.raw(o):A(r.val(o)),l=e.get("color-category.map",{})[i],s=Te("base-color",0);return t._color=function(t){const n=e.theme().colors.palette;return"number"==typeof t?n[t%n.length]:t}(K&&l?l:s),t._color}if("bars"===m){const t=(ne=oe.append("div.bc-bars")).append("div.bc-bar-bg.dw-rect").filter((function(t){return t.value=t[E[0]],!isNaN(t.value)}));t.append("div.bc-bar-inner.dw-rect").style("background",Ni(le,p)),re=t.append("div.bc-bar-inner.value-labels").style("background","transparent"),fc(t.selectAll(".bc-bar-inner"),Vt,d)}else if("bars-split"===m)re=(ne=oe.append("div.bc-bars").selectAll("div.bc-split").data((function(t){return E.map((function(e){return{column:e,value:t[e],row:t}}))})).enter().append("div.bc-split").style("width",100/E.length+"%").append("div.bc-split-inner")).append("div.bc-bar-bg.dw-rect").filter((function(t){return!isNaN(t.value)})).append("div.bc-bar-inner.dw-rect").each((function(t){var e=H?Vt[t.column]:Vt;t.__left=e(Math[d?"max":"min"](0,t.value))+"%",t.__right=100-e(Math[d?"min":"max"](0,t.value))+"%"})).style("left",((t,e)=>U&&!e?t.__right:t.__left)).style("right",((t,e)=>U&&!e?t.__left:t.__right)).style("background",(function(t,e){return p(M?le(t):ie(t,e))})).attr("title",z),Tt.selectAll(".bc-split").style("padding-right",e.get("space-between-cols",10)+"px"),Tt.selectAll(".bc-bars").style("margin-right",-1*e.get("space-between-cols",10)+"px");else if("bars-stacked"===m){oe.on("mousemove",(function(){const t=at(this),[e]=st(t.node()),n=t.selectAll(".bc-bar-inner").filter((function(){const{left:t,right:n}=o.getElementBounds(this);return e>=t&&e<=n}));n.empty()?Wt.clear():Wt.set(n.datum().column)}));const t=uc(l,"vis.d3-bars-stacked.bars.borders.width");ne=oe.append("div.bc-bars"),Ft&&!B&&ne.lower();const e=(t,e)=>{const n=$?Gp(t.__origValues):t.value;return $&&(e=!0),I(n,!1,!1,e)};if(re=ne.append("div.bc-bar-bg.dw-rect").selectAll("div.bc-bar-inner").data((function(e){var n=0,r=0;return E.map((function(o,i){var a=n,l=r;n+=!Et(e[o])||e[o]<0?0:e[o],r+=!Et(e[o])||e[o]>0?0:e[o];const s=t&&E[i+1]&&n;return{column:o,row:e,valueOriginal:e.__origValues?e.__origValues[o]:null,value:e[o],offsetPos:a,offsetNeg:l,...!!s&&{border:g.right}}})).filter((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-inner.dw-rect").style("background",(function(t,e){return p(ie(t,e))})).classed("border-left",(t=>"left"===t.border)).classed("border-right",(t=>"right"===t.border)).attr("data-column",Ni("column")),"after"===Bt){const t=ne.append("div.bc-stack-total-outer");t.append("div.label.bc-bar-total.after").classed("force-padding",(t=>!B&&!Ft&&t.value<0)).append("span.export-text").html((t=>e(t,!1))),fc(t,Vt,d),dc(oe,m,o,d)}if("before"===Bt){const t=oe.select(".bc-bars").append("div.label.bc-bar-total.before").classed("left",d?Ft:!Ft).classed("right",d?!Ft:Ft).lower();t.append("span.export-text").html((t=>e(t,!0))),Ft&&t.raise();const n=Math.max(...t.selectAll("span").nodes().map((t=>t.offsetWidth)));t.style("width","".concat(n,"px"))}gc(re,Vt,d)}else if("bars-grouped"===m)oe.on("mousemove",(function(){const t=at(this),[e,n]=st(t.node()),r=t.select("div.bc-bars"),i=n-(o.getElementBounds(r.node()).top-o.getElementBounds(t.node()).top),a=t.selectAll(".bc-bar-inner").filter((function(t,n){const{height:r,right:a,left:l}=o.getElementBounds(this);return Math.floor(i/r)===n&&e<a&&e>l}));a.empty()?Wt.clear():Wt.set(a.datum().column)})),fc(re=(ne=oe.append("div.bc-bars")).selectAll("div.bc-bar-bg.dw-rect").data((function(t){return E.map((function(e){return{column:e,row:t,value:t[e]}})).filter((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-bg.dw-rect").append("div.bc-bar-inner.dw-rect").style("background",(function(t,e){return p(ie(t,e))})).attr("data-column",Ni("column")),Vt,d);else if("bars-bullet"===m)fc(re=(ne=oe.append("div.bc-bars")).append("div.bc-bar-bg.dw-rect").selectAll("div.bc-bar-inner").data((function(t){return E.map((function(e,n){return{type:n?"inner":"outer",row:t,column:e,value:t[e]}})).filter((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-inner.dw-rect").classed("bc-bullet-inner",(function(t){return"inner"===t.type})).style("background",(function(t){return p(Gt[t.type])})),Vt,d);else if("dot-plot"===m){(ne=oe.append("div.bc-bars")).on("mousemove",(function(t){const{width:e}=o.getElementBounds(this),[n]=st(this),r=t=>isNaN(t)?1/0:Math.abs(t-n),i=E.map((n=>({col:n,x:Vt(t[n])/100*e}))).sort(((t,e)=>r(e.x)-r(t.x))).pop();r(i.x)<20?Wt.set(i.col):Wt.clear()}));re=ne.append("div.bc-bar-bg").selectAll("div.bc-bar-inner").data((function(t){return E.map((function(e){return{column:e,value:t[e],row:t}})).filter((function(t){return null!==t.value}))})).enter().append("div.bc-bar-inner.dw-circle").style("left",(t=>Vt(t.value)+"%")).style("background",(function(t,e){return p(ie(t,e))})).classed("bc-dot-highlight",(t=>Xt.series.includes(t.column))),re.filter((function(t){return isNaN(t.value)})).style("display","none"),Tt.classed("bc-with-series-highlight",Xt.series.length),E.length>1&&e.get("highlight-range")&&ne.select(".bc-bar-bg").insert("div.bc-dot-diff.dw-rect",".bc-bar-inner").each((function(t){const e=E.filter((e=>Et(t[e]))).map((e=>Vt(t[e]))),[n,r]=kt(e);t._bar0min=n<r,t._min=n+"%",t._max=100-r+"%"})).style("left",Ni("_min")).style("right",Ni("_max"))}else if("arrow-plot"===m){re=(ne=oe.append("div.bc-bars")).append("div.bc-bar-bg").selectAll("div.bc-bar-inner").data((function(t){return E.map((function(e){return{column:e,value:t[e],row:t}}))})).enter().append("div.bc-bar-inner.dw-circle").style("margin-left","-5px").style("left",(t=>Vt(t.value)+"%")).style("display","none"),ne.select(".bc-bar-bg").insert("div.bc-arrow.dw-arrow",".bc-bar-inner").each((function(t){const e=pb({row:t,barColumns:E,timeScale:b,barScale:Vt,mode:m});Object.assign(t,e)})).style("background",Ni(le,p)).classed("bc-arrow-left",(function(t){return"left"===t._direction})).classed("bc-arrow-right",(function(t){return"right"===t._direction})).classed("bc-arrow-none",(function(t){return"none"===t._direction})).append("div.bc-arrow-inner.dw-arrow-inner").style("border-color",Ni("_color",p)),hc(oe,m,Vt,d)}else if("range-plot"===m){var se=(ne=oe.append("div.bc-bars")).append("div.bc-bar-bg");const t="circle"===e.get("range-ends",{}).shape,n=uc(l,"vis.d3-range-plot.rangeEnds.circles.outline",{}),r=n.width&&!n.color;re=se.selectAll("div.bc-bar-inner.dw-"+(t?"circle":"rect")).data((function(t){return E.filter((e=>Et(t[e]))).map((e=>({row:t,column:e,value:t[e]})))})).enter().append("div.bc-bar-inner.dw-"+(t?"circle":"rect")).style("border-color",r?_e:null).style("background",r?n.fill||l.colors.background:_e),ne.each((function(t){const e=pb({row:t,barColumns:E,timeScale:b,barScale:Vt,mode:m});Object.assign(t,e)})),ne.select(".bc-bar-bg").insert("div.bc-range.dw-rect",".bc-bar-inner").filter((t=>Et(t[E[0]])&&Et(t[E[1]]))).style("background",(function(t){var n=e.get("range-color","fixed"),r=Te("start"===t._direction?"base-color":"base-color2"),o=Te("end"===t._direction?"base-color":"base-color2");switch(n){case"fixed":return p(Te("fixed-range-color","#cccccc"));case"lowest":return p(o,0);case"highest":return p(r,0);case"gradient":var i=Qe(o,r);return"linear-gradient(to right, "+[0,.2,.4,.6,.8,1].map((function(t){return p(i(t))+" "+100*t+"%"})).join(", ")+")"}})).append("div").style("border-color",Ni("_color",p)),hc(oe,m,Vt,d)}re&&(re.on("mouseenter",(t=>{f("bar.mouseenter",t)})),re.on("mouseleave",(t=>{f("bar.mouseleave",t)})),re.on("click",(t=>{f("bar.click",t)})));var ce=e.get("range-value-labels","start");"arrow-plot"!==m&&"range-plot"!==m||!T||("start"!==ce&&"both"!==ce||ne.append("div.bc-range-label").classed("bc-lbl-highlight",Xt.series.includes(E[0])).classed("bc-lbl-left",(function(t){return"right"===t._direction||"end"===t._direction||"none"===t._direction})).classed("bc-lbl-right",(function(t){return"left"===t._direction||"start"===t._direction})).append("span.label.bc-range-value.value").append("span.inner").style("color","arrow-plot"===m?t=>sc(l,p(le(t))):sc(l,p(Te("base-color",0)))).html((t=>j(t[E[0]]))),"start"!==ce&&ne.append("div.bc-range-label").classed("bc-lbl-highlight",!["diff","change"].includes(ce)&&Xt.series.includes(E[1])).classed("bc-lbl-left",(function(t){return"left"===t._direction||"start"===t._direction})).classed("bc-lbl-right",(function(t){return"right"===t._direction||"end"===t._direction||"none"===t._direction})).append("span.label.bc-range-value.value").append("span.inner").style("color","arrow-plot"===m?t=>sc(l,p(le(t))):sc(l,p(Te("base-color2",1)))).html("diff"===ce?t=>{return e=t._diff,n=j(e),e>0?"+"+n:n;var e,n}:"change"===ce?t=>{return e=t._change,null==e?"":c(e).format("+0"+(e<.01?".[0]":"")+"%");var e}:t=>j(t[E[1]])),pc(oe)),!T||tt||k?!tt||et||k||re.append("div.bc-bar-label.chart-text.value.label").attr("data-column",O).attr("data-row",Ni("_row")).append("span").html(Ni(O,q)):re.append("div.bc-bar-label.chart-text.value.label").classed("force-padding",(t=>!B&&dt&&t.value<0)).append("span").html(z),P&&(Tt.selectAll(".bc-row").each((function(){const t=g.left;let e=at(this).select(".bc-lbl-".concat(t));e.node()?e.append("span.label.bc-direct-lbl").lower().append("span.inner").html(Ni(O,q)):e=at(this).select(".bc-bars").append("div.bc-lbl-".concat(t,".bc-range-label")).style(g.right,(function(t){return 100-t._min.replace("%","")+"%"})).append("span.label.bc-direct-lbl").append("span.inner").html(Ni(O,q))})),function(){let t=0;return Tt.selectAll(".bc-row").each((function(){const e=["left","right"].reduce(((t,e)=>{const n=at(this),r=e+("left"===e&&P?"-direct":"");return t+Tc(n,".bc-lbl-".concat(e),r,o)}),0);t=Math.max(e,t)})),t}()>i[0]-50?(P=!1,Tt.selectAll(".bc-direct-lbl").remove()):Tt.selectAll(".bc-row-label").remove(),Tt.classed("bc-direct-labels",P));var ue=0;P||B||te.selectAll(".bc-row-label span, .bc-compact-group-label span").each((function(){ue=Math.max(ue,o.getElementBounds(this).width)})),ue>0&&(ue+=2*mt);var fe=100*ue/i[0]+"%",he=100*(i[0]-ue+("bars-split"===m?+e.get("space-between-cols",10)-4:0))/i[0]+"%";let pe;te.selectAll(".bc-row-label").style("width",fe),te.selectAll(".bc-bars").style("width",he),"right"===F&&"bars-bullet"!==m&&"dot-plot"!==m&&Qt.selectAll("div.bc-group-title.label").style("padding-left",fe),P||"dot-plot"!==m&&!k||oe.style("min-height",(function(){const t=at(this).select(".bc-row-label span").node();return t.innerText?null:(pe||(t.innerText="I",pe=o.getElementBounds(t).height,t.innerText=""),pe+"px")})),"dot-plot"===m&&Tt.selectAll(".bc-bar-label span").each((function(){const{right:t,width:e}=o.getElementBounds(this);t>o.getElementBounds(te.node()).right&&at(this.parentNode).style("left",-e-5+"px")})),"bars"===m&&function(t){let{$bars:e,rangeOverlays:n,valueOverlays:r,barScale:o,barThickness:i,vis:a,rtl:l}=t;const s=a.theme(),c=a.colorMap();function u(t,e,n,r){const o=r.map(((e,r)=>t[r?"to":"from"]===mc?0:n[e.name()])),i={type:"value"===e?"value":"solid"===t.pattern?"htmlRange":"svgRange",color:xc(t,a.theme())};return"value"===e?{...i,value:o[0]}:{...i,fromValue:o[0],toValue:o[1]}}n.forEach(((t,n)=>{let r,o;if(t.from!==mc){if(!a.dataset.hasColumn(t.from))return;if(r=a.dataset.column(t.from),"number"!==r.type())return}if(t.to!==mc){if(!a.dataset.hasColumn(t.to))return;if(o=a.dataset.column(t.to),"number"!==o.type())return}if("solid"===t.pattern)e.selectAll("div.bc-bar-bg").filter((function(e){const n=t.from===mc?0:e[r.name()],i=t.to===mc?0:e[o.name()];return"number"==typeof n&&"number"==typeof i})).append("div.bc-bar-inner.dw-rect.bc-bar-overlay").datum((e=>u(t,"range",e,[r,o]))).style("background",(t=>c(t.color)));else{const a=e.selectAll("div.bc-bar-bg").filter((function(e){const n=t.from===mc?0:e[r.name()],i=t.to===mc?0:e[o.name()];return"number"==typeof n&&"number"==typeof i})).append("svg.bc-bar-inner.bc-bar-overlay").datum((e=>u(t,"range",e,[r,o]))),l=a.append("defs");Mc({defs:l,id:"fill-pattern-".concat(n),stroke:c(a.datum().color),strokeWidth:uc(s,"vis.d3-bars.pattern.stroke-width",2),lineGap:uc(s,"vis.d3-bars.pattern.line-gap",2),patternType:t.pattern,rotation:0,scale:1,flipV:!0}),a.append("rect").attr("width","100%").attr("height",i).attr("fill","url(#fill-pattern-".concat(n,")"))}})),r.forEach((t=>{let n;if(t.from!==mc){if(!a.dataset.hasColumn(t.from))return;if(n=a.dataset.column(t.from),"number"!==n.type())return}e.selectAll("div.bc-bar-bg").filter((function(e){return"number"==typeof(t.from===mc?0:e[n.name()])})).append("div.bc-bar-inner.dw-rect.bc-bar-overlay").datum((e=>u(t,"value",e,[n]))).style("width","2px").style("top","-1px").style("height","calc(100% + 2px)").style("background",c(xc(t,a.theme())))})),Ac(e.selectAll(".bc-bar-overlay"),o,l)}({$bars:ne,rangeOverlays:lt,valueOverlays:it,barScale:Vt,barThickness:vt,vis:e,rtl:d}),re.selectAll("div.bc-bar-label").each((function(t){if(k||"dot-plot"===m)return;if(dt)return void dc(oe,m,o,d);const e=at(this),n=this.querySelector("span"),r=l.colors.background,i=ye(r).l,a=t._color,s=U&&!E.indexOf(t.column),c=o.getElementBounds(n).width+gt,u=o.getElementBounds(this.parentNode),f=u.width,b=o.getElementBounds(this.parentNode.parentNode),y={left:u.left-b.left,right:b.right-u.right},v=at(this.parentNode.parentNode).selectAll(".bc-bar-overlay").nodes(),w=["right","left"];let x=nt;[s,d,t.value<0].filter(Boolean).forEach((()=>{w.reverse(),x="left"===x?"right":"left"}));let M=c+gt<=f,A=!M&&w.find((t=>y[t]>=c+gt)),T=ye(p(a)).l<xt,_=!1,O=0;if(v.length){const t=Kp({overlays:v,barData:{bbox:u,barbgBbox:b,color:a},labelData:{width:c-gt,padding:gt},labelColor:getComputedStyle(n).color,outsidePositions:w,getElementBounds:o.getElementBounds,themeBackground:r,labelAlign:x,invertLuminance:xt,cm:p,chroma:h});t&&({requireInvert:T,inside:M,outsidePosition:A,buffer:_,labelOffset:O}=t)}if(e.classed("inverted",M&&T).classed("inside",!A).classed("buffer",_).classed("align-".concat(x),!A&&"bars-stacked"!==m).classed("hidden","bars-stacked"===m&&!M),M)e.style("margin-".concat(x),"".concat(O,"px"));else if(A){const t=A===g.left?-1*(c+gt+O):f+O;e.style("margin-".concat(g.left),"".concat(t,"px"))}else{(t.value<0&&!s||t.value>=0&&s)&&e.style("margin-".concat(g.left),"".concat(-c,"px"));const n=T!==i<xt;e.classed("outline",n).classed("inverted",n||wt)}}));var de=Math.min.apply(Math,qt)<0;if("bars-grouped"!==m&&"bars-stacked"!==m||"hover"!==_||!T||re.selectAll("div.bc-bar-label").classed("hidden",!0),(dt||"after"===Bt||k)&&(Ec({$chart:Tt,mode:m,barSpace:i[0]-ue,barScale:Vt,directLabels:P,chart:o,rtl:d}),(dt||"after"===Bt)&&dc(oe,m,o,d)),J||(ct||de)&&"bars-split"!==m&&!B){let t={};Tt.selectAll("div.bc-groups").classed("grid",m.includes("bars")&&"bars-split"!==m);const n="before"===Bt?te.select(".bc-bar-total.before").node().offsetWidth:0,r=100*(ue+n)/i[0]+"%";if(te.each((function(t){const e=at(this).selectAll(".bc-bars").nodes()[0];if(t._w=o.getElementBounds(e).width-n,"bars"===m||"bars-stacked"===m||"bars-grouped"===m||"bars-bullet"===m){const e=at(this).selectAll(".bc-bar-bg"),n=e.size(),r=o.getElementBounds(this).top,i=o.getElementBounds(e.nodes()[0]).top,a=o.getElementBounds(e.nodes()[n-1]).bottom;t._y=i-r-ut+"px",t._h=Math.abs(a-i)+2*ut+"px"}else t._h=o.getElementBounds(this).height+"px",t._y=0})).insert("div.bc-grid.above",".bc-row").parent().insert("div.bc-grid.below",".bc-row"),te.each((function(i){const a=Ft?"right":"left";at(this).selectAll(".bc-grid").style("height",Ni("_h")).style("top",Ni("_y")).style("width","calc(".concat(he," - ").concat(n,"px)")).style(g[a],r).insert("svg.grid-container").append("g.grid");const s={visId:e.id,belowChart:at(this).select(".bc-grid.below g.grid"),aboveChart:at(this).select(".bc-grid.above g.grid"),plotSize:[i._w,parseFloat(i._h)],theme:l,emotion:o.emotion,rtl:d,numeral:c,chroma:h},u=e.get("value-label-format","0,0.[00]"),f=e.get("axis-label-format"),p=$?"0,0.[00]%":f||u;t=qm({...s,barScale:Vt,scaleType:b?"date":"number",fitLabels:[Ft?d?"last":"first":d?"first":"last"],justBaseline:!J&&(de||ct),colFmt:e.chart().get("metadata.data.column-format",{})[E[0]]||{},tickPosition:rt,tickLabelFormat:p,xTicks:Mt,stackPercentages:$}),Vm({...s,yTicks:at(this).selectAll(".bc-bars").nodes().map((t=>t.offsetTop))})})),J){const e=t[rt]-2;Qt.filter(((t,e)=>e>0)).style("margin-top",ft+e+"px"),Tt.selectAll("div.bc-groups").style("padding-".concat(rt),e+"px").selectAll(".bc-group-title").style(rt,"top"===rt?-e+"px":null)}}if(ot){var ge;ge="bars"===m?e.get("overlays",[]).filter((t=>{let{from:n,invisible:r,labelDirectly:o,type:i}=t;if(n!==mc){if(!e.dataset.hasColumn(n))return!1;if("number"!==e.dataset.column(n).type())return!1}return!r&&"value"===i&&o})).map((t=>{const n=e.dataset.column(t.from),r=t.from===mc?0:St[0].values[0][t.from];return{label:t.title?t.title:Yp(e,t.from,mc),value:r,x:Vt(r),column:n,color:xc(t,e.theme())}})).sort(((t,e)=>t.x-e.x)):E.map((function(t){return{label:a.column(t).title(),value:St[0].values[0][t],x:Vt(St[0].values[0][t]),column:t}})).sort(Si("x"));const t="bars"===m?Number(he.replace("%",""))/100*i[0]:i[0];var me=2===ge.length?Math.abs(ge[0].x-ge[1].x)/100*t:1/0;ge.forEach((function(e,n){e.align=1===ge.length||2===ge.length&&me>10010?"center":0===n?"right":n===ge.length-1?"left":"center",e.width="100px",e.left="center"===e.align?e.x-50/t*100+"%":"left"===e.align?e.x+"%":"auto",e.right="center"===e.align||"left"===e.align?"auto":100-e.x+"%",e.class="bc-direct-key-col label align-".concat(e.align),Xt.series.includes(e.column)&&(e.class+=" bc-lbl-highlight")}));var be=Tt.select(".bc-group .bc-group-content"),ve=0,we=be.append("div.bc-direct-key").style("width",he).style(g.left,fe),xe=we.selectAll("div.bc-direct-key-col").data(ge).enter().append("div.bc-direct-key-col.label").style("left",Ni("left")).style("right",Ni("right")).style("width",Ni("width")).style("text-align",Ni("align")).attr("class",Ni("class")).attr("data-column",Ni("column")).attr("data-row",-1),ke=xe.append("span").html(Ni("label"));"range-plot"===m&&(T||e.get("range-ends.enabled"))&&ke.style("color",(t=>sc(l,_e(t)))),"bars"===m&&ke.style("color",(t=>{const e=Jt(p(t.color)).hex(),n=Tp(e);return wt&&n<30||!wt&&n>70?void 0:e})),"bars"!==m&&xe.append("i.bc-vline.connecting-line.export-text").html("|"),xe.each((function(){ve=Math.max(ve,10+o.getElementBounds(this).height)})),Tt.select(".bc-group-title:first-child").style("margin-bottom",ve+"px"),we.style("top",("bars"===m?8:5)-ve+"px"),xe.style("bottom",-(ve-10)+"px"),be.style("margin-top",x?"0px":ve+"px"),xe.select("span").style("position","relative").style("left",(function(){const{left:t,width:e}=o.getElementBounds(this),n=t-10;if(n<0)return-1*n+"px";const r=i[0]-10-t-e;return r<0?r+"px":0}))}"bottom"===X&&V&&Tt.select("div.bc-color-key").each((function(){this.parentNode.append(this)}));const Me=e.get("show-color-key",!1),Ae=function(){const t=e.colorKeys();switch(m){case"bars":{let n=Ne({colorKeys:t,useAutoColor:!1});n=function(t,e){const n=e.get("color-category.excludeFromKey",[]);return t.filter((t=>!n.includes(t.key)))}(n,e);const r=e.axes(!0).bars.title();e.get("overlays",[]).filter((t=>!(t.invisible||"value"===t.type&&t.labelDirectly))).forEach((t=>{const r={label:t.title?t.title:"value"===t.type?Yp(e,t.from,mc):"".concat(Yp(e,t.from,mc)," - ").concat(Yp(e,t.to,mc)),color:p(xc(t,e.theme())),width:"value"===t.type?"2px":void 0,pattern:"range"===t.type&&"solid"!==t.pattern?{type:t.pattern,strokeWidth:uc(l,"vis.d3-bars.pattern.strokeWidth",2),lineGap:uc(l,"vis.d3-bars.pattern.lineGap",2)}:void 0},o=n.filter((t=>{let e=!0;for(const i in r)n=r[i],o=t[i],gs(n,o)||(e=!1);var n,o;return e})).length;o||n.push(r)}));const o=Te("base-color",n);return n.length?n:[{label:r,color:p(o)}]}case"bars-split":return Ne({colorKeys:t,useAutoColor:!M,getDefaultLabel:M?$i:Oe});case"bars-stacked":case"bars-grouped":case"dot-plot":return Ne({colorKeys:t,useAutoColor:!0,getDefaultLabel:Oe});case"bars-bullet":return[{color:p(Te("base-color")),label:e.axes(!0).bars.title()},{color:p(Te("base-color2")),label:e.axes(!0).bars2.title()}];case"arrow-plot":{const n=Ne({colorKeys:t,useAutoColor:!1}),r=e.axes(!0).labels.title(),o=Te("base-color",n);return n.length?n:[{label:r,color:p(o)}]}case"range-plot":return[]}}();let Ee;if(Me&&Ae.length){const t=Tt.append("div.legend-container"),n=uc(l,"vis.base.legend.position","top"),r=uc(l,"vis.base.legend.swatch",{}),i=r.borderRadius||0,a=["dot-plot","range-plot"].includes(m)||"50%"===i;if(r.size||Mp(l,"vis.base.legend.swatch.size",14),a){const t=r.size||r.height||14;Mp(l,"vis.base.legend.swatch.width",t),Mp(l,"vis.base.legend.swatch.height",t),Mp(l,"vis.base.legend.swatch.borderRadius","50%")}Ee=Ei.categoryLegendWrapper(t.node(),{swatches:Ae,theme:l,horizontal:!0,rtl:d,emotion:o.emotion,chroma:e.libraries().chroma}),"top"===n&&t.lower(),"bars-stacked"!==m&&"bars-grouped"!==m&&"dot-plot"!==m||(Ee.on("mouseenter",(t=>{let{key:e}=t;return Wt.set(e)})),Ee.on("mouseleave",Wt.clear))}if(u.fitchart){Tt.select("div.fitchart-spacer").remove();const t=o.getElementBounds(Tt.node()).height,e=o.getMaxChartHeight()-t;e>0&&Tt.append("div.fitchart-spacer").style("height",e+"px")}function Te(t,n){return Ko(l,{selectedColor:e.get(t,n)})()}function _e(t){const e=t.column===E[0]?"base-color":"base-color2";return p(Te(e,0))}function Oe(t){if(e.dataset.hasColumn(t))return e.dataset.column(t).title()}function Ne(t){let{colorKeys:n,useAutoColor:r,getDefaultLabel:o=$i}=t;const i=e.get("color-category",{map:{}});let a=uc(i,"categoryOrder",[...n]).filter((t=>n.includes(t)));a.length&&n.length===a.length||(a=[...n]);const l=n.reduce(((t,e,n)=>(r&&(t[e]=ie(e,n)),t)),{});return function(t,e){return t&&t.length?ac(t,Gs(e)):[]}(Object.entries({...K?i.map:{},...l}).map((t=>{let[e,r]=t;const l=p(function(t,e){return"number"==typeof t?e[t%e.length]:t}(r,s)),c=uc(i,"categoryLabels",{})[e]||o(e)||e,u=a.indexOf(e),f=n.includes(e);return(l||0===l)&&f?{color:l,label:c,key:e,order:u}:void 0})).filter((t=>t)).sort(((t,e)=>t.order-e.order)),(t=>"".concat(t.color,"---").concat(t.label)))}e.renderingComplete()},init:function(t){this.svg=t.node(),this.__canvas={w:+t.attr("width"),h:+t.attr("height"),lpad:10,rpad:10}},_svgCanvas:function(){return this.svg},colorKeys:function(){const t=this;return db({axes:t.axes(),dataset:t.dataset,metadata:t.chart().getMetadata()})},keys:function(){var t=this,e=t.axes(!0);if(this.__keyLabelMap||(this.__keyLabelMap={}),e.labels){const{numeral:r}=t.libraries(),o=zp(r,e.labels,this.chart().getMetadata(),this.axes().labels);var n=[];return e.labels.each((function(r,i){const a=String(o(r));t.__keyLabelMap[a]=dw.utils.purifyHtml(e.labels.raw(i)||""),n.push(a)})),lc(n)}return[]},keyLabel:function(t){return this.type().includes("bars")&&this.__keyLabelMap[t]||t},getCenter:function(){return[1,2]}}}),...dw.visualization.hasVisHash?["6de0bbf2"]:[]),dw.visualization.register("d3-bars-grouped","d3-bars",(()=>({type:function(){return"bars-grouped"},colorKeys:function(){return this.axes()["bars-multiple"]}})),...dw.visualization.hasVisHash?["6de0bbf2"]:[])}();

